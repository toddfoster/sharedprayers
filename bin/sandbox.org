#+TITLE: Sandbox
#+PROPERTY: header-args :results output

This file is intended to be used within emacs/org-mode to provide a literate-ish collection of one-off utilities and exercises with sharedprayers data.

A lot of these scripts were trial runs or ideas eventually abandoned. Some were for checking for errors and gaining confidence in my data. Some produced data that endures in the sharedprayers or even contributed back to others (e.g., venite.app).

* Tasks
** SOON
*** TODO lff2018.json
*** TODO Reference page - list of Sundays, lff with slugs & titles (& dates for lff)
** SOMEDAY
*** Re-parse lectionary, intelligently compute parentheses for the opinionated track (I like to read all the text!)
i.e., `1 Samuel 8:4-11(12-15), 16-20(11:14-15)` should become `1 Samuel 8.4-20, 11.14-15`
* Reference
- Use C-c ' within the code block to edit
- Use C-c C-p within the editor to run it
- [[/home/todd/Documents/bookshelf/tech/python/pythonreference.py][Python Quick Reference]]
- [[https://docs.python.org/3.9/][Python Doc's]] ([[/home/todd/Documents/bookshelf/tech/python/python-3.9.7-docs-html/index.html][local-html]])
- [[/home/todd/Documents/bookshelf/tech/python/learnPythonInYMinutes.py][Lean Python in y Minutes]]
- [[https://linuxhint.com/python_scripts_beginners_guide/][Python examples]]
- In interactive python, =dir(cmd)= is a great boon!
** Configuration
- [[https://linuxhint.com/configuring_emacs_python/][Configure emacs/python]]
- [[https://orgmode.org/worg/org-contrib/babel/intro.html][Introduction to Babel]]
** Use python3
#+BEGIN_SRC bash
python3 --version
#+END_SRC

#+RESULTS:
: Python 3.8.10

#+BEGIN_SRC python :python python3 :results output
  print ("Hello world!")
#+END_SRC

#+RESULTS:
: Hello world!

Hard-coded python3 for babel in config.

Added property to top of this file to always produce results output.

#+BEGIN_SRC python
    import sys
    print (sys.version)
#+END_SRC

#+RESULTS:
: 3.8.10 (default, Nov 26 2021, 20:14:08)
: [GCC 9.3.0]

** Cmd line arguments - doesn't work in babel/python?

#+BEGIN_SRC bash :cmdline a b c 42
  echo "$*"
  echo "$0"
  echo "$1"
  echo "$2"
  echo "$3"
  echo "$4"
#+END_SRC

#+RESULTS:
| a                                  | b | c | 42 |
| /tmp/babel-MXwtf2/sh-script-sSFwWc |   |   |    |
| a                                  |   |   |    |
| b                                  |   |   |    |
| c                                  |   |   |    |
| 42                                 |   |   |    |

#+BEGIN_SRC python :cmdline a b c
  import sys
  if __name__ == "__main__":
      print(f"Arguments count: {len(sys.argv)}")
      for i, arg in enumerate(sys.argv):
          print(f"Argument {i:>6}: {arg}")
#+END_SRC

#+RESULTS:
: Arguments count: 1
: Argument      0:

** Traverse a text file
#+BEGIN_SRC python
  with open("collects.csv", "r") as f:
      for line in f:
          if (line[1:7]=="advent"):
              print (line[1:8])
#+END_SRC

#+RESULTS:
: advent1
: advent2
: advent3
: advent4

** Access odf file

#+BEGIN_SRC python
  from pyexcel_ods3 import get_data
  data = get_data("testods.ods")
  print(data)
  print("----------")
  import json
  for sheet in data:
    print("Sheet: "+ sheet)
  print("----------")
  for sheet in data:
    print (data[sheet])
  print("----------")
  for sheet in data:
    print(sheet)
    print("rows:" + str(len(data[sheet])))
    for row in range(0, 3):
      print("cols:" + str(len(data[sheet][row])))
      print(data[sheet][row][2])
  print("----------")

#+END_SRC

#+RESULTS:
#+begin_example
OrderedDict([('Sheet1', [['Sheet 1', '', 'a'], ['', '', 'b'], ['', '', 'c'], ['', '', 'd']]), ('Sheet2', [['Sheet 2', '', 1], ['', '', 2], ['', '', 3], ['', '', 4]]), ('Sheet3', [['Sheet 3', '', 'uno'], ['', '', 'dos'], ['a', '', 'tres'], ['b', '', 'cuatro'], ['c']])])
----------
Sheet: Sheet1
Sheet: Sheet2
Sheet: Sheet3
----------
[['Sheet 1', '', 'a'], ['', '', 'b'], ['', '', 'c'], ['', '', 'd']]
[['Sheet 2', '', 1], ['', '', 2], ['', '', 3], ['', '', 4]]
[['Sheet 3', '', 'uno'], ['', '', 'dos'], ['a', '', 'tres'], ['b', '', 'cuatro'], ['c']]
----------
Sheet1
rows:4
cols:3
a
cols:3
b
cols:3
c
Sheet2
rows:4
cols:3
1
cols:3
2
cols:3
3
Sheet3
rows:5
cols:3
uno
cols:3
dos
cols:3
tres
----------
#+end_example
** Use the csv library
#+BEGIN_SRC python
  import csv
  with open("collects.csv", "r") as f:
      reader = csv.reader(f)
      for row in reader:
          if len(row[0])>0:
              print(row[0])
#+END_SRC

#+RESULTS:
#+begin_example
Code
advent1
advent2
advent3
advent4
nativity1
nativity2
nativity3
christmas1
holyname
christmas2
epiphany
epiphany1
epiphany2
epiphany3
epiphany4
presentation
epiphany5
epiphany6
epiphany7
epiphany8
epiphanylast
ashwednesday
lent1
lent2
lent3
lent4
lent5
annunciation
palmsunday
holymonday
holytuesday
holywednesday
maundythursday
goodfriday
holysaturday
vigil
easter
easterevening
eastermonday
eastertuesday
easterwednesday
easterthursday
easterfriday
eastersaturday
easter2
easter3
easter4
easter5
easter6
ascension
ascension-grant
easter7
pentecost-ogod
pentecost
trinity
visitation
proper1
proper2
proper3
proper4
proper5
proper6
proper7
proper8
proper9
proper10
proper11
proper12
proper13
proper14
proper15
proper16
proper17
proper18
proper19
holycross
proper20
proper21
proper22
proper23
thanksgivingcanadian
proper24
proper25
proper26
allsaints
proper27
proper28
proper29
thanksgivingusa
#+end_example

** Books of the Bible
Genesis
Exodus
Leviticus
Numbers
Deuteronomy
Joshua
Judges
Ruth
1 Samuel
2 Samuel
1 Kings
2 Kings
1 Chronicles
2 Chronicles
Ezra
Esther
Job
Psalms
Proverbs
Ecclesiastes
Song of Solomon
Isaiah
Jeremiah
Lamentations
Ezekiel
Daniel
Hosea
Joel
Amos
Obadiah
Jonah
Micah
Nahum
Habakkuk
Zephaniah
Haggai
Zechariah
Malachi
Tobit
Judith
Additions to Esther
Wisdom of Solomon
Sirach (Ecclesiasticus)
Baruch
1 Esdras
2 Esdras
Letter of Jeremiah
Prayer of Azariah and the Song of the Three Jews
Susanna
Bel and the Dragon
1 Maccabees
2 Maccabees
3 Maccabees
4 Maccabees
Prayer of Manasseh
Matthew
Mark
Luke
John
Acts of the Apostles
Romans
1 Corinthians
2 Corinthians
Galatians
Ephesians
Philippians
Colossians
1 Thessalonians
2 Thessalonians
1 Timothy
2 Timothy
Titus
Philemon
Hebrews
James
1 Peter
2 Peter
1 John
2 John
3 John
Jude
Revelation

** Archive
*** Produce Psalms in =readings/pss/plaintext=
Format:
  - Blank line between Psalms/parts
  - # Psalm number (filename)
  - ## Part of Psalm or letter for Ps 119 (bold)
  - ### Latin title (italic)
  - Add "Part" to filename for those that contain the keyword
  - Psalm119: add a \n for each new letter heading

#+BEGIN_SRC python
  import os
  targetdir = "readings/pss/plaintext/"
  os.makedirs(targetdir, exist_ok=True)

  countLines = 0
  countPsalms = 0
  previousLine = ""
  with open("psalter.txt", "r") as f:
      line = f.readline().rstrip()
      while line:
          if (line[0:2] != "# "):
              print ("Unexpected input: " + line)
              break;
          # New Psalm
          countPsalms += 1
          countLines += 2
          title = line[2:]
          # Check for Part I/Part II
          line = f.readline().rstrip()
          countLines += 1
          if (title != "119" and line[0:3] == "## "):
              title = title + line[3:].replace (" ", "")
          # Open new file for writing
          with open (targetdir + "/" + title, "w") as t:
              while (len(line)>0):
                  if (line[0:3] == "## "):
                      if (title == "119" and line != "## Aleph"):
                          t.write("\n")
                      t.write(line[3:] + "\n")
                  elif (line[0:4] == "### "):
                      t.write(line[4:] + "\n")
                  else:
                      t.write(line + "\n")
                  line = f.readline().rstrip()
                  countLines += 1
          line = f.readline().rstrip()
  print ("Wrote " + str(countLines) + " lines in " + str(countPsalms) + " files.")
#+END_SRC

#+RESULTS:
: Wrote 6328 lines in 157files.
*** Produce Psalms in =readings/pss/plain=
Format:
  - Blank line between Psalms/parts
  - # Psalm number (filename)
  - ## Part of Psalm or letter for Ps 119 (bold)
  - ### Latin title (italic)
  - Add "Part" to filename for those that contain the keyword
  - Psalm119: add a \n for each new letter heading

#+BEGIN_SRC python
  import os
  targetdir = "readings/pss/plain/"
  os.makedirs(targetdir, exist_ok=True)

  countLines = 0
  countPsalms = 0
  previousLine = ""
  with open("psalter.txt", "r") as f:
      line = f.readline().rstrip()
      while line:
          if (line[0:2] != "# "):
              print ("Unexpected input: " + line)
              break;
          # New Psalm
          countPsalms += 1
          countLines += 2
          title = line[2:]
          # Check for Part I/Part II
          line = f.readline().rstrip()
          countLines += 1
          if (title != "119" and line[0:3] == "## "):
              title = title + line[3:].replace (" ", "")
          # Open new file for writing
          with open (targetdir + "/" + title, "w") as t:
              while (len(line)>0):
                  if (line[0:3] == "## "):
                      if (title == "119" and line != "## Aleph"):
                          t.write("\n")
                      t.write("**" + line[3:] + "**" + "\n")
                  elif (line[0:4] == "### "):
                      t.write("_" + line[4:] + "_" + "\n")
                  else:
                      t.write(line + "\n")
                  line = f.readline().rstrip()
                  countLines += 1
          line = f.readline().rstrip()
  print ("Wrote " + str(countLines) + " lines in " + str(countPsalms) + " files.")
#+END_SRC

#+RESULTS:
: Wrote 6328 lines in 157files.
*** Produce Psalms in =readings/pss/responsively=
Format:
  - Blank line between Psalms/parts
  - # Psalm number (filename)
  - ## Part of Psalm or letter for Ps 119 (bold)
  - ### Latin title (italic)
  - Add "Part" to filename for those that contain the keyword
  - Psalm119: add a \n for each new letter heading

#+BEGIN_SRC python
  import os
  targetdir = "readings/pss/responsively/"
  os.makedirs(targetdir, exist_ok=True)

  countLines = 1
  countPsalms = 0
  with open("psalter.txt", "r") as f:
      line = f.readline().rstrip()
      while line:
          if (line[0:2] != "# "):
              print ("Unexpected input: " + line)
              break;
          countPsalms += 1
          title = line[2:]

          # Check for Part I/Part II
          line = f.readline().rstrip()
          countLines += 1
          if (title != "119" and line[0:3] == "## "):
              title = title + line[3:].replace (" ", "")

          # Open new file for writing
          with open (targetdir + "/" + title, "w") as t:
              newPsalm = True
              responseOpen = False
              while (len(line)>0):
                  if not newPsalm:
                      t.write ("\n")
                  if (line[0:3] == "## "): # Part or Letter
                      if (title == "119"):
                          if (newPsalm):
                            t.write("_" + line[3:] + "_\n")
                          else:
                              t.write ("\n_" + line[3:] + "_")
                      else:
                          t.write("_" + line[3:] + "_\n")
                      line = f.readline().rstrip()
                  elif (line[0:4] == "### "): # latin title
                      if (title == "119"):
                          t.write("_" + line[4:] + "_\n")
                      else:
                          t.write("_" + line[4:] + "_\n\n")
                      line = f.readline().rstrip()
                  else:
                      if (line[0].isdigit()):
                          responseOpen = not newPsalm and not responseOpen
                          newPsalm = False
                          if responseOpen:
                              t.write ("> **" + line)
                          else:
                              t.write ("> " + line)
                      else:
                          t.write (line)
                      line = f.readline().rstrip()
                      countLines += 1
                      if (responseOpen and (len(line) == 0 or line[0].isdigit())):
                          t.write("**\n") # two \n's on purpose
              line = f.readline().rstrip() # Drew a blank: try for another line
  print ("Wrote " + str(countLines) + " lines in " + str(countPsalms) + " files.")
#+END_SRC

#+RESULTS:
: Wrote 5801 lines in 157 files.
*** Dump collects into directory =collects=
#+BEGIN_SRC python
  import csv, os
  targetdir = "collects"
  os.makedirs(targetdir, exist_ok=True)
  count=0
  with open("collects.csv", "r") as f:
      reader = csv.reader(f)
      for row in reader:
          if row[0] == "Code": continue # Skip header row
          if len(row[0])<3: continue   # Skip uncoded or badly coded rows
          count+=1
          with open (targetdir + "/" + row[0], "w") as t:
            t.write(row[1])
  print ("Wrote " + str(count) + " records")
#+END_SRC

#+RESULTS:
: Wrote 118 records

*** Aborted: Produce Bible References for Yr B, Track 1 in =readings/refs/yearb/=
ISSUE: Already done by a different means. Not yet published into sharedprayers. Abandoning this effort.
Issues:
  - "Ecclesiaticus" collides with Ecclesiastes; use "Sirach" instead
  - someday track to could be added with alternate filenames
Create a directory for each week-code.
Name files =lesson1=, =lesson2=, =psalm=, =gospel=

#+BEGIN_SRC python
  import csv, os
  srcfile = "src/refs-ybt1.csv"
  targetdir = "output/readings/refs/yearb/"
  codeColumn = 1
  psalmColumn = 3
  lesson1Column= 4
  lesson2Column = 5
  gospelColumn = 6

  os.makedirs(targetdir, exist_ok=True)

  count=0
  with open(srcfile, "r") as f:
      reader = csv.reader(f)
      next(reader) # skip header line
      for row in reader:
          if row[codeColumn] == "": continue # Skip unused rows
          code = row[codeColumn].strip()
          gospel = ""
          if (row[gospelColumn]
          print (code[gospelColumn].strip())
          count+=1
  print ("Wrote " + str(count) + " records.")
#+END_SRC

#+RESULTS:

          with open (targetdir + "/" + code, "w") as t:
              t.write(row[introColumn])
*** Get a single Bible text
Source = [[http://bible.oremus.org/api.html][oremus api]]
=GET http://bible.oremus.org/?version=NRSVAE&vnum=NO&fnote=NO&show_ref=NO&headings=no&omithidden=YES&passage=Mark%201.1-11
#+BEGIN_SRC python
  import os, urllib.request, urllib.parse, re
  from bs4 import BeautifulSoup

  requestSlug = "http://bible.oremus.org/?version=NRSVAE&vnum=NO&fnote=NO&show_ref=NO&headings=NO&omithidden=YES&passage={0}"

  contents = urllib.request.urlopen(requestSlug.format(urllib.parse.quote_plus("Ex 20.1-17"))).read().decode('utf-8')

  # Fix up the contents items I want to handle before BeautifulSoup
  # contents = contents.replace('<br class="kk"/>', "BREAK")
  contents = contents.replace("<span class=thinspace> </span>", "")

  soup = BeautifulSoup(contents, 'html.parser')

  bibletext = soup.find('div', {'class': 'bibletext'})
  for br in soup.find_all("br"):
      br.replace_with("BREAK")
  print("bibletext")
  print(bibletext)
  result = ''
  for line in bibletext.findAll("p"):
     modline = line.text
     modline = re.sub("\n", " ", modline)
     modline = re.sub("  ", " ", modline)
     modline = re.sub(" ", " ", modline) # clean out non-breaking spaces
     modline = re.sub("BREAK", "\n> ", modline) # preserve coded line breaks
     if (len(modline) - modline.count(' ') > 1):
         result += modline.rstrip().rstrip('>').rstrip() + "\n\n"
  result.replace("BREAK", "\n")
  print ("FINISHED RESULT:")
  print (result)


  #+END_SRC

* 2020-2021
** Generate lectionary data
*** =/proper/collect=, =preface=, =title= for Sundays and Holy Days
Sundays & Holy Days taken from Calendar (BCP 15ff)

Input file columns:
0: Order (ignored)
1: code (based on title)
2: Collect (Contemporary: BCP 211ff.)
3: Preface (BCP 211ff.)
4: Title (BCP 31ff.)

Dump multiple columns into directory =proper=
Each column gets its own sub-directory. Each entry is named with the week-code. e.g., =proper/collect/epiphany3=

Most Holy Days have the same readings from year to year. All Saints and Thanksgiving are the exceptions. Therefore these get listead as allsaintsa, allsaintsb, allsaintsc, thanksgivinga, etc.


#+BEGIN_SRC python
  import csv, os
  inputfile = "src/collects.csv"
  targetdir = "output/proper/"
  codeColumn = 1
  fields = {
      "collect": 2,
      "preface": 3,
      "title": 4
  }

  for dir in fields.keys():
    os.makedirs(targetdir + dir, exist_ok=True)

  count=0
  with open(inputfile, "r") as f:
      reader = csv.reader(f)
      next(reader) # skip header line
      for row in reader:
          if row[0] == "999": continue # Skip unused rows
          code = row[1]
          if len(code)<3: continue   # Skip uncoded or badly coded rows
          count+=1
          for dir, column in fields.items():
              with open (targetdir + dir + "/" + code, "w") as t:
                  t.write(row[column])
  print ("Wrote " + str(count) + " records for each of " + str(len(fields)) + " fields.")
#+END_SRC

#+RESULTS:
: Wrote 119 records for each of 3 fields.
*** How to introduce each book of Bible: =/readings/intro=
Issue:
  - Philippians and Philemon require five characters to distinguish
  - Job 1 and Job 2 should use the same entry
 This sounds like a job for a regular expression!
 I like =^..[a-z]{1,3}= but the online testers don't catch the leading numerals. Maybe the fault of the javascript implementation?
Each file is named with the first five non-space characters, in lower case.

#+BEGIN_SRC python
  import csv, os
  targetdir = "output/readings/intro/"
  codeColumn = 1
  introColumn = 2

  os.makedirs(targetdir, exist_ok=True)

  count=0
  with open("src/booksofbible.csv", "r") as f:
      reader = csv.reader(f)
      next(reader) # skip header line
      for row in reader:
          if row[0] == "": continue # Skip unused rows
          code = row[1].lower().replace(" ","")[0:5]
          count+=1
          with open (targetdir + "/" + code, "w") as t:
              t.write(row[introColumn])
  print ("Wrote " + str(count) + " records.")
#+END_SRC

#+RESULTS:
: Wrote 82 records.

*** Psalms: =/readings/pss/plaintext=, =markdown=, =responsively=
Load each Psalm into memory at once, then format & output as needed
Format of input file:
  - Blank line between Psalms
  - # Psalm number (filename)
  - ## Part of Psalm or letter for Ps 119 (bold)
  - ### Latin title (italic)
  - When Parts/titles occur mid-Psalm, give an extra \n above it

#+BEGIN_SRC python
  import os
  targetdir_plaintext = "output/readings/pss/plaintext/"
  targetdir_markdown  = "output/readings/pss/markdown/"
  targetdir_responsively = "output/readings/pss/responsively/"
  os.makedirs(targetdir_plaintext, exist_ok=True)
  os.makedirs(targetdir_markdown, exist_ok=True)
  os.makedirs(targetdir_responsively, exist_ok=True)

  countPsalms = 0
  countLines = 0
  countFiles = 0
  with open("src/psalter.txt", "r") as f:
      line = f.readline().rstrip()
      countLines += 1
      while len(line) > 1:
          if (line[0:2] != "# "):
              print ("Unexpected input: " + line)
              break;
          countPsalms += 1
          title = line[2:]

          # Read in entire Psalm
          psalm = []
          line = f.readline()
          countLines += 1
          while len(line) > 1:
              psalm.append(line.rstrip())
              line = f.readline()
              countLines += 1

          # Output plaintext Psalm
          atTheBeginning = 2
          with open (targetdir_plaintext + "/" + title, "w") as t:
              countFiles += 1
              for l in psalm:
                  if (l[0:3] == "## "):
                      if (atTheBeginning <= 0 and l[0] == "#"):
                          t.write("\n")
                      t.write(l[3:] + "\n")
                  elif (l[0:4] == "### "):
                      t.write(l[4:] + "\n")
                  else:
                      t.write(l + "\n")
                  atTheBeginning -= 1

          # Output markdown Psalm
          atTheBeginning = 2
          with open (targetdir_markdown + "/" + title, "w") as t:
              countFiles += 1
              for l in psalm:
                  if (l[0:3] == "## "):
                      if (atTheBeginning <= 0 and l[0] == "#"):
                          t.write("\n")
                      t.write("**" + l[3:] + "**\n")
                  elif (l[0:4] == "### "):
                      t.write("_" + l[4:] + "_\n\n")
                  else:
                      l = l.replace(" *", " \\*")
                      t.write("> " + l + "  \n")
                  atTheBeginning -= 1

          # Output responsive Psalm
          foundAVerse = False
          isEven = False
          with open (targetdir_responsively + "/" + title, "w") as t:
              countFiles += 1
              for l in psalm:
                  if (foundAVerse):
                      # If not the beginnig of the Psalm, finish off the last line
                      if (isEven and (l[0].isdigit() or l[0] == "#")):
                          t.write("**  \n") # extra line between pairs
                      t.write("  \n")

                  # Process the line
                  if (l[0:3] == "## "):
                      t.write("**" + l[3:] + "**\n")
                      isEven = False
                      foundAVerse = False
                  elif (l[0:4] == "### "):
                      t.write("_" + l[4:] + "_\n\n")
                      isEven = False
                      foundAVerse = False
                  else:
                      if (l[0].isdigit()):
                          t.write("> ")
                          if (foundAVerse):
                              isEven = not isEven
                          if (isEven):
                              t.write("**")
                          foundAVerse = True
                      l = l.replace(" *", " \\*")
                      t.write(l)
              # If not the beginnig of the Psalm, finish off the last line
              if (isEven):
                  t.write("**")
              t.write("  \n")
          line = f.readline().rstrip()
          countLines += 1
  print ("Wrote " + str(countLines) + " lines in " + str(countFiles) + " files for " + str(countPsalms) + " Psalms.")
#+END_SRC

#+RESULTS:
: Wrote 6060 lines in 450 files for 150 Psalms.

*** Eucharistic Lectionary: =readings/yearb/opinionated=, =track1=, =track2=
**** Parse =src/bcprcl-yearb.txt=
Format:
|-----------------------------|
| week-code                   |
| Psalm                       |
| First Reading               |
| Second Reading              |
| Gospel                      |
| Opt. Track II Psalm         |
| Opt. Track II First Reading |
| Blank Line                  |

***** Test out file format
#+BEGIN_SRC python
  import os
  srcfile = "src/bcprcl-yearb.txt"
  countRecords = 0
  with open(srcfile, "r") as f:
      weekcode = f.readline().rstrip()
      while weekcode:
          # print ("Week found: " + weekcode)
          countRecords += 1
          f.readline().rstrip()
          f.readline().rstrip()
          f.readline().rstrip()
          f.readline().rstrip()
          nextLine = f.readline().rstrip()
          if nextLine:
              altReading = f.readline().rstrip()
              # print ("Track II? "+ nextLine + " - " + altReading)
              f.readline().rstrip()
          weekcode = f.readline().rstrip()
  print ("Found " + str(countRecords) + " records")
#+END_SRC

#+RESULTS:
: Found 85 records
***** Parse out file
#+BEGIN_SRC python
  import os
  import shutil
  srcfile = "src/bcprcl-yearb.txt"
  track1 = "output/readings/yearb/track1/"
  track2 = "output/readings/yearb/track2/"
  opinionated = "output/readings/yearb/opinionated/"
  countRecords = 0
  shutil.rmtree(track1, ignore_errors=True)
  shutil.rmtree(track2, ignore_errors=True)
  shutil.rmtree(opinionated, ignore_errors=True)

  with open(srcfile, "r") as f:
      weekcode = f.readline().rstrip()
      while weekcode:
          countRecords += 1
          psalm = f.readline().rstrip()
          firstReading = f.readline().rstrip()
          secondReading = f.readline().rstrip()
          gospel = f.readline().rstrip()
          nextLine = f.readline().rstrip()
          if nextLine:
              altPsalm = nextLine
              altReading = f.readline().rstrip()
              if f.readline().rstrip():
                  raise Exception("Unexpected input near " + weekcode + ": " + nextLine)

          # Output track 1 readings
          dest = track1 + weekcode + "/"
          os.makedirs(dest, exist_ok=False)
          with open (dest + "psalm", "w") as t:
              t.write(psalm)
          with open (dest + "gospel", "w") as t:
              t.write(gospel)
          if firstReading:
              with open (dest + "firstReading", "w") as t:
                  t.write(firstReading)
          if secondReading:
              with open (dest + "secondReading", "w") as t:
                  t.write(secondReading)
          if nextLine:
              with open (dest + "track2psalm", "w") as t:
                  t.write(altPsalm)
              with open (dest + "track2Reading", "w") as t:
                  t.write(altReading)

          # Output track 2 readings
          dest = track2 + weekcode + "/"
          os.makedirs(dest, exist_ok=False)
          with open (dest + "gospel", "w") as t:
              t.write(gospel)
          if secondReading:
              with open (dest + "secondReading", "w") as t:
                  t.write(secondReading)
          if nextLine:
              with open (dest + "psalm", "w") as t:
                  t.write(altPsalm)
              with open (dest + "firstReading", "w") as t:
                  t.write(altReading)
          else:
              with open (dest + "psalm", "w") as t:
                  t.write(psalm)
              if firstReading:
                  with open (dest + "firstReading", "w") as t:
                      t.write(firstReading)


          # Output opinionated readings
          ## 1: Follow Track 1
          ## 2: if a canticle, choose second (Rite II)
          ## 3: else choose the first option ("or")
          ## 4: Easter, Pentecost: choose Heb reading, use Acts 2nd
          dest = opinionated + weekcode + "/"
          os.makedirs(dest, exist_ok=False)
          # When there are choices to be made ("or"), choose the first
          with open (dest + "psalm", "w") as t:
              if psalm.find("Canticle") == 0:
                  psalm = "Canticle " + psalm.partition(" or ")[2].lstrip()
              t.write(psalm.partition(" or ")[0])
          with open (dest + "gospel", "w") as t:
              t.write(gospel.partition(" or ")[0])
          if firstReading:
              if weekcode.find("resurrection") * weekcode.find("pentecost1") * weekcode.find("pentecost2") == 0:
                  firstReading = firstReading.partition(" or ")[2]
                  secondReading = secondReading.partition(" or ")[2]
              with open (dest + "firstReading", "w") as t:
                  t.write(firstReading.partition(" or ")[0])
          if secondReading:
              with open (dest + "secondReading", "w") as t:
                  t.write(secondReading.partition(" or ")[0])

          # Start next line
          weekcode = f.readline().rstrip()
  print ("Parsed " + str(countRecords) + " records")
#+END_SRC

#+RESULTS:
: Parsed 85 records

*** Eucharistic Lectionary for Holy Days: =readings/holydays/withoptions=, =opinionated=
**** Parse =src/bcprcl-holydays.txt=
Format:
|-----------------------------|
| week-code                   |
| date                        |
| Psalm                       |
| First Reading               |
| Second Reading              |
| Gospel                      |
| Blank Line                  |

**** Test out file format
#+BEGIN_SRC python
  import os
  srcfile = "src/bcprcl-holydays.txt"
  countRecords = 0
  with open(srcfile, "r") as f:
      weekcode = f.readline().rstrip()
      while weekcode:
          # print ("Week found: " + weekcode)
          countRecords += 1
          recdate = f.readline().rstrip() # Date
          recpsalm = f.readline().rstrip() #Psalm
          rectnk = f.readline().rstrip() # Heb Rdg
          recepi = f.readline().rstrip() # Epistle Rdg
          recgos = f.readline().rstrip() # Gospel Rdg
          # print("DEBUG: " + weekcode + ": " + recgos)
          nextLine = f.readline().rstrip() # Blank
          if nextLine:
              raise Exception("Unexpected input near " + weekcode + ": " + nextLine)
          weekcode = f.readline().rstrip()
  print ("Found " + str(countRecords) + " records")
#+END_SRC

#+RESULTS:
: Found 35 records

**** Parse out file
Code below is from parsing YearB - redo for Holy Days
Simplified by creating separate codes for allsaints/thanksgiving years a/b/c: e.g., thanksgivingb
Change Holy Day reading for St. Luke from Ecclesiaticus to Sirach to avoid confusion(?)

#+BEGIN_SRC python
    import os
    srcfile = "src/bcprcl-holydays.txt"
    opinionated = "output/readings/holydays/opinionated/"
    original = "output/readings/holydays/withoptions/"
    countRecords = 0
    with open(srcfile, "r") as f:
        weekcode = f.readline().rstrip()
        while weekcode:
            # print ("Week found: " + weekcode)
            countRecords += 1
            recdate = f.readline().rstrip() # Date
            recpsalm = f.readline().rstrip() #Psalm
            rectnk = f.readline().rstrip() # Heb Rdg
            recepi = f.readline().rstrip() # Epistle Rdg
            recgos = f.readline().rstrip() # Gospel Rdg
            # print("DEBUG: " + weekcode + ": " + recgos)
            nextLine = f.readline().rstrip() # Blank
            if nextLine:
                raise Exception("Unexpected input near " + weekcode + ": " + nextLine)

            # Output records
            # Output original readings (sometimes having options indicated by "or")
            dest = original + weekcode + "/"
            os.makedirs(dest, exist_ok=False)
            with open (dest + "psalm", "w") as t:
                t.write(recpsalm)
            if rectnk:
                with open (dest + "firstReading", "w") as t:
                    t.write(rectnk)
            if recepi:
                with open (dest + "secondReading", "w") as t:
                    t.write(recepi)
            with open (dest + "gospel", "w") as t:
                t.write(recgos)

            # Output opinionated readings
            ## Always choose the first option ("or")
            dest = opinionated + weekcode + "/"
            os.makedirs(dest, exist_ok=False)
            with open (dest + "psalm", "w") as t:
                t.write(recpsalm.partition(" or ")[0])
            if rectnk:
                with open (dest + "firstReading", "w") as t:
                    t.write(rectnk.partition(" or ")[0])
            if recepi:
                with open (dest + "secondReading", "w") as t:
                    t.write(recepi.partition(" or ")[0])
            with open (dest + "gospel", "w") as t:
                t.write(recgos.partition(" or ")[0])

            weekcode = f.readline().rstrip()
    print ("Found " + str(countRecords) + " records")
#+END_SRC

#+RESULTS:
: Found 35 records
*** Get the RCL Bible texts
Next time: get code from below for holy days to check for already downloaded passages &  avoid duplicating downloads (instead of abusing oremus)
Source = [[http://bible.oremus.org/api.html][oremus api]]
=GET http://bible.oremus.org/?version=NRSVAE&vnum=NO&fnote=NO&show_ref=NO&headings=no&omithidden=YES&passage=Mark%201.1-11
#+BEGIN_SRC python
  import os, urllib.request, urllib.parse, re, shutil, time
  from bs4 import BeautifulSoup

  def getText(ref):
      requestSlug = "http://bible.oremus.org/?version=NRSVAE&vnum=NO&fnote=NO&show_ref=NO&headings=NO&omithidden=YES&passage={0}"
      contents = urllib.request.urlopen(requestSlug.format(urllib.parse.quote_plus(ref))).read().decode('utf-8')

      # Fix up the contents items I want to handle before BeautifulSoup
      contents = contents.replace("<span class=thinspace> </span>", "")

      soup = BeautifulSoup(contents, 'html.parser')
      bibletext = soup.find('div', {'class': 'bibletext'})
      for br in soup.find_all("br"):
          br.replace_with("BREAK")
      result = ''
      for line in bibletext.findAll("p"):
         modline = line.text
         modline = re.sub("\n", " ", modline)
         modline = re.sub("  ", " ", modline)
         modline = re.sub(" ", " ", modline) # clean out non-breaking spaces
         modline = re.sub("BREAK", "\n> ", modline) # preserve coded line breaks
         if (len(modline) - modline.count(' ') > 1):
             result += modline.rstrip().rstrip('>').rstrip() + "\n\n"
      result.replace("BREAK", "\n")
      return result.rstrip()

  def textfilename(ref):
      result = re.sub("[-,.:;()\* ]", "", ref)
      return result.casefold()

  srcfile = "src/bcprcl-yearb.txt"
  dest = "output/readings/nrsv/"
  countRecords = 0
  countRefs = 0
  refs = []
  os.makedirs(dest, exist_ok=True)

  with open(srcfile, "r") as f:
      weekcode = f.readline().rstrip()
      while weekcode:
          countRecords += 1
          psalm = f.readline().rstrip()
          firstReading = f.readline().rstrip()
          secondReading = f.readline().rstrip()
          gospel = f.readline().rstrip()
          nextLine = f.readline().rstrip()
          altReading = ""
          if nextLine:
              altPsalm = nextLine
              altReading = f.readline().rstrip()
              if f.readline().rstrip():
                  raise Exception("Unexpected input near " + weekcode + ": " + nextLine)

          # Queue up the readings
          for line in [firstReading, secondReading, gospel, altReading]:
              t = line.partition(" or ")
              if (t[0]) and t[0] not in refs:
                  refs.append(t[0])
              while (t[2]):
                  t = t[2].partition(" or ")
                  if t[0] not in refs:
                      refs.append(t[0])

          countRefs += len(refs)
          while refs:
              r = refs.pop()
              print (textfilename(r) + ": " + r)
              with open (dest + textfilename(r), "w") as t:
                  t.write(getText(r))
          time.sleep(2)

          # Start next line
          weekcode = f.readline().rstrip()
  print ("Parsed " + str(countRecords) + " records with " + str(countRefs) + " scripture references")
#+END_SRC

#+RESULTS:
#+begin_example
mark132437: Mark 13:24-37
1corinthians139: 1 Corinthians 1:3-9
isaiah6419: Isaiah 64:1-9
mark118: Mark 1:1-8
2peter3815a: 2 Peter 3:8-15a
isaiah40111: Isaiah 40:1-11
john1681928: John 1:6-8,19-28
1thessalonians51624: 1 Thessalonians 5:16-24
isaiah6114811: Isaiah 61:1-4,8-11
luke12638: Luke 1:26-38
romans162527: Romans 16:25-27
2samuel711116: 2 Samuel 7:1-11,16
luke21141520: Luke 2:1-14,(15-20)
titus21114: Titus 2:11-14
isaiah927: Isaiah 9:2-7
luke217820: Luke 2:(1-7),8-20
titus347: Titus 3:4-7
isaiah62612: Isaiah 62:6-12
john1114: John 1:1-14
hebrews114512: Hebrews 1:1-4,(5-12)
isaiah52710: Isaiah 52:7-10
john1118: John 1:1-18
galatians32325447: Galatians 3:23-25; 4:4-7
isaiah6110—623: Isaiah 61:10—62:3
luke21521: Luke 2:15-21
philippians2511: Philippians 2:5-11
galatians447: Galatians 4:4-7
numbers62227: Numbers 6:22-27
matthew2112: Matthew 2:1-12
luke24152: Luke 2:41-52
matthew213151923: Matthew 2:13-15,19-23
ephesians1361519a: Ephesians 1:3-6,15-19a
jeremiah31714: Jeremiah 31:7-14
matthew2112: Matthew 2:1-12
ephesians3112: Ephesians 3:1-12
isaiah6016: Isaiah 60:1-6
mark1411: Mark 1:4-11
acts1917: Acts 19:1-7
genesis115: Genesis 1:1-5
john14351: John 1:43-51
1corinthians61220: 1 Corinthians 6:12-20
1samuel31101120: 1 Samuel 3:1-10,(11-20)
mark11420: Mark 1:14-20
1corinthians72931: 1 Corinthians 7:29-31
jonah31510: Jonah 3:1-5,10
mark12128: Mark 1:21-28
1corinthians8113: 1 Corinthians 8:1-13
deuteronomy181520: Deuteronomy 18:15-20
mark12939: Mark 1:29-39
1corinthians91623: 1 Corinthians 9:16-23
isaiah402131: Isaiah 40:21-31
mark14045: Mark 1:40-45
1corinthians92427: 1 Corinthians 9:24-27
2kings5114: 2 Kings 5:1-14
mark2112: Mark 2:1-12
2corinthians11822: 2 Corinthians 1:18-22
isaiah431825: Isaiah 43:18-25
mark21322: Mark 2:13-22
2corinthians316: 2 Corinthians 3:1-6
hosea21420: Hosea 2:14-20
mark929: Mark 9:2-9
2corinthians436: 2 Corinthians 4:3-6
2kings2112: 2 Kings 2:1-12
matthew6161621: Matthew 6:1-6,16-21
2corinthians520b—610: 2 Corinthians 5:20b—6:10
isaiah58112: Isaiah 58:1-12
joel2121217: Joel 2:1-2,12-17
mark1915: Mark 1:9-15
1peter31822: 1 Peter 3:18-22
genesis9817: Genesis 9:8-17
mark83138: Mark 8:31-38
romans41325: Romans 4:13-25
genesis17171516: Genesis 17:1-7,15-16
john21322: John 2:13-22
1corinthians11825: 1 Corinthians 1:18-25
exodus20117: Exodus 20:1-17
john31421: John 3:14-21
ephesians2110: Ephesians 2:1-10
numbers2149: Numbers 21:4-9
john122033: John 12:20-33
hebrews5510: Hebrews 5:5-10
jeremiah313134: Jeremiah 31:31-34
john121216: John 12:12-16
mark11111: Mark 11:1-11
mark151394047: Mark 15:1-39,(40-47)
mark141—1547: Mark 14:1—15:47
philippians2511: Philippians 2:5-11
isaiah5049a: Isaiah 50:4-9a
john12111: John 12:1-11
hebrews91115: Hebrews 9:11-15
isaiah4219: Isaiah 42:1-9
john122036: John 12:20-36
1corinthians11831: 1 Corinthians 1:18-31
isaiah4917: Isaiah 49:1-7
john132132: John 13:21-32
hebrews1213: Hebrews 12:1-3
isaiah5049a: Isaiah 50:4-9a
john1311731b35: John 13:1-17,31b-35
1corinthians112326: 1 Corinthians 11:23-26
exodus12145101114: Exodus 12:1-4,(5-10),11-14
john181—1942: John 18:1—19:42
hebrews41416579: Hebrews 4:14-16; 5:7-9
hebrews101625: Hebrews 10:16-25
isaiah5213—5312: Isaiah 52:13—53:12
john193842: John 19:38-42
matthew275766: Matthew 27:57-66
1peter418: 1 Peter 4:1-8
lamentations3191924: Lamentations 3:1-9,19-24
job14114: Job 14:1-14
mark1618: Mark 16:1-8
john20118: John 20:1-18
1corinthians15111: 1 Corinthians 15:1-11
isaiah2569: Isaiah 25:6-9
acts103443: Acts 10:34-43
mark1618: Mark 16:1-8
john20118: John 20:1-18
1corinthians15111: 1 Corinthians 15:1-11
isaiah2569: Isaiah 25:6-9
acts103443: Acts 10:34-43
mark1618: Mark 16:1-8
john20118: John 20:1-18
1corinthians15111: 1 Corinthians 15:1-11
isaiah2569: Isaiah 25:6-9
acts103443: Acts 10:34-43
luke241349: Luke 24:13-49
1corinthians56b8: 1 Corinthians 5:6b-8
isaiah2569: Isaiah 25:6-9
matthew28915: Matthew 28:9-15
acts21422b32: Acts 2:14,22b-32
john201118: John 20:11-18
acts23641: Acts 2:36-41
luke241335: Luke 24:13-35
acts3110: Acts 3:1-10
luke2436b48: Luke 24:36b-48
acts31126: Acts 3:11-26
john21114: John 21:1-14
acts4112: Acts 4:1-12
mark1691520: Mark 16:9-15,20
acts41321: Acts 4:13-21
john201931: John 20:19-31
1john11—22: 1 John 1:1—2:2
acts43235: Acts 4:32-35
luke2436b48: Luke 24:36b-48
1john317: 1 John 3:1-7
acts31219: Acts 3:12-19
john101118: John 10:11-18
1john31624: 1 John 3:16-24
acts4512: Acts 4:5-12
john1518: John 15:1-8
1john4721: 1 John 4:7-21
acts82640: Acts 8:26-40
john15917: John 15:9-17
1john516: 1 John 5:1-6
acts104448: Acts 10:44-48
luke244453: Luke 24:44-53
ephesians11523: Ephesians 1:15-23
acts1111: Acts 1:1-11
luke244453: Luke 24:44-53
ephesians11523: Ephesians 1:15-23
acts1111: Acts 1:1-11
john17619: John 17:6-19
1john5913: 1 John 5:9-13
acts115172126: Acts 1:15-17,21-26
john73739a: John 7:37-39a
romans814172227: Romans 8:14-17,22-27
acts2111: Acts 2:1-11
joel22832: Joel 2:28-32
ezekiel37114: Ezekiel 37:1-14
exodus1919a1620a201820: Exodus 19:1-9a,16-20a; 20:18-20
genesis1119: Genesis 11:1-9
john152627164b15: John 15:26-27; 16:4b-15
romans82227: Romans 8:22-27
ezekiel37114: Ezekiel 37:1-14
acts2121: Acts 2:1-21
john152627164b15: John 15:26-27; 16:4b-15
romans82227: Romans 8:22-27
ezekiel37114: Ezekiel 37:1-14
acts2121: Acts 2:1-21
john3117: John 3:1-17
romans81217: Romans 8:12-17
isaiah618: Isaiah 6:1-8
mark14045: Mark 1:40-45
1corinthians92427: 1 Corinthians 9:24-27
2kings5114: 2 Kings 5:1-14
mark2112: Mark 2:1-12
2corinthians11822: 2 Corinthians 1:18-22
isaiah431825: Isaiah 43:18-25
mark21322: Mark 2:13-22
2corinthians316: 2 Corinthians 3:1-6
hosea21420: Hosea 2:14-20
deuteronomy51215: Deuteronomy 5:12-15
mark223—36: Mark 2:23—3:6
2corinthians4512: 2 Corinthians 4:5-12
1samuel31101120: 1 Samuel 3:1-10,(11-20)
genesis3815: Genesis 3:8-15
mark32035: Mark 3:20-35
2corinthians413—51: 2 Corinthians 4:13—5:1
1samuel841112151620111415: 1 Samuel 8:4-11(12-15), 16-20,(11:14-15)
ezekiel172224: Ezekiel 17:22-24
mark42634: Mark 4:26-34
2corinthians561011131417: 2 Corinthians 5: 6-10, (11-13),14-17
isamuel1534—1613: I Samuel 15:34—16:13
job38111: Job 38:1-11
mark43541: Mark 4:35-41
2corinthians6113: 2 Corinthians 6:1-13
1samuel1757—1851016: 1 Samuel 17:57— 18:5,10-16
1samuel171a41119233249: 1 Samuel 17:(1a,4-11,19-23),32-49
wisdomofsolomon1131522324: Wisdom of Solomon 1:13-15; 2:23-24
mark52143: Mark 5:21-43
2corinthians8715: 2 Corinthians 8:7-15
2samuel11727: 2 Samuel 1:1,7-27
ezekiel215: Ezekiel 2:1-5
mark6113: Mark 6:1-13
2corinthians12210: 2 Corinthians 12:2-10
2samuel515910: 2 Samuel 5:1-5,9-10
amos7715: Amos 7:7-15
mark61429: Mark 6:14-29
ephesians1314: Ephesians 1:3-14
2samuel61512b19: 2 Samuel 6:1-5,12b-19
jeremiah2316: Jeremiah 23:1-6
mark630345356: Mark 6:30-34,53-56
ephesians21122: Ephesians 2:11-22
2samuel7114a: 2 Samuel 7:1-14a
2kings44244: 2 Kings 4:42-44
john6121: John 6:1-21
ephesians31421: Ephesians 3:14-21
2samuel11115: 2 Samuel 11:1-15
exodus1624915: Exodus 16:2-4,9-15
john62435: John 6:24-35
ephesians4116: Ephesians 4:1-16
2samuel1126—1213a: 2 Samuel 11:26—12:13a
1kings1948: 1 Kings 19:4-8
john6354151: John 6:35,41-51
ephesians425—52: Ephesians 4:25—5:2
2samuel1859153133: 2 Samuel 18:5-9, 15, 31-33
proverbs916: Proverbs 9:1-6
john65158: John 6:51-58
ephesians51520: Ephesians 5:15-20
1kings210123314: 1 Kings 2:10-12; 3:3-14
joshua2412a1418: Joshua 24:1-2a,14-18
john65669: John 6:56-69
ephesians61020: Ephesians 6:10-20
1kings816101122304143: 1 Kings 8:(1,6,10-11), 22-30, 41-43
deuteronomy41269: Deuteronomy 4:1-2, 6-9
mark71814152123: Mark 7:1-8,14-15,21-23
james11727: James 1:17-27
songofsolomon2813: Song of Solomon 2:8-13
isaiah3547a: Isaiah 35:4-7a
mark72437: Mark 7:24-37
james211011131417: James 2:1-10(11-13),14-17
proverbs2212892223: Proverbs 22:1-2, 8-9,22-23
isaiah5049a: Isaiah 50:4-9a
mark82738: Mark 8:27-38
james3112: James 3:1-12
proverbs12033: Proverbs 1:20-33
jeremiah111820: Jeremiah 11:18-20
mark93037: Mark 9:30-37
james313—4378a: James 3:13—4:3,7-8a
proverbs311031: Proverbs 31:10-31
numbers114610162429: Numbers 11:4-6, 10-16,24-29
mark93850: Mark 9:38-50
james51320: James 5:13-20
esther71691092022: Esther 7:1-6,9-10; 9:20-22
genesis21824: Genesis 2:18-24
mark10216: Mark 10:2-16
hebrews1142512: Hebrews 1:1-4; 2:5-12
job112110: Job 1:1;2:1-10
amos5671015: Amos 5:6-7,10-15
mark101731: Mark 10:17-31
hebrews41216: Hebrews 4:12-16
job23191617: Job 23:1-9,16-17
isaiah53412: Isaiah 53:4-12
mark103545: Mark 10:35-45
hebrews5110: Hebrews 5:1-10
job38173441: Job 38:1-7,(34-41)
jeremiah3179: Jeremiah 31:7-9
mark104652: Mark 10:46-52
hebrews72328: Hebrews 7:23-28
job42161017: Job 42:1-6,10-17
deuteronomy619: Deuteronomy 6:1-9
mark122834: Mark 12:28-34
hebrews91114: Hebrews 9:11-14
ruth1118: Ruth 1:1-18
1kings17816: 1 Kings 17:8-16
mark123844: Mark 12:38-44
hebrews92428: Hebrews 9:24-28
ruth31541317: Ruth 3:1-5;4:13-17
daniel1213: Daniel 12:1-3
mark1318: Mark 13:1-8
hebrews10111415181925: Hebrews 10:11-14 (15-18)19-25
1samuel1420: 1 Samuel 1:4-20
daniel79101314: Daniel 7:9-10,13-14
john183337: John 18:33-37
revelation14b8: Revelation 1:4b-8
2samuel2317: 2 Samuel 23:1-7
Parsed 85 records with 295 scripture references
#+end_example
*** Get the Holy Days Bible texts
Source = [[http://bible.oremus.org/api.html][oremus api]]
=GET http://bible.oremus.org/?version=NRSVAE&vnum=NO&fnote=NO&show_ref=NO&headings=no&omithidden=YES&passage=Mark%201.1-11
#+BEGIN_SRC python
  import os, urllib.request, urllib.parse, re, shutil, time
  from bs4 import BeautifulSoup

  def getText(ref):
      requestSlug = "http://bible.oremus.org/?version=NRSVAE&vnum=NO&fnote=NO&show_ref=NO&headings=NO&omithidden=YES&passage={0}"
      contents = urllib.request.urlopen(requestSlug.format(urllib.parse.quote_plus(ref))).read().decode('utf-8')

      # Fix up the contents items I want to handle before BeautifulSoup
      contents = contents.replace("<span class=thinspace> </span>", "")

      soup = BeautifulSoup(contents, 'html.parser')
      bibletext = soup.find('div', {'class': 'bibletext'})
      for br in soup.find_all("br"):
          br.replace_with("BREAK")
      result = ''
      if not bibletext:
          print ("ERROR: no output from oremus")
          return ""
      for line in bibletext.findAll("p"):
         modline = line.text
         modline = re.sub("\n", " ", modline)
         modline = re.sub("  ", " ", modline)
         modline = re.sub(" ", " ", modline) # clean out non-breaking spaces
         modline = re.sub("BREAK", "\n> ", modline) # preserve coded line breaks
         if (len(modline) - modline.count(' ') > 1):
             result += modline.rstrip().rstrip('>').rstrip() + "\n\n"
      result.replace("BREAK", "\n")
      return result.rstrip()

  def textfilename(ref):
      result = re.sub("[-,.:;()\* ]", "", ref)
      return result.casefold()

  dest = "output/readings/nrsv/"
  countRecords = 0
  countRefs = 0
  countDownloads = 0
  countFailures = 0
  refs = []
  os.makedirs(dest, exist_ok=True)

  srcfile = "src/bcprcl-holydays.txt"
  with open(srcfile, "r") as f:
      weekcode = f.readline().rstrip()
      while weekcode:
          # print ("Week found: " + weekcode)
          countRecords += 1
          recdate = f.readline().rstrip() # Date
          recpsalm = f.readline().rstrip() #Psalm
          rectnk = f.readline().rstrip() # Heb Rdg
          recepi = f.readline().rstrip() # Epistle Rdg
          recgos = f.readline().rstrip() # Gospel Rdg
          nextLine = f.readline().rstrip() # Blank
          if nextLine:
              raise Exception("Unexpected input near " + weekcode + ": " + nextLine)

          # Queue up the readings
          for line in [rectnk, recepi, recgos]:
              t = line.partition(" or ")
              if (t[0]) and t[0] not in refs:
                  refs.append(t[0])
              while (t[2]):
                  t = t[2].partition(" or ")
                  if t[0] not in refs:
                      refs.append(t[0])

          countRefs += len(refs)
          while refs:
              r = refs.pop()
              # print (textfilename(r) + ": " + r)
              if not os.path.isfile(dest + textfilename(r)):
                  text = getText(r)
                  if text:
                      with open (dest + textfilename(r), "w") as t:
                          t.write(text)
                  else:
                      countFailures += 1
                  countDownloads += 1

                  time.sleep(1)


          # Start next line
          weekcode = f.readline().rstrip()
  print ("Parsed " + str(countRecords) + " records with " + str(countRefs) + " scripture references, with  " + str(countDownloads) + " downloads and " + str(countFailures) + " failed")
#+END_SRC

#+RESULTS:
: Parsed 35 records with 108 scripture references, with  1 downloads and 0 failed


*** Get texts from lectionarypage.net
Mirrored lectionarypage.net (4.0Mb) with = wget -mkp -l2 -N --wait=2 --include-directories=YearA_RCL/*,YearB_RCL/*,YearC_RCL/*,YearABC_RCL/*,YearABC/* http://lectionarypage.net/CalndrsIndexes/TxtindexABCH_RCL.html=, canceling when it started grabbing docx files.

DONE: Establish whether there are collisions to worry about in the processed textfilenames: all good
DONE: Count duplicate references (for curiosity's sake)
DONE: Investigate references with mis-matched div's; repair
DONE: Why do the Easter Vigil pages not even parse into BeautifulSoup? bad utf char's; ignore
#+BEGIN_SRC python
  import os, urllib.request, urllib.parse, re, shutil, time, subprocess
  from bs4 import BeautifulSoup
  from bs4.diagnose import diagnose
  import bs4

  def textfilename(ref):
      result = re.sub("[-,.:;()\* ]", "", ref)
      return result.casefold()

  refs = {}
  collisions = []
  dupes = 0

  tags = { 'br': {'none':0} }

  srcfiles = subprocess.check_output(["find ../lectionarypage.net -name *.html"], shell=True, text=True).split("\n")
  print("Count of files: " + str(len(srcfiles)))

  for s in srcfiles:
      # Skip blank lines
      if len(s)==0:
        continue
      # print("Processing " + s)

      soup = False
      try:
          soup = BeautifulSoup(open(s, errors='ignore'), 'html.parser')
      except Exception:
          print ("FAILED to make BeautifulSoup for " + s)
          continue

      # https://beautiful-soup-4.readthedocs.io/en/latest/index.html
      # Scriptures contained in articles
      # iterate through articles;
      # verify number of citations = number of div's
          # -- there are some nested div's,
          # -- sometimes div is missing
          # -- supplied missing div's; nested may not be a problem
      # TODO: possibly separate out all tags ocurring between h3's within in article
      # TODO: Figure out which tags to pay attention to (e.g., psalm-text or poetry, <p>)

      for article in soup('article'):
          citations = article.find_all('h3', {'class': 'lessonCitation'})
          divs = article.find_all('div')
          if (len(citations) != len(divs)):
              print("WARNING: citations ({}) > div's({}) in {}".format(len(citations), len(divs), s))
              continue
          for i in range(len(citations)):
              c = citations[i]
              d = divs[i]

              citation = c.string.strip()

              # Check for duplicate citations
              filename = textfilename(citation)
              if filename in refs:
                  if(refs[filename] == citation):
                      dupes += 1
                  else:
                      print("\nCOLLISION: " + filename + " " + refs[filename] + " " + citation + "\n")
                  continue
              refs[filename] = citation
              #print(citation)
              # print(d.getText())
              for t in d.descendants:
                  if (t == '\n'):
                      continue
                  if (type(t) != bs4.element.Tag):
                      continue
                  if (t.name == 'br'):
                      tags['br']['none'] += 1
                  if (t.name not in tags):
                       tags[t.name] = {}
                  if (t.has_attr('class')):
                      if len(t.attrs['class']) != 1:
                          print("WARNING: " + s + " " + citation + " " + c.name + " doesn't have a single class")
                      c = t.attrs['class'][0]
                      if (c not in tags[t.name]):
                          tags[t.name][c] = 1
                      else:
                           tags[t.name][c] += 1
                      if t.name == 'span' and c in ['lessonText', 'poetryText']:
                           print("ODD: " + s + " " + citation + ": span=" + c)

  print("Unique Refs count = " + str(len(refs)))
  print("Duplicates = {}".format(dupes))
  print("Tags: {}".format(tags))

#+END_SRC

#+RESULTS:
#+begin_example
Count of files: 236

COLLISION: habakkuk114214 Habakkuk 1:1-4, 2:1-4 Habakkuk 1:1-4; 2:1-4


COLLISION: psalm72171014 Psalm 72:1-7,10-14 Psalm 72:1-7, 10-14

Unique Refs count = 928
Duplicates = 235
Tags: {'br': {'none': 4590}, 'p': {'poetryText': 1334, 'psalmText': 2122, 'lessonText': 1461, 'poetryIndent': 283, 'lessonIndent': 16}, 'span': {'initCap': 918, 'lordSmallCaps': 1707}}
#+end_example


Output html
Output plain text
Output markdown
For Plain text, markdown:
DONE: Psalms: retain latin title
DONE: convert lordSmallCaps spans to UPPERCASE
DONE: indent for ['poetryIndent', 'lessonIndent', 'poetryText', 'psalmText']
DONE: Examine keeping br's as \n
DONE: Psalms: format for responsive reading (markdown only)
TODO: Look through .md output for issues
DONE: If whole passage is poetry, only use single ">"?
TODO: retain line breaks (<br/>)
#+BEGIN_SRC python
  import os, urllib.request, urllib.parse, re, shutil, time, subprocess
  from bs4 import BeautifulSoup
  import bs4

  def textfilename(ref):
      result = re.sub("[-,.:;()\* ]", "", ref)
      return result.casefold()

  refs = {}
  tagsInDivs = {}
  count = 0
  indentClasses = ["poetryText", "psalmText", "poetryIndent", "lessonIndent"]

  srcfiles = subprocess.check_output(["find ../lectionarypage.net -name *.html"], shell=True, text=True).split("\n")
  print("Count of files: " + str(len(srcfiles)))

  desthtml = "output/readings/lectionarypage.net/html/"
  desttext = "output/readings/lectionarypage.net/text/"
  destmark = "output/readings/lectionarypage.net/md/"
  os.makedirs(desthtml, exist_ok=True)
  os.makedirs(desttext, exist_ok=True)
  os.makedirs(destmark, exist_ok=True)

  for s in srcfiles:
      # Skip blank lines
      if len(s)==0:
        continue
      # print("Processing " + s)
      count = count + 1

      soup = False
      try:
          soup = BeautifulSoup(open(s), 'html.parser')
      except Exception:
          print ("FAILED to make BeautifulSoup for " + s)
          continue

      # retain linebreaks
      #for br in soup.find_all("br"):
          #br.replace_with("BREAK")

      for article in soup('article'):
          citations = article.find_all('h3', {'class': 'lessonCitation'})
          latin = article.find_all(class_='psalmLatin')
          latinTitle = ""
          psalmCount = 0
          divs = article.find_all('div')
          if (len(citations) != len(divs)):
              print("WARNING: citations ({}) > div's({}) in {}".format(len(citations), len(divs), s))
              continue
          for i in range(len(citations)):
              c = citations[i]
              d = divs[i]

              citation = c.string.strip()
              if ("Psalm" in citation):
                  try:
                      latinTitle = latin[psalmCount].getText()
                  except Exception:
                      print ("Failed to de-ref latin title {} in file {}".format(psalmCount, s))
                      print (latin)
                      print (d.getText())
                  psalmCount += 1

              filename = textfilename(citation)
              if filename in refs:
                  continue
              refs[filename] = citation

              if filename == "psalm98":
                  print ("Found psalm98 in " + s)

              with open (desthtml + filename + ".html", "w") as t:
                  if latinTitle:
                      t.write("<p class='psalmLatin'>{}</p>\n".format(latinTitle))
                  t.write("{}".format(d))

              # Fix up reading before exporting to plain text
              # Change small caps to all caps
              for e in d.find_all('span', {'class': 'lordSmallCaps'}):
                  e.string = e.getText().upper()
                  e.unwrap()
              # Remove initial caps
              for e in d.find_all('span', {'class': 'initCap'}):
                  e.unwrap()


              with open(desttext + filename + ".txt", "w") as t:
                  if latinTitle:
                      t.write("{}\n\n".format(latinTitle))
                  t.write(d.getText().lstrip())

              with open (destmark + filename + ".md", "w") as t:
                  if latinTitle:
                      t.write("_{}_\n\n".format(latinTitle))
                  lastClass = ""
                  psalmVerseOdd = True

                  # Error checking: these were eliminated
                  for e in d.contents:
                      if e == '\n':
                          continue
                      if (type(e) == bs4.element.NavigableString):
                          if (e.strip() != ''):
                              print ("TODO: Fix navigable string in {} ({}): {}".format(s, citation, e))
                          continue
                      if (type(e) != bs4.element.Tag):
                          if (type(e) != bs4.element.Comment):
                              print ("Non-tag in {}: {}:{}".format(s, type(e), e))
                          continue
                  for e in d.descendants:
                      # More error checking: these were eliminated
                      if type(e) == bs4.element.NavigableString or type(e) == bs4.element.Comment:
                          continue
                      if e.name in tagsInDivs:
                          tagsInDivs[e.name] = tagsInDivs[e.name] + 1
                      else:
                          tagsInDivs[e.name] = 1
                      if (e.name == 'i'):
                          print("{}: {}".format(s,e))
                      if (e.name == 'blockquote'):
                          print("{}: {}".format(s,e))
                      if e.has_attr('class'):
                          cl = e.attrs['class'][0]
                          if cl in tagsInDivs:
                              tagsInDivs[cl] = tagsInDivs[cl] + 1
                          else:
                              tagsInDivs[cl] = 1
                          if cl != re.sub(r'[^a-zA-z]', '', cl):
                              print("TODO: bad class for tag {} in {}".format(e, s))
                          if cl == 'collectText':
                              print("TODO: bad class for tag {} in {}".format(e, s))

                      if (e.name == "br"):
                          t.write('\n')
                          continue

                      line = ""
                      if ("Psalm" in citation):
                          text = e.getText().replace(" *", " \*  ")
                          if psalmVerseOdd:
                              line = line + "\n> " + text
                          else:
                              line = line + "\n> **" + text.strip() + "**\n"
                          line = line + "  "
                          psalmVerseOdd = not psalmVerseOdd
                      elif ("Canticle" in citation):
                          text = e.getText().strip().replace(" *", " \*").replace("\n", "  \n")
                          line = "> **" + text.strip() + "**\n"
                      else:
                          newClass = None
                          if e.has_attr('class'):
                              newClass = e.attrs['class'][0]
                          lineEnd = "\n\n"
                          if newClass in indentClasses:
                              line = line + "> "
                              lineEnd = "\n"
                          line = line + e.getText().replace("\n", " ") + lineEnd
                          line = re.sub(r' +', ' ', line)
                          if newClass in indentClasses:
                              line = line + "  "
                      t.write(line)
      #if count>0:
          #exit()

  print("Unique Refs count = " + str(len(refs)))
  print("Tags in div's: {}".format(tagsInDivs))


#+END_SRC

#+RESULTS:



*** Produce Liturgies for 2020 (Yr B, Track 1) in =2020=
Issues:
- Ensure =/he/propercollect= excludes "The Lord be with you" on Good Friday
- Only produce liturgies for future dates
- Check / customize liturgies, Update bcppage for:
    o Good Friday (with special =he/propercollect=)
    o Palm Sunday
    o Easter Vigil
- o Modify contents pages to automatically provide next & previous service (based on liturgydate?)
-  o Access future/all services regardless of date?
- Next year:
    o Epiphany blessings protocol varies in year C
    o Replacement Passion Sunday scripts for C,A
    o Lectionaries for Year C, Year A
    o Year's worth of hymns?

#+BEGIN_SRC python
  import csv, os, datetime
  srcfile = "src/liturgy2021.csv"
  targetdir = "output/2021/"
  lectionaryyear = "yearb"

  dateOutputFormat = "%Y-%m-%d"
  dateColumn = 0
  i = 4
  codeColumn = 4
  pageColumn = 5
  titleColumn = 6
  prepareColumn = 7
  psalmStyleColumn = 13
  postscriptColumn = 36

  noSecondReading = ["eastervigil", "eastermonday", "eastertuesday", "easterwednesday", "easterthursday", "easterfriday", "eastersaturday"]

  headings = {
    prepareColumn + 2 : "## We Gather in God's Name",
    psalmStyleColumn  : "## We Hear God's Word",
    psalmStyleColumn + 4 : "## We Respond in Faith",
    psalmStyleColumn + 9 : "## We Offer Ourselves To God",
    psalmStyleColumn + 14 : "## We Receive the Gift of God"
    }

  def shortcode(x):
      if x == "":
          return ""
      return '{{{{% {0} %}}}}\n'.format(x.strip())

  def shortcodeClosed(x):
      return shortcode(x).replace(" %}}", " /%}}")

  def shortcodeRow(x):
      return shortcode(row[x].strip())

  def shortcodeRowClosed(x):
      return shortcodeClosed(row[x].strip())

  os.makedirs(targetdir, exist_ok=True)

  count=0
  with open(srcfile, "r") as f:
      reader = csv.reader(f)
      next(reader) # skip header line
      for row in reader:
          if row[dateColumn] == "": continue # Skip unused rows
          code = row[codeColumn].strip()
          rowDate = datetime.datetime.strptime(row[dateColumn], '%m/%d/%y')
          if rowDate.date() <= datetime.date.today(): continue # Skip past & current dates
          # print("DEBUG: Found date {0}".format(rowDate))
          # filename = 'he-{1}.md'.format(rowDate, code)
          # if (code == "goodfriday" or code == "holysaturday"):
              # filename = '{0}-{1:%Y%m%d}.md'.format(code, rowDate)
          with open (targetdir + "/" + code + ".md", "w") as t:
              t.write('---\n')
              if (code == "goodfriday" or code == "holysaturday"):
                  t.write('title: {}\n'.format(row[titleColumn].strip()))
              else:
                  t.write('title: Holy Eucharist, Rite II ({0})\n'.format(row[titleColumn].strip()))
              liturgyDate = rowDate.strftime(dateOutputFormat)
              t.write('date: {0}\n'.format(liturgyDate))
              # publishDate = (rowDate + datetime.timedelta(days=-6)).strftime(dateOutputFormat)
              # t.write('publishdate: {0}\n'.format(publishDate))
              t.write('lectionaryyear: {0}\n'.format(lectionaryyear))
              t.write('proper: {0}\n'.format(code))
              t.write('bcppage: {0}ff.\n'.format(row[pageColumn].strip()))
              t.write('---\n')
              for i in range(prepareColumn + 1, postscriptColumn):
                  if (i == psalmStyleColumn and code != "goodfriday"):
                      t.write(shortcode('he/propercollect'))
                      t.write(shortcode('rubric-sit'))

                  if (headings.get(i)):
                      if (i<=psalmStyleColumn or code != "goodfriday"):
                          t.write('\n' + headings.get(i) + '\n')

                  if (i == psalmStyleColumn):
                      t.write(shortcodeClosed('he/lesson "firstReading"'))
                      t.write(shortcodeRowClosed(psalmStyleColumn))
                      if (not code in noSecondReading):
                          t.write(shortcodeClosed('he/lesson "secondReading"'))
                      if (code != "goodfriday" and code != "palmsunday"):
                          t.write(shortcodeClosed('he/gospel'))
                  elif ("he/eucharisticprayer/" in row[i]):
                      t.write(shortcodeRowClosed(i))
                  else:
                      t.write(shortcodeRow(i))
              t.write(shortcode('nrsv'))
          count+=1
  print ("Wrote " + str(count) + " records.")
#+END_SRC

#+RESULTS:
: Wrote 72 records.

**

** Read lectionary from venite project
*** Source: https://github.com/gbj/venite
*** Test out file format
#+BEGIN_SRC python
  import json

  def report(title, data):
         print(title + " (" + str(len(data)) + "): " + ', '.join(map(str, data)))

  def get_elements(data, name):
       results = []
       for i in data:
         if(i[name] not in results):
           results.append(i[name])
       return results

  def analyze(filename):
       print("--------------------")
       print("analyze: " + filename + "\n")

       with open(filename, "r") as f:
         data = f.read()
       rcl = json.loads(data)

       print ("Found " + str(len(rcl)) + " records")

       interesting_fields = ['day', 'when', 'whentype', 'lectionary', 'type']
       for field in interesting_fields:
          report(field, get_elements(rcl, field))

  analyze('../venite/commonprayer/src/assets/lectionary/rcl1.json')
  analyze('../venite/commonprayer/src/assets/lectionary/rcl2.json')
#+END_SRC

#+RESULTS:
#+begin_example
--------------------
analyze: ../venite/commonprayer/src/assets/lectionary/rcl1.json

Found 809 records
day (107): first-advent, second-advent, third-advent, fourth-advent, christmas, 1st-sunday-after-christmas, holy-name, 2nd-sunday-after-christmas, epiphany, 1st-epiphany, 2nd-epiphany, 3rd-epiphany, 4th-epiphany, 5th-epiphany, 6th-epiphany, 7th-epiphany, 8th-epiphany, last-epiphany, wednesday-last-epiphany, 1st-lent, 2nd-lent, 3rd-lent, 4th-lent, 5th-lent, holy-week, monday-holy-week, tuesday-holy-week, wednesday-holy-week, thursday-holy-week, friday-holy-week, saturday-holy-week, easter, monday-easter, tuesday-easter, wednesday-easter, thursday-easter, friday-easter, saturday-easter, 2nd-easter, 3rd-easter, 4th-easter, 5th-easter, 6th-easter, thursday-6th-easter, 7th-easter, pentecost, trinity-sunday, proper-1, proper-2, proper-3, proper-4, proper-5, proper-6, proper-7, proper-8, proper-9, proper-10, proper-11, proper-12, proper-13, proper-14, proper-15, proper-16, proper-17, proper-18, proper-19, proper-20, proper-21, proper-22, proper-23, proper-24, proper-25, proper-26, proper-27, proper-28, proper-29, confession-of-st-peter, conversion-of-st-paul, the-presentation, st-matthias, st-joseph, annunciation, st-mark, ss-philip-and-james, the-visitation, st-barnabas, nativity-of-st-john-the-baptist, ss-peter-and-paul, independence-day, st-mary-magdalene, st-james, the-transfiguration, st-mary-the-virgin, st-bartholomew, holy-cross, st-matthew, st-michael, st-luke, st-james-of-jerusalem, ss-simon-and-jude, all-saints-day, st-andrew, st-thomas, st-stephen, st-john, holy-innocents, thanksgiving-day
when (3): A, B, C
whentype (1): year
lectionary (1): rclsundayTrack1
type (5): second_reading, gospel, palms_gospel, first_reading, morning_psalms
--------------------
analyze: ../venite/commonprayer/src/assets/lectionary/rcl2.json

Found 1361 records
day (107): first-advent, second-advent, third-advent, fourth-advent, christmas, 1st-sunday-after-christmas, holy-name, 2nd-sunday-after-christmas, epiphany, 1st-epiphany, 2nd-epiphany, 3rd-epiphany, 4th-epiphany, 5th-epiphany, 6th-epiphany, 7th-epiphany, 8th-epiphany, last-epiphany, wednesday-last-epiphany, 1st-lent, 2nd-lent, 3rd-lent, 4th-lent, 5th-lent, holy-week, monday-holy-week, tuesday-holy-week, wednesday-holy-week, thursday-holy-week, friday-holy-week, saturday-holy-week, easter, monday-easter, tuesday-easter, wednesday-easter, thursday-easter, friday-easter, saturday-easter, 2nd-easter, 3rd-easter, 4th-easter, 5th-easter, 6th-easter, thursday-6th-easter, 7th-easter, pentecost, trinity-sunday, proper-1, proper-2, proper-3, proper-4, proper-5, proper-6, proper-7, proper-8, proper-9, proper-10, proper-11, proper-12, proper-13, proper-14, proper-15, proper-16, proper-17, proper-18, proper-19, proper-20, proper-21, proper-22, proper-23, proper-24, proper-25, proper-26, proper-27, proper-28, proper-29, confession-of-st-peter, conversion-of-st-paul, the-presentation, st-matthias, st-joseph, annunciation, st-mark, ss-philip-and-james, the-visitation, st-barnabas, nativity-of-st-john-the-baptist, ss-peter-and-paul, independence-day, st-mary-magdalene, st-james, the-transfiguration, st-mary-the-virgin, st-bartholomew, holy-cross, st-matthew, st-michael, st-luke, st-james-of-jerusalem, ss-simon-and-jude, all-saints-day, st-andrew, st-thomas, st-stephen, st-john, holy-innocents, thanksgiving-day
when (3): A, B, C


whentype (1): year
lectionary (1): rclsunday
type (5): first_reading, morning_psalms, second_reading, gospel, palms_gospel
#+end_example
*** Compare citations in lectionaries
#+BEGIN_SRC python
  import json

  def report(title, data):
    print(title + " (" + str(len(data)) + "): " + ', '.join(map(str, data)))

  def analyze(filename):
    print("--------------------")
    print("analyze: " + filename + "\n")

    with open(filename, "r") as f:
      data = f.read()
    rcl = json.loads(data)

    print ("Found " + str(len(rcl)) + " records")

    days = []
    whens = []
    whentypes = []
    lectionaries = []
    types = []
    for i in rcl:
      if i['day'] not in days:
          books=[]
          for i in rcl:
              book = i['citation']
              space = book.find(" ", 2)
              if (space > 2):
                  book = book[0:space]
              if book not in books:
                  books.append(book)
    return books

  rcl1_books = getbooks('../venite/commonprayer/src/assets/lectionary/rcl1.json')
  rcl2_books = getbooks('../venite/commonprayer/src/assets/lectionary/rcl2.json')
  rcl1_unique_books = list(set(rcl1_books) - set(rcl2_books))
  rcl2_unique_books = list(set(rcl2_books) - set(rcl1_books))

  report("rcl1 books", rcl1_books)
  report("rcl2 books", rcl2_books)
  report("rcl1 unique books", rcl1_unique_books)
  report("rcl2 unique books", rcl2_unique_books)


#+END_SRC

#+RESULTS:

*** Proper 19-A
#+BEGIN_SRC python
import json

def loadlectionary(filename):
  with open(filename, "r") as f:
    data = f.read()
  return json.loads(data)

def analyze(data, when, day):
  for i in data:
    if(i['day']==day and i['when']==when):
      print(i)

rcl1 = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl1.json')
rcl2 = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl2.json')

print("rcl1 for proper 19-A: ")
analyze(rcl1, "A", "proper-19")
print()
print("rc2 for proper 19-A: ")
analyze(rcl2, "A", "proper-19")
#+END_SRC

#+RESULTS:
#+begin_example
rcl1 for proper 19-A:
{'whentype': 'year', 'when': 'A', 'day': 'proper-19', 'lectionary': 'rclsundayTrack1', 'type': 'first_reading', 'citation': 'Exodus 14:19-31'}
{'whentype': 'year', 'when': 'A', 'day': 'proper-19', 'lectionary': 'rclsundayTrack1', 'type': 'morning_psalms', 'citation': 'Psalm 114'}
{'whentype': 'year', 'when': 'A', 'day': 'proper-19', 'lectionary': 'rclsundayTrack1', 'type': 'second_reading', 'citation': 'Romans 14:1-12'}
{'whentype': 'year', 'when': 'A', 'day': 'proper-19', 'lectionary': 'rclsundayTrack1', 'type': 'gospel', 'citation': 'Matthew 18:21-35'}
{'whentype': 'year', 'when': 'A', 'day': 'proper-19', 'lectionary': 'rclsundayTrack1', 'type': 'morning_psalms', 'citation': 'Exodus 15:1b-11,20-21'}

rc2 for proper 19-A:
{'whentype': 'year', 'when': 'A', 'day': 'proper-19', 'lectionary': 'rclsunday', 'type': 'first_reading', 'citation': 'Genesis 50:15-21'}
{'whentype': 'year', 'when': 'A', 'day': 'proper-19', 'lectionary': 'rclsunday', 'type': 'morning_psalms', 'citation': 'Psalm 103:(1-7),8-13'}
{'whentype': 'year', 'when': 'A', 'day': 'proper-19', 'lectionary': 'rclsunday', 'type': 'second_reading', 'citation': 'Romans 14:1-12'}
{'whentype': 'year', 'when': 'A', 'day': 'proper-19', 'lectionary': 'rclsunday', 'type': 'gospel', 'citation': 'Matthew 18:21-35'}
#+end_example

*** Proper 1-A is missing a first reading and a psalm for  track 1
#+BEGIN_SRC python
import json

def loadlectionary(filename):
  with open(filename, "r") as f:
    data = f.read()
  return json.loads(data)

def analyze(data, when, day):
  for i in data:
    if(i['day']==day and i['when']==when):
      print(i)

rcl1 = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl1.json')
rcl2 = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl2.json')

print("rcl1 for proper 1-A: ")
analyze(rcl1, "A", "proper-1")
print()
print("rc2 for proper 1-A: ")
analyze(rcl2, "A", "proper-1")
#+END_SRC

#+RESULTS:
: rcl1 for proper 1-A:
: {'whentype': 'year', 'when': 'A', 'day': 'proper-1', 'lectionary': 'rclsundayTrack1', 'type': 'second_reading', 'citation': '1 Corinthians 3:1-9'}
: {'whentype': 'year', 'when': 'A', 'day': 'proper-1', 'lectionary': 'rclsundayTrack1', 'type': 'gospel', 'citation': 'Matthew 5:21-37'}
:
: rc2 for proper 1-A:
: {'whentype': 'year', 'when': 'A', 'day': 'proper-1', 'lectionary': 'rclsunday', 'type': 'first_reading', 'citation': 'Ecclesiasticus 15:15-20'}
: {'whentype': 'year', 'when': 'A', 'day': 'proper-1', 'lectionary': 'rclsunday', 'type': 'morning_psalms', 'citation': 'Psalm 119:1-8'}
: {'whentype': 'year', 'when': 'A', 'day': 'proper-1', 'lectionary': 'rclsunday', 'type': 'second_reading', 'citation': '1 Corinthians 3:1-9'}
: {'whentype': 'year', 'when': 'A', 'day': 'proper-1', 'lectionary': 'rclsunday', 'type': 'gospel', 'citation': 'Matthew 5:21-37'}
*** What's up with holy week?
#+BEGIN_SRC python
  import json

  def loadlectionary(filename):
    with open(filename, "r") as f:
      data = f.read()
    return json.loads(data)

  def days_with_palms_gospel(data):
    found = []
    for i in data:
      if(i['type']=='palms_gospel'):
        found.append(i['day'])
    return set(found)

  def show(data, day):
    for i in data:
      if(i['day']==day):
        print(i)


  rcl1 = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl1.json')
  rcl2 = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl2.json')

  print ("palms_gospel in rcl1:")
  pg1 = days_with_palms_gospel(rcl1)
  print(pg1)

  print ("palms_gospel in rcl2:")
  pg2 = days_with_palms_gospel(rcl2)
  print(pg2)

  print("\n\n\n")
  show(rcl1, 'holy-week')
  print("\n\n\n")
  show(rcl2, 'holy-week')

#+END_SRC

#+RESULTS:
#+begin_example
palms_gospel in rcl1:
{'holy-week'}
palms_gospel in rcl2:
{'holy-week'}




{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'gospel', 'citation': 'Matthew 27:11-54'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'palms_gospel', 'citation': 'Matthew 21:1-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'gospel', 'citation': 'Mark 15:1-47'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'palms_gospel', 'citation': 'Mark 11:1-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'palms_gospel', 'citation': 'John 12:12-16'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'gospel', 'citation': 'Luke 22:14-23:56'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'palms_gospel', 'citation': 'Luke 19:28-40'}




{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'first_reading', 'citation': 'Isaiah 50:4-9'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'morning_psalms', 'citation': 'Psalm 31:9-16'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'gospel', 'citation': 'Matthew 27:11-54'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'palms_gospel', 'citation': 'Matthew 21:1-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'first_reading', 'citation': 'Isaiah 50:4-9'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'morning_psalms', 'citation': 'Psalm 31:9-16'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'gospel', 'citation': 'Mark 15:1-47'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'palms_gospel', 'citation': 'Mark 11:1-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'palms_gospel', 'citation': 'John 12:12-16'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'first_reading', 'citation': 'Isaiah 50:4-9a'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'morning_psalms', 'citation': 'Psalm 31:9-16'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'gospel', 'citation': 'Luke 22:14-23:56'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'palms_gospel', 'citation': 'Luke 19:28-40'}
#+end_example
#+begin_example
palms_gospel in rcl1:
{'holy-week'}
palms_gospel in rcl2:
{'holy-week'}




{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'gospel', 'citation': 'Matthew 27:11-54'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'palms_gospel', 'citation': 'Matthew 21:1-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'gospel', 'citation': 'Mark 15:1-47'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'palms_gospel', 'citation': 'Mark 11:1-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'palms_gospel', 'citation': 'John 12:12-16'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'gospel', 'citation': 'Luke 22:14-23:56'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'palms_gospel', 'citation': 'Luke 19:28-40'}




{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'first_reading', 'citation': 'Isaiah 50:4-9'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'morning_psalms', 'citation': 'Psalm 31:9-16'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'gospel', 'citation': 'Matthew 27:11-54'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'palms_gospel', 'citation': 'Matthew 21:1-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'first_reading', 'citation': 'Isaiah 50:4-9'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'morning_psalms', 'citation': 'Psalm 31:9-16'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'gospel', 'citation': 'Mark 15:1-47'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'palms_gospel', 'citation': 'Mark 11:1-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'palms_gospel', 'citation': 'John 12:12-16'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'first_reading', 'citation': 'Isaiah 50:4-9'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'morning_psalms', 'citation': 'Psalm 31:9-16'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'gospel', 'citation': 'Luke 22:14-23:56'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'palms_gospel', 'citation': 'Luke 19:28-40'}
#+end_exampl
e*** What's up with holy week?
#+BEGIN_SRC python
  import json

  def loadlectionary(filename):
    with open(filename, "r") as f:
      data = f.read()
    return json.loads(data)

  def days_with_palms_gospel(data):
    found = []
    for i in data:
      if(i['type']=='palms_gospel'):
        found.append(i['day'])
    return set(found)

  def show(data, day):
    for i in data:
      if(i['day']==day):
        print(i)


  rcl1 = loadlectionary('lectionary/rcl1.json')
  rcl2 = loadlectionary('lectionary/rcl2.json')

  print ("palms_gospel in rcl1:")
  pg1 = days_with_palms_gospel(rcl1)
  print(pg1)

  print ("palms_gospel in rcl2:")
  pg2 = days_with_palms_gospel(rcl2)
  print(pg2)

  print("\n\n\n")
  show(rcl1, 'holy-week')
  print("\n\n\n")
  show(rcl2, 'holy-week')

#+END_SRC

#+RESULTS:
#+begin_example
palms_gospel in rcl1:
{'holy-week'}
palms_gospel in rcl2:
{'holy-week'}




{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'gospel', 'citation': 'Matthew 27:11-54'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'palms_gospel', 'citation': 'Matthew 21:1-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'gospel', 'citation': 'Mark 15:1-47'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'palms_gospel', 'citation': 'Mark 11:1-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'palms_gospel', 'citation': 'John 12:12-16'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'gospel', 'citation': 'Luke 22:14-23:56'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'palms_gospel', 'citation': 'Luke 19:28-40'}




{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'first_reading', 'citation': 'Isaiah 50:4-9'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'morning_psalms', 'citation': 'Psalm 31:9-16'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'gospel', 'citation': 'Matthew 27:11-54'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'palms_gospel', 'citation': 'Matthew 21:1-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'first_reading', 'citation': 'Isaiah 50:4-9'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'morning_psalms', 'citation': 'Psalm 31:9-16'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'gospel', 'citation': 'Mark 15:1-47'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'palms_gospel', 'citation': 'Mark 11:1-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'palms_gospel', 'citation': 'John 12:12-16'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'first_reading', 'citation': 'Isaiah 50:4-9'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'morning_psalms', 'citation': 'Psalm 31:9-16'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'gospel', 'citation': 'Luke 22:14-23:56'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'palms_gospel', 'citation': 'Luke 19:28-40'}
#+end_exampl

*** How many non whentypes
#+BEGIN_SRC python
  import json

  def loadlectionary(filename):
    with open(filename, "r") as f:
      data = f.read()
    return json.loads(data)

  def days_with_palms_gospel(data):
    found = []
    for i in data:
      if(i['type']=='palms_gospel'):
        found.append(i['day'])
    return set(found)

  def show(data, day):
    for i in data:
      if(i['day']==day):
        print(i)


  rcl1 = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl1.json')
  rcl2 = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl2.json')

  print ("palms_gospel in rcl1:")
  pg1 = days_with_palms_gospel(rcl1)
  print(pg1)

  print ("palms_gospel in rcl2:")
  pg2 = days_with_palms_gospel(rcl2)
  print(pg2)

  print("\n\n\n")
  show(rcl1, 'holy-week')
  print("\n\n\n")
  show(rcl2, 'holy-week')

#+END_SRC

#+RESULTS:
#+begin_example
palms_gospel in rcl1:
{'holy-week'}
palms_gospel in rcl2:
{'holy-week'}




{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'gospel', 'citation': 'Matthew 27:11-54'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'palms_gospel', 'citation': 'Matthew 21:1-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'gospel', 'citation': 'Mark 15:1-47'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'palms_gospel', 'citation': 'Mark 11:1-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'palms_gospel', 'citation': 'John 12:12-16'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'gospel', 'citation': 'Luke 22:14-23:56'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsundayTrack1', 'type': 'palms_gospel', 'citation': 'Luke 19:28-40'}




{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'first_reading', 'citation': 'Isaiah 50:4-9'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'morning_psalms', 'citation': 'Psalm 31:9-16'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'gospel', 'citation': 'Matthew 27:11-54'}
{'whentype': 'year', 'when': 'A', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'palms_gospel', 'citation': 'Matthew 21:1-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'first_reading', 'citation': 'Isaiah 50:4-9'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'morning_psalms', 'citation': 'Psalm 31:9-16'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'gospel', 'citation': 'Mark 15:1-47'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'palms_gospel', 'citation': 'Mark 11:1-11'}
{'whentype': 'year', 'when': 'B', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'palms_gospel', 'citation': 'John 12:12-16'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'first_reading', 'citation': 'Isaiah 50:4-9a'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'morning_psalms', 'citation': 'Psalm 31:9-16'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'second_reading', 'citation': 'Philippians 2:5-11'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'gospel', 'citation': 'Luke 22:14-23:56'}
{'whentype': 'year', 'when': 'C', 'day': 'holy-week', 'lectionary': 'rclsunday', 'type': 'palms_gospel', 'citation': 'Luke 19:28-40'}
#+end_example
*** Let's do some sanity checks
#+BEGIN_SRC python
  import json

  def loadlectionary(filename):
    with open(filename, "r") as f:
      data = f.read()
    return json.loads(data)

  def get_days_set(data):
    days=[]
    for i in data:
      if(i['day'] not in days):
        days.append(i['day'])
    return days

  def get_day(data, day):
    results=[]
    for i in data:
      if(i['day']==day):
        results.append(i)
    return results

  def get_year(data, year):
    results=[]
    for i in data:
      if(i['when']==year):
        results.append(i)
    return results

  def check_readings(data, day):
    normal = ['first_reading', 'second_reading', 'gospel', 'morning_psalms']
    all_years = ['A', 'B', 'C']
    records = get_day(data, day)
    for year in all_years:
      thisyear = get_year(records, year)
      types = []
      missing = []
      for i in thisyear:
         types.append(i['type'])
      for t in normal:
         if (t in types):
           types.remove(t)
         else:
           missing.append(t)
      if len(types) + len(missing) > 0:
        print("Check " + day + "-" + year)
        if(len(types)>0):
          print("    extra  =[" + ", ".join(map(str, types)) + "]")
        if(len(missing)>0):
          print("    missing=[" + ", ".join(map(str, missing)) + "]")


  rcl1 = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl1.json')
  rcl2 = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl2.json')

  days = get_days_set(rcl1)
  days2 = get_days_set(rcl2)
  if (days != days2):
    print("*** Warning: different days in rcl1/2!")

  print ("rcl1:")
  for d in days:
    check_readings(rcl1, d)

  print ("\n\nrcl2:")
  for d in days:
    check_readings(rcl2, d)

#+END_SRC

#+RESULTS:
#+begin_example
rcl1:
Check first-advent-A
    missing=[first_reading, morning_psalms]
Check first-advent-B
    missing=[first_reading, morning_psalms]
Check first-advent-C
    missing=[first_reading, morning_psalms]
Check second-advent-A
    missing=[first_reading, morning_psalms]
Check second-advent-B
    missing=[first_reading, morning_psalms]
Check second-advent-C
    missing=[first_reading, morning_psalms]
Check third-advent-A
    missing=[first_reading, morning_psalms]
Check third-advent-B
    missing=[first_reading, morning_psalms]
Check third-advent-C
    missing=[first_reading, morning_psalms]
Check fourth-advent-A
    missing=[first_reading, morning_psalms]
Check fourth-advent-B
    missing=[first_reading, morning_psalms]
Check fourth-advent-C
    missing=[first_reading, morning_psalms]
Check christmas-A
    missing=[first_reading, morning_psalms]
Check christmas-B
    missing=[first_reading, morning_psalms]
Check christmas-C
    missing=[first_reading, morning_psalms]
Check 1st-sunday-after-christmas-A
    missing=[first_reading, morning_psalms]
Check 1st-sunday-after-christmas-B
    missing=[first_reading, morning_psalms]
Check 1st-sunday-after-christmas-C
    missing=[first_reading, morning_psalms]
Check holy-name-A
    missing=[first_reading, morning_psalms]
Check holy-name-B
    missing=[first_reading, morning_psalms]
Check holy-name-C
    missing=[first_reading, morning_psalms]
Check 2nd-sunday-after-christmas-A
    missing=[first_reading, morning_psalms]
Check 2nd-sunday-after-christmas-B
    missing=[first_reading, morning_psalms]
Check 2nd-sunday-after-christmas-C
    missing=[first_reading, morning_psalms]
Check epiphany-A
    missing=[first_reading, morning_psalms]
Check epiphany-B
    missing=[first_reading, morning_psalms]
Check epiphany-C
    missing=[first_reading, morning_psalms]
Check 1st-epiphany-A
    missing=[first_reading, morning_psalms]
Check 1st-epiphany-B
    missing=[first_reading, morning_psalms]
Check 1st-epiphany-C
    missing=[first_reading, morning_psalms]
Check 2nd-epiphany-A
    missing=[first_reading, morning_psalms]
Check 2nd-epiphany-B
    missing=[first_reading, morning_psalms]
Check 2nd-epiphany-C
    missing=[first_reading, morning_psalms]
Check 3rd-epiphany-A
    missing=[first_reading, morning_psalms]
Check 3rd-epiphany-B
    missing=[first_reading, morning_psalms]
Check 3rd-epiphany-C
    missing=[first_reading, morning_psalms]
Check 4th-epiphany-A
    missing=[first_reading, morning_psalms]
Check 4th-epiphany-B
    missing=[first_reading, morning_psalms]
Check 4th-epiphany-C
    missing=[first_reading, morning_psalms]
Check 5th-epiphany-A
    missing=[first_reading, morning_psalms]
Check 5th-epiphany-B
    missing=[first_reading, morning_psalms]
Check 5th-epiphany-C
    missing=[first_reading, morning_psalms]
Check 6th-epiphany-A
    missing=[first_reading, morning_psalms]
Check 6th-epiphany-B
    missing=[first_reading, morning_psalms]
Check 6th-epiphany-C
    missing=[first_reading, morning_psalms]
Check 7th-epiphany-A
    missing=[first_reading, morning_psalms]
Check 7th-epiphany-B
    missing=[first_reading, morning_psalms]
Check 7th-epiphany-C
    missing=[first_reading, morning_psalms]
Check 8th-epiphany-A
    missing=[first_reading, morning_psalms]
Check 8th-epiphany-B
    missing=[first_reading, morning_psalms]
Check 8th-epiphany-C
    missing=[first_reading, morning_psalms]
Check last-epiphany-A
    missing=[first_reading, morning_psalms]
Check last-epiphany-B
    missing=[first_reading, morning_psalms]
Check last-epiphany-C
    missing=[first_reading, morning_psalms]
Check wednesday-last-epiphany-A
    missing=[first_reading, morning_psalms]
Check wednesday-last-epiphany-B
    missing=[first_reading, morning_psalms]
Check wednesday-last-epiphany-C
    missing=[first_reading, morning_psalms]
Check 1st-lent-A
    missing=[first_reading, morning_psalms]
Check 1st-lent-B
    missing=[first_reading, morning_psalms]
Check 1st-lent-C
    missing=[first_reading, morning_psalms]
Check 2nd-lent-A
    missing=[first_reading, morning_psalms]
Check 2nd-lent-B
    missing=[first_reading, morning_psalms]
Check 2nd-lent-C
    missing=[first_reading, morning_psalms]
Check 3rd-lent-A
    missing=[first_reading, morning_psalms]
Check 3rd-lent-B
    missing=[first_reading, morning_psalms]
Check 3rd-lent-C
    missing=[first_reading, morning_psalms]
Check 4th-lent-A
    missing=[first_reading, morning_psalms]
Check 4th-lent-B
    missing=[first_reading, morning_psalms]
Check 4th-lent-C
    missing=[first_reading, morning_psalms]
Check 5th-lent-A
    missing=[first_reading, morning_psalms]
Check 5th-lent-B
    missing=[first_reading, morning_psalms]
Check 5th-lent-C
    missing=[first_reading, morning_psalms]
Check holy-week-A
    extra  =[palms_gospel]
    missing=[first_reading, morning_psalms]
Check holy-week-B
    extra  =[palms_gospel, palms_gospel]
    missing=[first_reading, morning_psalms]
Check holy-week-C
    extra  =[palms_gospel]
    missing=[first_reading, morning_psalms]
Check monday-holy-week-A
    missing=[first_reading, morning_psalms]
Check monday-holy-week-B
    missing=[first_reading, morning_psalms]
Check monday-holy-week-C
    missing=[first_reading, morning_psalms]
Check tuesday-holy-week-A
    missing=[first_reading, morning_psalms]
Check tuesday-holy-week-B
    missing=[first_reading, morning_psalms]
Check tuesday-holy-week-C
    missing=[first_reading, morning_psalms]
Check wednesday-holy-week-A
    missing=[first_reading, morning_psalms]
Check wednesday-holy-week-B
    missing=[first_reading, morning_psalms]
Check wednesday-holy-week-C
    missing=[first_reading, morning_psalms]
Check thursday-holy-week-A
    missing=[first_reading, morning_psalms]
Check thursday-holy-week-B
    missing=[first_reading, morning_psalms]
Check thursday-holy-week-C
    missing=[first_reading, morning_psalms]
Check friday-holy-week-A
    missing=[first_reading, morning_psalms]
Check friday-holy-week-B
    missing=[first_reading, morning_psalms]
Check friday-holy-week-C
    missing=[first_reading, morning_psalms]
Check saturday-holy-week-A
    missing=[first_reading, morning_psalms]
Check saturday-holy-week-B
    missing=[first_reading, morning_psalms]
Check saturday-holy-week-C
    missing=[first_reading, morning_psalms]
Check easter-A
    missing=[first_reading, morning_psalms]
Check easter-B
    extra  =[second_reading, gospel]
    missing=[first_reading, morning_psalms]
Check easter-C
    missing=[first_reading, morning_psalms]
Check monday-easter-A
    missing=[first_reading, morning_psalms]
Check monday-easter-B
    missing=[first_reading, morning_psalms]
Check monday-easter-C
    missing=[first_reading, morning_psalms]
Check tuesday-easter-A
    missing=[first_reading, morning_psalms]
Check tuesday-easter-B
    missing=[first_reading, morning_psalms]
Check tuesday-easter-C
    missing=[first_reading, morning_psalms]
Check wednesday-easter-A
    missing=[first_reading, morning_psalms]
Check wednesday-easter-B
    missing=[first_reading, morning_psalms]
Check wednesday-easter-C
    missing=[first_reading, morning_psalms]
Check thursday-easter-A
    missing=[first_reading, morning_psalms]
Check thursday-easter-B
    missing=[first_reading, morning_psalms]
Check thursday-easter-C
    missing=[first_reading, morning_psalms]
Check friday-easter-A
    missing=[first_reading, morning_psalms]
Check friday-easter-B
    missing=[first_reading, morning_psalms]
Check friday-easter-C
    missing=[first_reading, morning_psalms]
Check saturday-easter-A
    missing=[first_reading, morning_psalms]
Check saturday-easter-B
    missing=[first_reading, morning_psalms]
Check saturday-easter-C
    missing=[first_reading, morning_psalms]
Check 2nd-easter-A
    missing=[first_reading, morning_psalms]
Check 2nd-easter-B
    missing=[first_reading, morning_psalms]
Check 2nd-easter-C
    missing=[first_reading, morning_psalms]
Check 3rd-easter-A
    missing=[first_reading, morning_psalms]
Check 3rd-easter-B
    missing=[first_reading, morning_psalms]
Check 3rd-easter-C
    missing=[first_reading, morning_psalms]
Check 4th-easter-A
    missing=[first_reading, morning_psalms]
Check 4th-easter-B
    missing=[first_reading, morning_psalms]
Check 4th-easter-C
    missing=[first_reading, morning_psalms]
Check 5th-easter-A
    missing=[first_reading, morning_psalms]
Check 5th-easter-B
    missing=[first_reading, morning_psalms]
Check 5th-easter-C
    missing=[first_reading, morning_psalms]
Check 6th-easter-A
    missing=[first_reading, morning_psalms]
Check 6th-easter-B
    missing=[first_reading, morning_psalms]
Check 6th-easter-C
    missing=[first_reading, morning_psalms]
Check thursday-6th-easter-A
    missing=[first_reading, morning_psalms]
Check thursday-6th-easter-B
    missing=[first_reading, morning_psalms]
Check thursday-6th-easter-C
    missing=[first_reading, morning_psalms]
Check 7th-easter-A
    missing=[first_reading, morning_psalms]
Check 7th-easter-B
    missing=[first_reading, morning_psalms]
Check 7th-easter-C
    missing=[first_reading, morning_psalms]
Check pentecost-A
    missing=[first_reading, morning_psalms]
Check pentecost-B
    missing=[first_reading, morning_psalms]
Check pentecost-C
    missing=[first_reading, morning_psalms]
Check trinity-sunday-A
    missing=[first_reading, morning_psalms]
Check trinity-sunday-B
    missing=[first_reading, morning_psalms]
Check trinity-sunday-C
    missing=[first_reading, morning_psalms]
Check proper-1-A
    missing=[first_reading, morning_psalms]
Check proper-1-B
    missing=[first_reading, morning_psalms]
Check proper-1-C
    missing=[first_reading, morning_psalms]
Check proper-2-A
    missing=[first_reading, morning_psalms]
Check proper-2-B
    missing=[first_reading, morning_psalms]
Check proper-2-C
    missing=[first_reading, morning_psalms]
Check proper-3-A
    missing=[first_reading, morning_psalms]
Check proper-3-B
    missing=[first_reading, morning_psalms]
Check proper-3-C
    missing=[first_reading, morning_psalms]
Check proper-7-B
    extra  =[morning_psalms]
Check proper-7-C
    extra  =[morning_psalms]
Check proper-11-A
    extra  =[morning_psalms]
Check proper-19-A
    extra  =[morning_psalms]
Check proper-27-C
    extra  =[morning_psalms]
Check confession-of-st-peter-A
    missing=[first_reading, morning_psalms]
Check confession-of-st-peter-B
    missing=[first_reading, morning_psalms]
Check confession-of-st-peter-C
    missing=[first_reading, morning_psalms]
Check conversion-of-st-paul-A
    missing=[first_reading, morning_psalms]
Check conversion-of-st-paul-B
    missing=[first_reading, morning_psalms]
Check conversion-of-st-paul-C
    missing=[first_reading, morning_psalms]
Check the-presentation-A
    missing=[first_reading, morning_psalms]
Check the-presentation-B
    missing=[first_reading, morning_psalms]
Check the-presentation-C
    missing=[first_reading, morning_psalms]
Check st-matthias-A
    missing=[first_reading, morning_psalms]
Check st-matthias-B
    missing=[first_reading, morning_psalms]
Check st-matthias-C
    missing=[first_reading, morning_psalms]
Check st-joseph-A
    missing=[first_reading, morning_psalms]
Check st-joseph-B
    missing=[first_reading, morning_psalms]
Check st-joseph-C
    missing=[first_reading, morning_psalms]
Check annunciation-A
    missing=[first_reading, morning_psalms]
Check annunciation-B
    missing=[first_reading, morning_psalms]
Check annunciation-C
    missing=[first_reading, morning_psalms]
Check st-mark-A
    missing=[first_reading, morning_psalms]
Check st-mark-B
    missing=[first_reading, morning_psalms]
Check st-mark-C
    missing=[first_reading, morning_psalms]
Check ss-philip-and-james-A
    missing=[first_reading, morning_psalms]
Check ss-philip-and-james-B
    missing=[first_reading, morning_psalms]
Check ss-philip-and-james-C
    missing=[first_reading, morning_psalms]
Check the-visitation-A
    missing=[first_reading, morning_psalms]
Check the-visitation-B
    missing=[first_reading, morning_psalms]
Check the-visitation-C
    missing=[first_reading, morning_psalms]
Check st-barnabas-A
    missing=[first_reading, morning_psalms]
Check st-barnabas-B
    missing=[first_reading, morning_psalms]
Check st-barnabas-C
    missing=[first_reading, morning_psalms]
Check nativity-of-st-john-the-baptist-A
    missing=[first_reading, morning_psalms]
Check nativity-of-st-john-the-baptist-B
    missing=[first_reading, morning_psalms]
Check nativity-of-st-john-the-baptist-C
    missing=[first_reading, morning_psalms]
Check ss-peter-and-paul-A
    missing=[first_reading, morning_psalms]
Check ss-peter-and-paul-B
    missing=[first_reading, morning_psalms]
Check ss-peter-and-paul-C
    missing=[first_reading, morning_psalms]
Check independence-day-A
    missing=[first_reading, morning_psalms]
Check independence-day-B
    missing=[first_reading, morning_psalms]
Check independence-day-C
    missing=[first_reading, morning_psalms]
Check st-mary-magdalene-A
    missing=[first_reading, morning_psalms]
Check st-mary-magdalene-B
    missing=[first_reading, morning_psalms]
Check st-mary-magdalene-C
    missing=[first_reading, morning_psalms]
Check st-james-A
    missing=[first_reading, morning_psalms]
Check st-james-B
    missing=[first_reading, morning_psalms]
Check st-james-C
    missing=[first_reading, morning_psalms]
Check the-transfiguration-A
    missing=[first_reading, morning_psalms]
Check the-transfiguration-B
    missing=[first_reading, morning_psalms]
Check the-transfiguration-C
    missing=[first_reading, morning_psalms]
Check st-mary-the-virgin-A
    missing=[first_reading, morning_psalms]
Check st-mary-the-virgin-B
    missing=[first_reading, morning_psalms]
Check st-mary-the-virgin-C
    missing=[first_reading, morning_psalms]
Check st-bartholomew-A
    missing=[first_reading, morning_psalms]
Check st-bartholomew-B
    missing=[first_reading, morning_psalms]
Check st-bartholomew-C
    missing=[first_reading, morning_psalms]
Check holy-cross-A
    missing=[first_reading, morning_psalms]
Check holy-cross-B
    missing=[first_reading, morning_psalms]
Check holy-cross-C
    missing=[first_reading, morning_psalms]
Check st-matthew-A
    missing=[first_reading, morning_psalms]
Check st-matthew-B
    missing=[first_reading, morning_psalms]
Check st-matthew-C
    missing=[first_reading, morning_psalms]
Check st-michael-A
    missing=[first_reading, morning_psalms]
Check st-michael-B
    missing=[first_reading, morning_psalms]
Check st-michael-C
    missing=[first_reading, morning_psalms]
Check st-luke-A
    missing=[first_reading, morning_psalms]
Check st-luke-B
    missing=[first_reading, morning_psalms]
Check st-luke-C
    missing=[first_reading, morning_psalms]
Check st-james-of-jerusalem-A
    missing=[first_reading, morning_psalms]
Check st-james-of-jerusalem-B
    missing=[first_reading, morning_psalms]
Check st-james-of-jerusalem-C
    missing=[first_reading, morning_psalms]
Check ss-simon-and-jude-A
    missing=[first_reading, morning_psalms]
Check ss-simon-and-jude-B
    missing=[first_reading, morning_psalms]
Check ss-simon-and-jude-C
    missing=[first_reading, morning_psalms]
Check all-saints-day-A
    missing=[first_reading, morning_psalms]
Check all-saints-day-B
    missing=[first_reading, morning_psalms]
Check all-saints-day-C
    missing=[first_reading, morning_psalms]
Check st-andrew-A
    missing=[first_reading, morning_psalms]
Check st-andrew-B
    missing=[first_reading, morning_psalms]
Check st-andrew-C
    missing=[first_reading, morning_psalms]
Check st-thomas-A
    missing=[first_reading, morning_psalms]
Check st-thomas-B
    missing=[first_reading, morning_psalms]
Check st-thomas-C
    missing=[first_reading, morning_psalms]
Check st-stephen-A
    missing=[first_reading, morning_psalms]
Check st-stephen-B
    missing=[first_reading, morning_psalms]
Check st-stephen-C
    missing=[first_reading, morning_psalms]
Check st-john-A
    missing=[first_reading, morning_psalms]
Check st-john-B
    missing=[first_reading, morning_psalms]
Check st-john-C
    missing=[first_reading, morning_psalms]
Check holy-innocents-A
    missing=[first_reading, morning_psalms]
Check holy-innocents-B
    missing=[first_reading, morning_psalms]
Check holy-innocents-C
    missing=[first_reading, morning_psalms]
Check thanksgiving-day-A
    missing=[first_reading, morning_psalms]
Check thanksgiving-day-B
    missing=[first_reading, morning_psalms]
Check thanksgiving-day-C
    missing=[first_reading, morning_psalms]


rcl2:
Check second-advent-C
    extra  =[first_reading]
Check third-advent-A
    extra  =[morning_psalms]
Check third-advent-B
    extra  =[morning_psalms]
Check fourth-advent-B
    extra  =[morning_psalms]
Check fourth-advent-C
    extra  =[morning_psalms]
Check 8th-epiphany-C
    extra  =[first_reading]
Check last-epiphany-A
    extra  =[morning_psalms]
Check wednesday-last-epiphany-A
    extra  =[morning_psalms]
Check wednesday-last-epiphany-B
    extra  =[morning_psalms]
Check wednesday-last-epiphany-C
    extra  =[morning_psalms]
Check 5th-lent-B
    extra  =[morning_psalms]
Check holy-week-A
    extra  =[palms_gospel]
Check holy-week-B
    extra  =[palms_gospel, palms_gospel]
Check holy-week-C
    extra  =[palms_gospel]
Check easter-B
    extra  =[first_reading, morning_psalms, second_reading, gospel]
Check easter-C
    extra  =[first_reading]
Check monday-easter-A
    extra  =[morning_psalms]
    missing=[first_reading]
Check monday-easter-B
    extra  =[morning_psalms]
    missing=[first_reading]
Check monday-easter-C
    extra  =[morning_psalms]
    missing=[first_reading]
Check tuesday-easter-A
    extra  =[morning_psalms]
    missing=[first_reading]
Check tuesday-easter-B
    extra  =[morning_psalms]
    missing=[first_reading]
Check tuesday-easter-C
    extra  =[morning_psalms]
    missing=[first_reading]
Check wednesday-easter-A
    extra  =[morning_psalms]
    missing=[first_reading]
Check wednesday-easter-B
    extra  =[morning_psalms]
    missing=[first_reading]
Check wednesday-easter-C
    extra  =[morning_psalms]
    missing=[first_reading]
Check thursday-easter-A
    extra  =[morning_psalms]
    missing=[first_reading]
Check thursday-easter-B
    extra  =[morning_psalms]
    missing=[first_reading]
Check thursday-easter-C
    extra  =[morning_psalms]
    missing=[first_reading]
Check friday-easter-A
    extra  =[morning_psalms]
    missing=[first_reading]
Check friday-easter-B
    extra  =[morning_psalms]
    missing=[first_reading]
Check friday-easter-C
    extra  =[morning_psalms]
    missing=[first_reading]
Check saturday-easter-A
    extra  =[morning_psalms]
    missing=[first_reading]
Check saturday-easter-B
    extra  =[morning_psalms]
    missing=[first_reading]
Check saturday-easter-C
    extra  =[morning_psalms]
    missing=[first_reading]
Check 2nd-easter-C
    extra  =[morning_psalms]
Check thursday-6th-easter-A
    extra  =[morning_psalms]
Check thursday-6th-easter-B
    extra  =[morning_psalms]
Check thursday-6th-easter-C
    extra  =[morning_psalms]
Check pentecost-C
    extra  =[first_reading]
Check trinity-sunday-A
    extra  =[morning_psalms]
Check trinity-sunday-B
    extra  =[morning_psalms]
Check trinity-sunday-C
    extra  =[morning_psalms]
Check proper-3-C
    extra  =[first_reading]
Check proper-17-C
    extra  =[first_reading]
Check proper-25-C
    extra  =[first_reading]
Check the-presentation-A
    extra  =[morning_psalms]
Check the-presentation-B
    extra  =[morning_psalms]
Check the-presentation-C
    extra  =[morning_psalms]
Check st-joseph-A
    extra  =[morning_psalms]
Check st-joseph-B
    extra  =[morning_psalms]
Check st-joseph-C
    extra  =[morning_psalms]
Check annunciation-A
    extra  =[morning_psalms]
Check annunciation-B
    extra  =[morning_psalms]
Check annunciation-C
    extra  =[morning_psalms]
Check st-mark-A
    extra  =[morning_psalms]
Check st-mark-B
    extra  =[morning_psalms]
Check st-mark-C
    extra  =[morning_psalms]
Check nativity-of-st-john-the-baptist-A
    extra  =[morning_psalms]
Check nativity-of-st-john-the-baptist-B
    extra  =[morning_psalms]
Check nativity-of-st-john-the-baptist-C
    extra  =[morning_psalms]
Check independence-day-A
    extra  =[morning_psalms]
Check independence-day-B
    extra  =[morning_psalms]
Check independence-day-C
    extra  =[morning_psalms]
Check the-transfiguration-A
    extra  =[morning_psalms]
Check the-transfiguration-B
    extra  =[morning_psalms]
Check the-transfiguration-C
    extra  =[morning_psalms]
Check st-mary-the-virgin-A
    extra  =[morning_psalms]
Check st-mary-the-virgin-B
    extra  =[morning_psalms]
Check st-mary-the-virgin-C
    extra  =[morning_psalms]
Check st-bartholomew-A
    extra  =[morning_psalms]
Check st-bartholomew-B
    extra  =[morning_psalms]
Check st-bartholomew-C
    extra  =[morning_psalms]
Check holy-cross-A
    extra  =[morning_psalms]
Check holy-cross-B
    extra  =[morning_psalms]
Check holy-cross-C
    extra  =[morning_psalms]
Check st-michael-A
    extra  =[morning_psalms]
Check st-michael-B
    extra  =[morning_psalms]
Check st-michael-C
    extra  =[morning_psalms]
Check st-luke-A
    extra  =[morning_psalms]
Check st-luke-B
    extra  =[morning_psalms]
Check st-luke-C
    extra  =[morning_psalms]
Check all-saints-day-B
    extra  =[first_reading]
Check st-andrew-A
    extra  =[morning_psalms]
Check st-andrew-B
    extra  =[morning_psalms]
Check st-andrew-C
    extra  =[morning_psalms]
Check st-stephen-A
    extra  =[morning_psalms]
Check st-stephen-B
    extra  =[morning_psalms]
Check st-stephen-C
    extra  =[morning_psalms]
Check st-john-A
    extra  =[morning_psalms]
Check st-john-B
    extra  =[morning_psalms]
Check st-john-C
    extra  =[morning_psalms]
#+end_example
*** Show records
#+BEGIN_SRC python
  import json

  def loadlectionary(filename):
    with open(filename, "r") as f:
      data = f.read()
    return json.loads(data)

  def analyze(data, when, day):
    print("Records for " + day + "-" + when)
    for i in data:
      if(i['day']==day and i['when']==when):
        print(i)

  rcl1 = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl1.json')
  rcl2 = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl2.json')

  print("rcl1")
  analyze(rcl1, "A", "third-advent")
  print()
  print("rcl2")
  analyze(rcl2, "A", "third-advent")



  print("\n\n\nrcl1")
  analyze(rcl1, "A", "proper-11")
  print()
  print("rcl2")
  analyze(rcl2, "A", "proper-11")

#+END_SRC

#+RESULTS:
#+begin_example
rcl1
Records for third-advent-A
{'whentype': 'year', 'when': 'A', 'day': 'third-advent', 'lectionary': 'rclsundayTrack1', 'type': 'second_reading', 'citation': 'James 5:7-10'}
{'whentype': 'year', 'when': 'A', 'day': 'third-advent', 'lectionary': 'rclsundayTrack1', 'type': 'gospel', 'citation': 'Matthew 11:2-11'}

rcl2
Records for third-advent-A
{'whentype': 'year', 'when': 'A', 'day': 'third-advent', 'lectionary': 'rclsunday', 'type': 'first_reading', 'citation': 'Isaiah 35:1-10'}
{'whentype': 'year', 'when': 'A', 'day': 'third-advent', 'lectionary': 'rclsunday', 'type': 'morning_psalms', 'citation': 'Psalm 146:4-9'}
{'whentype': 'year', 'when': 'A', 'day': 'third-advent', 'lectionary': 'rclsunday', 'type': 'second_reading', 'citation': 'James 5:7-10'}
{'whentype': 'year', 'when': 'A', 'day': 'third-advent', 'lectionary': 'rclsunday', 'type': 'gospel', 'citation': 'Matthew 11:2-11'}
{'whentype': 'year', 'when': 'A', 'day': 'third-advent', 'lectionary': 'rclsunday', 'type': 'morning_psalms', 'citation': 'canticle-15'}



rcl1
Records for proper-11-A
{'whentype': 'year', 'when': 'A', 'day': 'proper-11', 'lectionary': 'rclsundayTrack1', 'type': 'first_reading', 'citation': 'Genesis 28:10-19'}
{'whentype': 'year', 'when': 'A', 'day': 'proper-11', 'lectionary': 'rclsundayTrack1', 'type': 'morning_psalms', 'citation': 'Psalm 139:1-11,22-23'}
{'whentype': 'year', 'when': 'A', 'day': 'proper-11', 'lectionary': 'rclsundayTrack1', 'type': 'second_reading', 'citation': 'Romans 8:12-25'}
{'whentype': 'year', 'when': 'A', 'day': 'proper-11', 'lectionary': 'rclsundayTrack1', 'type': 'gospel', 'citation': 'Matthew 13:24-30,36-43'}
{'whentype': 'year', 'when': 'A', 'day': 'proper-11', 'lectionary': 'rclsundayTrack1', 'type': 'morning_psalms', 'citation': 'Wisdom of Solomon 12:13,16-19'}

rcl2
Records for proper-11-A
{'whentype': 'year', 'when': 'A', 'day': 'proper-11', 'lectionary': 'rclsunday', 'type': 'first_reading', 'citation': 'Isaiah 44:6-8'}
{'whentype': 'year', 'when': 'A', 'day': 'proper-11', 'lectionary': 'rclsunday', 'type': 'morning_psalms', 'citation': 'Psalm 86:11-17'}
{'whentype': 'year', 'when': 'A', 'day': 'proper-11', 'lectionary': 'rclsunday', 'type': 'second_reading', 'citation': 'Romans 8:12-25'}
{'whentype': 'year', 'when': 'A', 'day': 'proper-11', 'lectionary': 'rclsunday', 'type': 'gospel', 'citation': 'Matthew 13:24-30,36-43'}
#+end_example

*** DONE Improving rcl1/rcl2
CLOSED: [2021-10-07 Thu 18:56]

**** Generate format like BCP for visual comparison
**** DONE TODO: Year A
CLOSED: [2021-10-05 Tue 22:04]
**** DONE TODO: Year B
CLOSED: [2021-10-06 Wed 22:45]
**** DONE Year C (20211001)
CLOSED: [2021-10-03 Sun 21:10]
**** DONE Correct errors +A+ B +C+
CLOSED: [2021-10-06 Wed 21:33]
**** DONE Add missing letters for partial verses +A+ B +C+
CLOSED: [2021-10-06 Wed 21:59]
**** DONE Fix spacing around commas, semicolons +A+ +B+ +C+
CLOSED: [2021-10-03 Sun 14:20]

***** no space after comma (skipping verses)

***** remove duplicated chapter specifer (more verses, same chapter)

***** space after semicolon (skipping to later chapters)

***** BCP seems to use en-dash for verse range inside a single chapter, em-dash when it crosses chapters. Ignore.

**** DONE Add missing parenthetical specifications +A+ B +C+
CLOSED: [2021-10-06 Wed 21:59]
**** DONE Add missing alternative readings +A+ B +C+
CLOSED: [2021-10-06 Wed 22:45]
**** DONE Rename Ecclesiasticus to Sirach, Wisdom to Wisdom of Solomon
CLOSED: [2021-10-03 Sun 20:18]
**** DONE Add missing days
CLOSED: [2021-10-04 Mon 21:38]
***** DONE christmas-ii
CLOSED: [2021-10-04 Mon 20:59]
***** DONE christmas-iii
CLOSED: [2021-10-04 Mon 20:59]
***** DONE easter-day-the-great-vigil
CLOSED: [2021-10-04 Mon 21:28]
***** DONE easter-day-evening-service
CLOSED: [2021-10-04 Mon 21:04]
***** DONE day-of-pentecost-early-or-vigil-service
CLOSED: [2021-10-04 Mon 21:13]
***** DONE liturgy of palms?
CLOSED: [2021-10-04 Mon 21:33]
**** Run Test: Check citation formatting (below)
**** Run Test: Check for consistent duplicated data (below)
**** Print like BCP & compare again (below)
**** See if the duplicate data is all consistent
Yup, qol b'seder!
#+BEGIN_SRC python
  import json

  def loadlectionary(filename):
    with open(filename, "r") as f:
      data = f.read()
    return json.loads(data)

  def narrow_data_set(data, field, value):
    results=[]
    for i in data:
      if(i[field]==value):
        results.append(i)
    return results

  def get_days_set(data):
    days=[]
    for i in data:
      if(i['day'] not in days):
        days.append(i['day'])
    return days

  def compare_readings(data1, data2, day, year):
    records1 = narrow_data_set(narrow_data_set(data1, 'day', day), 'when', year)
    records2 = narrow_data_set(narrow_data_set(data2, 'day', day), 'when', year)
    readings = ['first_reading', 'second_reading', 'gospel', 'morning_psalms']
    missing = []
    for r in readings:
      citations1 = []
      citations2 = []
      for i in narrow_data_set(records1, 'type', r):
        citations1.append(i['citation'])
      for i in narrow_data_set(records2, 'type', r):
        citations2.append(i['citation'])
      for i in citations1:
         if i in citations2:
           citations2.remove(i)
      if(day.find('proper')>=0 and r in ['first_reading', 'morning_psalms']):
        ok = 1
      else:
          if(len(citations1) > 0 and len(citations2) > 0):
              print("Mismatch for " + day + "-" + year + ":")
              print("    rcl1  =[" + ", ".join(map(str, citations1)) + "]")
              print("    rcl2  =[" + ", ".join(map(str, citations2)) + "]")

  rcl1 = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl1.json')
  rcl2 = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl2.json')

  days = get_days_set(rcl1)
  years = ['A', 'B', 'C']

  for d in days:
      for y in years:
        compare_readings(rcl1, rcl2, d, y)

#+END_SRC

#+RESULTS:
**** Check citation formatting
Chapter numbers shouldn't be repeated
Commas should not be followed by spaces
Semicolons /should/ be followed by a space
#+BEGIN_SRC python
  import json

  def loadlectionary(filename):
    with open(filename, "r") as f:
      data = f.read()
    return json.loads(data)

  def report(record, condition):
    year = record["when"]
    day = record["day"]
    reading = record["type"]
    print("- " + day + " (" + year + ") " + reading + ":  " + condition)

  def check_citation(record):
    citation = record["citation"]

    chapters = citation.split(":")
    if len(chapters)>2:
       if (chapters[0][-1] == chapters[1][-1]):
         report(record, "chapter specified multiple times")

    if citation.find(", ") >= 0:
      report(record, "space after comma")

    breaks = citation.split(";")
    for b in breaks[1:]:
     if (b[0] != " "):
       report(record, "missing space after semicolon")

  rcl1 = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl1.json')
  rcl2 = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl2.json')

  print ("********************")
  print ("Checking rcl1.json")
  print ("********************")
  for r in rcl1:
    check_citation(r)
  print ()
  print ()
  print ("********************")
  print ("Checking rcl2.json")
  print ("********************")
  for r in rcl2:
    check_citation(r)

#+END_SRC

#+RESULTS:
: ********************
: Checking rcl1.json
: ********************
:
:
: ********************
: Checking rcl2.json
: ********************
**** Show records formatted like BCP
#+BEGIN_SRC python
  import json

  types = ['first_reading', 'second_reading', 'gospel', 'morning_psalms']
  years = ['A', 'B', 'C']
  breaks = ['advent-1', '1st-sunday-after-christmas', '1st-epiphany', '1st-lent', 'holy-week', 'easter', '4th-easter', 'proper-1', 'proper-4', 'proper-10', 'proper-17', 'proper-24', 'confession-of-st-peter', 'st-mark', 'st-james', 'st-luke', 'st-john']

  def loadlectionary(filename):
    with open(filename, "r") as f:
      data = f.read()
    return json.loads(data)

  def get_days_set(data):
    days=[]
    for i in data:
      if(i['day'] not in days):
        days.append(i['day'])
    return days

  def narrow_data_set(data, field, value):
    results=[]
    for i in data:
      if(i[field]==value):
        results.append(i)
    return results

  def get_citations(data, type):
    results = []
    for i in narrow_data_set(data, 'type', type):
       if i['citation'] not in results:
         if (results):
           results.append("/or/ " + i['citation'])
         else:
           results.append(i['citation'])
    results.reverse() # return reverse so they can be retrieved with .pop()
    return results

  def show(data, when, day):
    data = narrow_data_set(narrow_data_set(data, 'when', when), 'day', day)
    track1 = narrow_data_set(data, 'lectionary', 'rclsundayTrack1')
    track2 = narrow_data_set(data, 'lectionary', 'rclsunday')
    if (day.find("proper")>=0):
      psalms=get_citations(track2, 'morning_psalms')
      psalms+=get_citations(track2, 'first_reading')
      psalms+=get_citations(track1, 'morning_psalms')
      psalms+=get_citations(track1, 'first_reading')
      lessons=get_citations(data, 'gospel')
      lessons+=get_citations(data, 'second_reading')
      print("| " + day + " | " + psalms.pop() + " | " + lessons.pop() + " | ")
      while (psalms):
        if (lessons):
          print("|           | " + psalms.pop() + " | " + lessons.pop() + " | ")
        else:
          print("|           | " + psalms.pop() + " |                 |")
    else:
      psalms=get_citations(track2, 'morning_psalms')
      lessons=get_citations(track2, 'gospel')
      lessons+=get_citations(track2, 'second_reading')
      lessons+=get_citations(track2, 'first_reading')
      print("| " + day + " | " + psalms.pop() + " | " + lessons.pop() + " | ")
      while (lessons):
        if (psalms):
          print("|           | " + psalms.pop() + " | " + lessons.pop() + " | ")
        else:
          print("|           |                | " + lessons.pop() + " | ")



  # Load rcl2 first becuase it has the most days, ordered better
  rcl = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl2.json')
  rcl += loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl1.json')
  days = get_days_set(rcl)

  print("*** Venite Lectionary Formatted as BCP")
  print()
  for year in years:
    print()
    print()
    print("**** Year " + year)
    for day in days:
      if day in breaks:
          print()
          print("|-----------|----------|--------|")
          if day.find("proper") >= 0:
              print("|Day | OT & Psalms | NT Lessons |")
          else:
              print("|Day | Psalm | Lesson |")
      show(rcl, year, day)
      print("| | | |")





#+END_SRC

***** Venite Lectionary Formatted as BCP



****** Year A
| first-advent | Psalm 122 | Isaiah 2:1-5 |
|           |                | Romans 13:11-14 |
|           |                | Matthew 24:36-44 |
| | | |
| second-advent | Psalm 72:1-7,18-19 | Isaiah 11:1-10 |
|           |                | Romans 15:4-13 |
|           |                | Matthew 3:1-12 |
| | | |
| third-advent | Psalm 146:4-9 | Isaiah 35:1-10 |
|           | /or/ canticle-15 | James 5:7-10 |
|           |                | Matthew 11:2-11 |
| | | |
| fourth-advent | Psalm 80:1-7,16-18 | Isaiah 7:10-16 |
|           |                | Romans 1:1-7 |
|           |                | Matthew 1:18-25 |
| | | |
| christmas | Psalm 96 | Isaiah 9:2-7 |
|           |                | Titus 2:11-14 |
|           |                | Luke 2:1-14,(15-20) |
| | | |
| christmas-day-ii | Psalm 97 | Isaiah 62:6-12 |
|           |                | Titus 3:4-7 |
|           |                | Luke 2:(1-7),8-20 |
| | | |
| christmas-day-iii | Psalm 98 | Isaiah 52:7-10 |
|           |                | Hebrews 1:1-4,(5-12) |
|           |                | John 1:1-14 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| 1st-sunday-after-christmas | Psalm 147 | Isaiah 61:10-62:3 |
|           | /or/ Psalm 147:13-21 | Galatians 3:23-25; 4:4-7 |
|           |                | John 1:1-18 |
| | | |
| holy-name | Psalm 8 | Numbers 6:22-27 |
|           |                | Galatians 4:4-7 |
|           |                | /or/ Philippians 2:5-11 |
|           |                | Luke 2:15-21 |
| | | |
| 2nd-sunday-after-christmas | Psalm 84 | Jeremiah 31:7-14 |
|           | /or/ Psalm 84:1-8 | Ephesians 1:3-6,15-19a |
|           |                | Matthew 2:13-15,19-23 |
|           |                | /or/ Luke 2:41-52 |
|           |                | /or/ Matthew 2:1-12 |
| | | |
| epiphany | Psalm 72:1-7,10-14 | Isaiah 60:1-6 |
|           |                | Ephesians 3:1-12 |
|           |                | Matthew 2:1-12 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| 1st-epiphany | Psalm 29 | Isaiah 42:1-9 |
|           |                | Acts 10:34-43 |
|           |                | Matthew 3:13-17 |
| | | |
| 2nd-epiphany | Psalm 40:1-12 | Isaiah 49:1-7 |
|           |                | 1 Corinthians 1:1-9 |
|           |                | John 1:29-42 |
| | | |
| 3rd-epiphany | Psalm 27:1,5-13 | Isaiah 9:1-4 |
|           |                | 1 Corinthians 1:10-18 |
|           |                | Matthew 4:12-23 |
| | | |
| 4th-epiphany | Psalm 15 | Micah 6:1-8 |
|           |                | 1 Corinthians 1:18-31 |
|           |                | Matthew 5:1-12 |
| | | |
| 5th-epiphany | Psalm 112:1-9,(10) | Isaiah 58:1-9a,(9b-12) |
|           |                | 1 Corinthians 2:1-12,(13-16) |
|           |                | Matthew 5:13-20 |
| | | |
| 6th-epiphany | Psalm 119:1-8 | Deuteronomy 30:15-20 |
|           |                | /or/ Sirach 15:15-20 |
|           |                | 1 Corinthians 3:1-9 |
|           |                | Matthew 5:21-37 |
| | | |
| 7th-epiphany | Psalm 119:33-40 | Leviticus 19:1-2,9-18 |
|           |                | 1 Corinthians 3:10-11,16-23 |
|           |                | Matthew 5:38-48 |
| | | |
| 8th-epiphany | Psalm 131 | Isaiah 49:8-16a |
|           |                | 1 Corinthians 4:1-5 |
|           |                | Matthew 6:24-34 |
| | | |
| last-epiphany | Psalm 2 | Exodus 24:12-18 |
|           | /or/ Psalm 99 | 2 Peter 1:16-21 |
|           |                | Matthew 17:1-9 |
| | | |
| wednesday-last-epiphany | Psalm 103 | Joel 2:1-2,12-17 |
|           | /or/ Psalm 103:8-14 | /or/ Isaiah 58:1-12 |
|           |                | 2 Corinthians 5:20b-6:10 |
|           |                | Matthew 6:1-6,16-21 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| 1st-lent | Psalm 32 | Genesis 2:15-17; 3:1-7 |
|           |                | Romans 5:12-19 |
|           |                | Matthew 4:1-11 |
| | | |
| 2nd-lent | Psalm 121 | Genesis 12:1-4a |
|           |                | Romans 4:1-5,13-17 |
|           |                | John 3:1-17 |
| | | |
| 3rd-lent | Psalm 95 | Exodus 17:1-7 |
|           |                | Romans 5:1-11 |
|           |                | John 4:5-42 |
| | | |
| 4th-lent | Psalm 23 | 1 Samuel 16:1-13 |
|           |                | Ephesians 5:8-14 |
|           |                | John 9:1-41 |
| | | |
| 5th-lent | Psalm 130 | Ezekiel 37:1-14 |
|           |                | Romans 8:6-11 |
|           |                | John 11:1-45 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| holy-week | Psalm 31:9-16 | Isaiah 50:4-9a |
|           |                | Philippians 2:5-11 |
|           |                | Matthew 26:14-27:66 |
|           |                | /or/ Matthew 27:11-54 |
| | | |
| monday-holy-week | Psalm 36:5-11 | Isaiah 42:1-9 |
|           |                | Hebrews 9:11-15 |
|           |                | John 12:1-11 |
| | | |
| tuesday-holy-week | Psalm 71:1-14 | Isaiah 49:1-7 |
|           |                | 1 Corinthians 1:18-31 |
|           |                | John 12:20-36 |
| | | |
| wednesday-holy-week | Psalm 70 | Isaiah 50:4-9a |
|           |                | Hebrews 12:1-3 |
|           |                | John 13:21-32 |
| | | |
| thursday-holy-week | Psalm 116:1,10-17 | Exodus 12:1-4,(5-10),11-14 |
|           |                | 1 Corinthians 11:23-26 |
|           |                | John 13:1-17,31b-35 |
| | | |
| friday-holy-week | Psalm 22 | Isaiah 52:13-53:12 |
|           |                | Hebrews 10:16-25 |
|           |                | /or/ Hebrews 4:14-16; 5:7-9 |
|           |                | John 18:1-19:42 |
| | | |
| saturday-holy-week | Psalm 31:1-4,15-16 | Job 14:1-14 |
|           |                | /or/ Lamentations 3:1-9,19-24 |
|           |                | 1 Peter 4:1-8 |
|           |                | Matthew 27:57-66 |
|           |                | /or/ John 19:38-42 |
| | | |
| easter-day-the-great-vigil | Psalm 136:1-9,23-26 | Genesis 1:1-2:4a |
|           | /or/ Psalm 46 | /or/ Genesis 7:1-5,11-18; 8:6-18; 9:8-13 |
|           | /or/ Psalm 16 | /or/ Genesis 22:1-18 |
|           | /or/ canticle-8 | /or/ Exodus 14:10-31; 15:20-21 |
|           | /or/ canticle-9 | /or/ Isaiah 55:1-11 |
|           | /or/ Psalm 19 | /or/ Baruch 3:9-15,32-4:4 |
|           | /or/ Psalm 42 and 43 | /or/ Proverbs 8:1-8,19-21; 9:4b-6 |
|           | /or/ Psalm 143 | /or/ Ezekiel 36:24-28 |
|           | /or/ Psalm 98 | /or/ Ezekiel 37:1-14 |
|           | /or/ Psalm 114 | /or/ Zephaniah 3:14-20 |
|           |                | Romans 6:3-11 |
|           |                | Matthew 28:1-10 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| easter | Psalm 118:1-2,14-24 | Acts 10:34-43 |
|           |                | /or/ Jeremiah 31:1-6 |
|           |                | Colossians 3:1-4 |
|           |                | /or/ Acts 10:34-43 |
|           |                | John 20:1-18 |
|           |                | /or/ Matthew 28:1-10 |
| | | |
| easter-day-evening-service | Psalm 114 | Isaiah 25:6-9 |
|           |                | 1 Corinthians 5:6b-8 |
|           |                | Luke 24:13-49 |
| | | |
| monday-easter | Psalm 16:8-11 | Acts 2:14,22b-32 |
|           | /or/ Psalm 118:19-24 | Matthew 28:9-15 |
| | | |
| tuesday-easter | Psalm 33:18-22 | Acts 2:36-41 |
|           | /or/ Psalm 118:19-24 | John 20:11-18 |
| | | |
| wednesday-easter | Psalm 105:1-8 | Acts 3:1-10 |
|           | /or/ Psalm 118:19-24 | Luke 24:13-35 |
| | | |
| thursday-easter | Psalm 8 | Acts 3:11-26 |
|           | /or/ Psalm 114 | Luke 24:36b-48 |
| | | |
| friday-easter | Psalm 116:1-8 | Acts 4:1-12 |
|           | /or/ Psalm 118:19-24 | John 21:1-14 |
| | | |
| saturday-easter | Psalm 118:14-18 | Acts 4:13-21 |
|           | /or/ Psalm 118:19-24 | Mark 16:9-15,20 |
| | | |
| 2nd-easter | Psalm 16 | Acts 2:14a,22-32 |
|           |                | 1 Peter 1:3-9 |
|           |                | John 20:19-31 |
| | | |
| 3rd-easter | Psalm 116:1-3,10-17 | Acts 2:14a,36-41 |
|           |                | 1 Peter 1:17-23 |
|           |                | Luke 24:13-35 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| 4th-easter | Psalm 23 | Acts 2:42-47 |
|           |                | 1 Peter 2:19-25 |
|           |                | John 10:1-10 |
| | | |
| 5th-easter | Psalm 31:1-5,15-16 | Acts 7:55-60 |
|           |                | 1 Peter 2:2-10 |
|           |                | John 14:1-14 |
| | | |
| 6th-easter | Psalm 66:7-18 | Acts 17:22-31 |
|           |                | 1 Peter 3:13-22 |
|           |                | John 14:15-21 |
| | | |
| thursday-6th-easter | Psalm 47 | Acts 1:1-11 |
|           | /or/ Psalm 93 | Ephesians 1:15-23 |
|           |                | Luke 24:44-53 |
| | | |
| 7th-easter | Psalm 68:1-10,33-36 | Acts 1:6-14 |
|           |                | 1 Peter 4:12-14; 5:6-11 |
|           |                | John 17:1-11 |
| | | |
| day-of-pentecost-early-or-vigil-service | Psalm 33:12-22 | Genesis 11:1-9 |
|           | /or/ canticle-13 | /or/ Exodus 19:1-9a,16-20a; 20:18-20 |
|           | /or/ Psalm 130 | /or/ Ezekiel 37:1-14 |
|           | /or/ canticle-9 | /or/ Joel 2:28-32 |
|           | /or/ Psalm 104:25-32 | Acts 2:1-11 |
|           |                | /or/ Romans 8:14-17,22-27 |
|           |                | John 7:37-39a |
| | | |
| pentecost | Psalm 104:25-35,37 | Acts 2:1-21 |
|           |                | /or/ Numbers 11:24-30 |
|           |                | 1 Corinthians 12:3b-13 |
|           |                | /or/ Acts 2:1-21 |
|           |                | John 20:19-23 |
|           |                | /or/ John 7:37-39 |
| | | |
| trinity-sunday | Psalm 8 | Genesis 1:1-2:4a |
|           | /or/ canticle-13 | 2 Corinthians 13:11-13 |
|           |                | Matthew 28:16-20 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-1 | Deuteronomy 30:15-20 | 1 Corinthians 3:1-9 |
|           | /or/ Sirach 15:15-20 | Matthew 5:21-37 |
|           | Psalm 119:1-8 |                 |
| | | |
| proper-2 | Leviticus 19:1-2,9-18 | 1 Corinthians 3:10-11,16-23 |
|           | Psalm 119:33-40 | Matthew 5:38-48 |
| | | |
| proper-3 | Isaiah 49:8-16a | 1 Corinthians 4:1-5 |
|           | Psalm 131 | Matthew 6:24-34 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-4 | Genesis 6:9-22; 7:24; 8:14-19 | Romans 1:16-17; 3:22b-28,(29-31) |
|           | Psalm 46 | Matthew 7:21-29 |
|           | Deuteronomy 11:18-21,26-28 |                 |
|           | Psalm 31:1-5,19-24 |                 |
| | | |
| proper-5 | Genesis 12:1-9 | Romans 4:13-25 |
|           | Psalm 33:1-12 | Matthew 9:9-13,18-26 |
|           | Hosea 5:15-6:6 |                 |
|           | Psalm 50:7-15 |                 |
| | | |
| proper-6 | Genesis 18:1-15; (21:1-7) | Romans 5:1-8 |
|           | Psalm 116:1,10-17 | Matthew 9:35-10:8,(9-23) |
|           | Exodus 19:2-8a |                 |
|           | Psalm 100 |                 |
| | | |
| proper-7 | Genesis 21:8-21 | Romans 6:1b-11 |
|           | Psalm 86:1-10,16-17 | Matthew 10:24-39 |
|           | Jeremiah 20:7-13 |                 |
|           | Psalm 69:8-11,(12-17),18-20 |                 |
| | | |
| proper-8 | Genesis 22:1-14 | Romans 6:12-23 |
|           | Psalm 13 | Matthew 10:40-42 |
|           | Jeremiah 28:5-9 |                 |
|           | Psalm 89:1-4,15-18 |                 |
| | | |
| proper-9 | Genesis 24:34-38,42-49,58-67 | Romans 7:15-25a |
|           | Psalm 45:11-18 | Matthew 11:16-19,25-30 |
|           | /or/ Song of Solomon 2:8-13 |                 |
|           | Zechariah 9:9-12 |                 |
|           | Psalm 145:8-15 |                 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-10 | Genesis 25:19-34 | Romans 8:1-11 |
|           | Psalm 119:105-112 | Matthew 13:1-9,18-23 |
|           | Isaiah 55:10-13 |                 |
|           | Psalm 65:(1-8),9-14 |                 |
| | | |
| proper-11 | Genesis 28:10-19a | Romans 8:12-25 |
|           | Psalm 139:1-11,22-23 | Matthew 13:24-30,36-43 |
|           | /or/ Wisdom of Solomon 12:13,16-19 |                 |
|           | Isaiah 44:6-8 |                 |
|           | Psalm 86:11-17 |                 |
| | | |
| proper-12 | Genesis 29:15-28 | Romans 8:26-39 |
|           | Psalm 105:1-11,45b | Matthew 13:31-33,44-52 |
|           | /or/ Psalm 128 |                 |
|           | 1 Kings 3:5-12 |                 |
|           | Psalm 119:129-136 |                 |
| | | |
| proper-13 | Genesis 32:22-31 | Romans 9:1-5 |
|           | Psalm 17:1-7,16 | Matthew 14:13-21 |
|           | Isaiah 55:1-5 |                 |
|           | Psalm 145:8-9,15-22 |                 |
| | | |
| proper-14 | Genesis 37:1-4,12-28 | Romans 10:5-15 |
|           | Psalm 105:1-6,16-22,45b | Matthew 14:22-33 |
|           | 1 Kings 19:9-18 |                 |
|           | Psalm 85:8-13 |                 |
| | | |
| proper-15 | Genesis 45:1-15 | Romans 11:1-2a,29-32 |
|           | Psalm 133 | Matthew 15:10-20,(21-28) |
|           | Isaiah 56:1,6-8 |                 |
|           | Psalm 67 |                 |
| | | |
| proper-16 | Exodus 1:8-2:10 | Romans 12:1-8 |
|           | Psalm 124 | Matthew 16:13-20 |
|           | Isaiah 51:1-6 |                 |
|           | Psalm 138 |                 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-17 | Exodus 3:1-15 | Romans 12:9-21 |
|           | Psalm 105:1-6,23-26,45c | Matthew 16:21-28 |
|           | Jeremiah 15:15-21 |                 |
|           | Psalm 26:1-8 |                 |
| | | |
| proper-18 | Exodus 12:1-14 | Romans 13:8-14 |
|           | Psalm 149 | Matthew 18:15-20 |
|           | Ezekiel 33:7-11 |                 |
|           | Psalm 119:33-40 |                 |
| | | |
| proper-19 | Exodus 14:19-31 | Romans 14:1-12 |
|           | Psalm 114 | Matthew 18:21-35 |
|           | /or/ Exodus 15:1b-11,20-21 |                 |
|           | Genesis 50:15-21 |                 |
|           | Psalm 103:(1-7),8-13 |                 |
| | | |
| proper-20 | Exodus 16:2-15 | Philippians 1:21-30 |
|           | Psalm 105:1-6,37-45 | Matthew 20:1-16 |
|           | Jonah 3:10-4:11 |                 |
|           | Psalm 145:1-8 |                 |
| | | |
| proper-21 | Exodus 17:1-7 | Philippians 2:1-13 |
|           | Psalm 78:1-4,12-16 | Matthew 21:23-32 |
|           | Ezekiel 18:1-4,25-32 |                 |
|           | Psalm 25:1-8 |                 |
| | | |
| proper-22 | Exodus 20:1-4,7-9,12-20 | Philippians 3:4b-14 |
|           | Psalm 19 | Matthew 21:33-46 |
|           | Isaiah 5:1-7 |                 |
|           | Psalm 80:7-14 |                 |
| | | |
| proper-23 | Exodus 32:1-14 | Philippians 4:1-9 |
|           | Psalm 106:1-6,19-23 | Matthew 22:1-14 |
|           | Isaiah 25:1-9 |                 |
|           | Psalm 23 |                 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-24 | Exodus 33:12-23 | 1 Thessalonians 1:1-10 |
|           | Psalm 99 | Matthew 22:15-22 |
|           | Isaiah 45:1-7 |                 |
|           | Psalm 96:1-9,(10-13) |                 |
| | | |
| proper-25 | Deuteronomy 34:1-12 | 1 Thessalonians 2:1-8 |
|           | Psalm 90:1-6,13-17 | Matthew 22:34-46 |
|           | Leviticus 19:1-2,15-18 |                 |
|           | Psalm 1 |                 |
| | | |
| proper-26 | Joshua 3:7-17 | 1 Thessalonians 2:9-13 |
|           | Psalm 107:1-7,33-37 | Matthew 23:1-12 |
|           | Micah 3:5-12 |                 |
|           | Psalm 43 |                 |
| | | |
| proper-27 | Joshua 24:1-3a,14-25 | 1 Thessalonians 4:13-18 |
|           | Psalm 78:1-7 | Matthew 25:1-13 |
|           | Wisdom of Solomon 6:12-16 |                 |
|           | /or/ Amos 5:18-24 |                 |
|           | Wisdom of Solomon 6:17-20 |                 |
|           | /or/ Psalm 70 |                 |
| | | |
| proper-28 | Judges 4:1-7 | 1 Thessalonians 5:1-11 |
|           | Psalm 123 | Matthew 25:14-30 |
|           | Zephaniah 1:7,12-18 |                 |
|           | Psalm 90:1-8,(9-11),12 |                 |
| | | |
| proper-29 | Ezekiel 34:11-16,20-24 | Ephesians 1:15-23 |
|           | Psalm 100 | Matthew 25:31-46 |
|           | Ezekiel 34:11-16,20-24 |                 |
|           | Psalm 95:1-7a |                 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| confession-of-st-peter | Psalm 23 | Acts 4:8-13 |
|           |                | 1 Peter 5:1-4 |
|           |                | Matthew 16:13-19 |
| | | |
| conversion-of-st-paul | Psalm 67 | Acts 26:9-21 |
|           |                | Galatians 1:11-24 |
|           |                | Matthew 10:16-22 |
| | | |
| the-presentation | Psalm 84 | Malachi 3:1-4 |
|           | /or/ Psalm 24:7-10 | Hebrews 2:14-18 |
|           |                | Luke 2:22-40 |
| | | |
| st-matthias | Psalm 15 | Acts 1:15-26 |
|           |                | Philippians 3:13b-21 |
|           |                | John 15:1,6-16 |
| | | |
| st-joseph | Psalm 89:1-29 | 2 Samuel 7:4,8-16 |
|           | /or/ Psalm 89:1-4,26-29 | Romans 4:13-18 |
|           |                | Luke 2:41-52 |
| | | |
| annunciation | Psalm 45 | Isaiah 7:10-14 |
|           | /or/ Psalm 40:5-10 | Hebrews 10:4-10 |
|           | /or/ canticle-15 | Luke 1:26-38 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-mark | Psalm 2 | Isaiah 52:7-10 |
|           | /or/ Psalm 2:7-10 | Ephesians 4:7-8,11-16 |
|           |                | Mark 1:1-15 |
|           |                | /or/ Mark 16:15-20 |
| | | |
| ss-philip-and-james | Psalm 119:33-40 | Isaiah 30:18-21 |
|           |                | 2 Corinthians 4:1-6 |
|           |                | John 14:6-14 |
| | | |
| the-visitation | Psalm 113 | 1 Samuel 2:1-10 |
|           |                | Romans 12:9-16b |
|           |                | Luke 1:39-57 |
| | | |
| st-barnabas | Psalm 112 | Isaiah 42:5-12 |
|           |                | Acts 11:19-30; 13:1-3 |
|           |                | Matthew 10:7-16 |
| | | |
| nativity-of-st-john-the-baptist | Psalm 85 | Isaiah 40:1-11 |
|           | /or/ Psalm 85:7-13 | Acts 13:14b-26 |
|           |                | Luke 1:57-80 |
| | | |
| ss-peter-and-paul | Psalm 87 | Ezekiel 34:11-16 |
|           |                | 2 Timothy 4:1-8 |
|           |                | John 21:15-19 |
| | | |
| independence-day | Psalm 145 | Deuteronomy 10:17-21 |
|           | /or/ Psalm 145:1-9 | Hebrews 11:8-16 |
|           |                | Matthew 5:43-48 |
| | | |
| st-mary-magdalene | Psalm 42:1-7 | Judith 9:1,11-14 |
|           |                | 2 Corinthians 5:14-18 |
|           |                | John 20:11-18 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-james | Psalm 7:1-10 | Jeremiah 45:1-5 |
|           |                | Acts 11:27-12:3 |
|           |                | Matthew 20:20-28 |
| | | |
| the-transfiguration | Psalm 99 | Exodus 34:29-35 |
|           | /or/ Psalm 99:5-9 | 2 Peter 1:13-21 |
|           |                | Luke 9:28-36 |
| | | |
| st-mary-the-virgin | Psalm 34 | Isaiah 61:10-11 |
|           | /or/ Psalms 34:1-9 | Galatians 4:4-7 |
|           |                | Luke 1:46-55 |
| | | |
| st-bartholomew | Psalm 91 | Deuteronomy 18:15-18 |
|           | /or/ Psalm 91:1-4 | 1 Corinthians 4:9-15 |
|           |                | Luke 22:24-30 |
| | | |
| holy-cross | Psalm 98 | Isaiah 45:21-25 |
|           | /or/ Psalm 98:1-4 | Philippians 2:5-11 |
|           |                | /or/ Galatians 6:14-18 |
|           |                | John 12:31-36a |
| | | |
| st-matthew | Psalm 119:33-40 | Proverbs 3:1-6 |
|           |                | 2 Timothy 3:14-17 |
|           |                | Matthew 9:9-13 |
| | | |
| st-michael | Psalm 103 | Genesis 28:10-17 |
|           | /or/ Psalm 103:19-22 | Revelation 12:7-12 |
|           |                | John 1:47-51 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-luke | Psalm 147 | Sirach 38:1-4,6-10,12-14 |
|           | /or/ Psalm 147:1-7 | 2 Timothy 4:5-13 |
|           |                | Luke 4:14-21 |
| | | |
| st-james-of-jerusalem | Psalm 1 | Acts 15:12-22a |
|           |                | 1 Corinthians 15:1-11 |
|           |                | Matthew 13:54-58 |
| | | |
| ss-simon-and-jude | Psalm 119:89-96 | Deuteronomy 32:1-4 |
|           |                | Ephesians 2:13-22 |
|           |                | John 15:17-27 |
| | | |
| all-saints-day | Psalm 34:1-10,22 | Revelation 7:9-17 |
|           |                | 1 John 3:1-3 |
|           |                | Matthew 5:1-12 |
| | | |
| st-andrew | Psalm 19 | Deuteronomy 30:11-14 |
|           | /or/ Psalm 19:1-6 | Romans 10:8b-18 |
|           |                | Matthew 4:18-22 |
| | | |
| st-thomas | Psalm 126 | Habakkuk 2:1-4 |
|           |                | Hebrews 10:35-11:1 |
|           |                | John 20:24-29 |
| | | |
| st-stephen | Psalm 31 | Jeremiah 26:1-9,12-15 |
|           | /or/ Psalm 31:1-5 | Acts 6:8-7:2a,51c-60 |
|           |                | Matthew 23:34-39 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-john | Psalm 92 | Exodus 33:18-23 |
|           | /or/ Psalm 92:1-4,11-14 | 1 John 1:1-9 |
|           |                | John 21:19b-24 |
| | | |
| holy-innocents | Psalm 124 | Jeremiah 31:15-17 |
|           |                | Revelation 21:1-7 |
|           |                | Matthew 2:13-18 |
| | | |
| thanksgiving-day | Psalm 65 | Deuteronomy 8:7-18 |
|           |                | 2 Corinthians 9:6-15 |
|           |                | Luke 17:11-19 |
| | | |
| palm-sunday-liturgy-of-the-palms | Psalm 118:1-2,19-29 | Matthew 21:1-11 |
| | | |


****** Year B
| first-advent | Psalm 80:1-7,16-18 | Isaiah 64:1-9 |
|           |                | 1 Corinthians 1:3-9 |
|           |                | Mark 13:24-37 |
| | | |
| second-advent | Psalm 85:1-2,8-13 | Isaiah 40:1-11 |
|           |                | 2 Peter 3:8-15a |
|           |                | Mark 1:1-8 |
| | | |
| third-advent | Psalm 126 | Isaiah 61:1-4,8-11 |
|           | /or/ canticle-15 | 1 Thessalonians 5:16-24 |
|           |                | John 1:6-8,19-28 |
| | | |
| fourth-advent | canticle-15 | 2 Samuel 7:1-11,16 |
|           | /or/ Psalm 89:1-4,19-26 | Romans 16:25-27 |
|           |                | Luke 1:26-38 |
| | | |
| christmas | Psalm 96 | Isaiah 9:2-7 |
|           |                | Titus 2:11-14 |
|           |                | Luke 2:1-14,(15-20) |
| | | |
| christmas-day-ii | Psalm 97 | Isaiah 62:6-12 |
|           |                | Titus 3:4-7 |
|           |                | Luke 2:(1-7),8-20 |
| | | |
| christmas-day-iii | Psalm 98 | Isaiah 52:7-10 |
|           |                | Hebrews 1:1-4,(5-12) |
|           |                | John 1:1-14 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| 1st-sunday-after-christmas | Psalm 147 | Isaiah 61:10-62:3 |
|           | /or/ Psalm 147:13-21 | Galatians 3:23-25; 4:4-7 |
|           |                | John 1:1-18 |
| | | |
| holy-name | Psalm 8 | Numbers 6:22-27 |
|           |                | Galatians 4:4-7 |
|           |                | /or/ Philippians 2:5-11 |
|           |                | Luke 2:15-21 |
| | | |
| 2nd-sunday-after-christmas | Psalm 84 | Jeremiah 31:7-14 |
|           | /or/ Psalm 84:1-8 | Ephesians 1:3-6,15-19a |
|           |                | Matthew 2:13-15,19-23 |
|           |                | /or/ Luke 2:41-52 |
|           |                | /or/ Matthew 2:1-12 |
| | | |
| epiphany | Psalm 72:1-7,10-14 | Isaiah 60:1-6 |
|           |                | Ephesians 3:1-12 |
|           |                | Matthew 2:1-12 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| 1st-epiphany | Psalm 29 | Genesis 1:1-5 |
|           |                | Acts 19:1-7 |
|           |                | Mark 1:4-11 |
| | | |
| 2nd-epiphany | Psalm 139:1-5,12-17 | 1 Samuel 3:1-10,(11-20) |
|           |                | 1 Corinthians 6:12-20 |
|           |                | John 1:43-51 |
| | | |
| 3rd-epiphany | Psalm 62:6-14 | Jonah 3:1-5,10 |
|           |                | 1 Corinthians 7:29-31 |
|           |                | Mark 1:14-20 |
| | | |
| 4th-epiphany | Psalm 111 | Deuteronomy 18:15-20 |
|           |                | 1 Corinthians 8:1-13 |
|           |                | Mark 1:21-28 |
| | | |
| 5th-epiphany | Psalm 147:1-12,21c | Isaiah 40:21-31 |
|           |                | 1 Corinthians 9:16-23 |
|           |                | Mark 1:29-39 |
| | | |
| 6th-epiphany | Psalm 30 | 2 Kings 5:1-14 |
|           |                | 1 Corinthians 9:24-27 |
|           |                | Mark 1:40-45 |
| | | |
| 7th-epiphany | Psalm 41 | Isaiah 43:18-25 |
|           |                | 2 Corinthians 1:18-22 |
|           |                | Mark 2:1-12 |
| | | |
| 8th-epiphany | Psalm 103:1-13,22 | Hosea 2:14-20 |
|           |                | 2 Corinthians 3:1-6 |
|           |                | Mark 2:13-22 |
| | | |
| last-epiphany | Psalm 50:1-6 | 2 Kings 2:1-12 |
|           |                | 2 Corinthians 4:3-6 |
|           |                | Mark 9:2-9 |
| | | |
| wednesday-last-epiphany | Psalm 103 | Joel 2:1-2,12-17 |
|           | /or/ Psalm 103:8-14 | /or/ Isaiah 58:1-12 |
|           |                | 2 Corinthians 5:20b-6:10 |
|           |                | Matthew 6:1-6,16-21 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| 1st-lent | Psalm 25:1-9 | Genesis 9:8-17 |
|           |                | 1 Peter 3:18-22 |
|           |                | Mark 1:9-15 |
| | | |
| 2nd-lent | Psalm 22:22-30 | Genesis 17:1-7,15-16 |
|           |                | Romans 4:13-25 |
|           |                | Mark 8:31-38 |
| | | |
| 3rd-lent | Psalm 19 | Exodus 20:1-17 |
|           |                | 1 Corinthians 1:18-25 |
|           |                | John 2:13-22 |
| | | |
| 4th-lent | Psalm 107:1-3,17-22 | Numbers 21:4-9 |
|           |                | Ephesians 2:1-10 |
|           |                | John 3:14-21 |
| | | |
| 5th-lent | Psalm 51:1-13 | Jeremiah 31:31-34 |
|           | /or/ Psalm 119:9-16 | Hebrews 5:5-10 |
|           |                | John 12:20-33 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| holy-week | Psalm 31:9-16 | Isaiah 50:4-9a |
|           |                | Philippians 2:5-11 |
|           |                | Mark 14:1-15:47 |
|           |                | /or/ Mark 15:1-39,(40-47) |
| | | |
| monday-holy-week | Psalm 36:5-11 | Isaiah 42:1-9 |
|           |                | Hebrews 9:11-15 |
|           |                | John 12:1-11 |
| | | |
| tuesday-holy-week | Psalm 71:1-14 | Isaiah 49:1-7 |
|           |                | 1 Corinthians 1:18-31 |
|           |                | John 12:20-36 |
| | | |
| wednesday-holy-week | Psalm 70 | Isaiah 50:4-9a |
|           |                | Hebrews 12:1-3 |
|           |                | John 13:21-32 |
| | | |
| thursday-holy-week | Psalm 116:1,10-17 | Exodus 12:1-4,(5-10),11-14 |
|           |                | 1 Corinthians 11:23-26 |
|           |                | John 13:1-17,31b-35 |
| | | |
| friday-holy-week | Psalm 22 | Isaiah 52:13-53:12 |
|           |                | Hebrews 10:16-25 |
|           |                | /or/ Hebrews 4:14-16; 5:7-9 |
|           |                | John 18:1-19:42 |
| | | |
| saturday-holy-week | Psalm 31:1-4,15-16 | Job 14:1-14 |
|           |                | /or/ Lamentations 3:1-9,19-24 |
|           |                | 1 Peter 4:1-8 |
|           |                | Matthew 27:57-66 |
|           |                | /or/ John 19:38-42 |
| | | |
| easter-day-the-great-vigil | Psalm 136:1-9,23-26 | Genesis 1:1-2:4a |
|           | /or/ Psalm 46 | /or/ Genesis 7:1-5,11-18; 8:6-18; 9:8-13 |
|           | /or/ Psalm 16 | /or/ Genesis 22:1-18 |
|           | /or/ canticle-8 | /or/ Exodus 14:10-31; 15:20-21 |
|           | /or/ canticle-9 | /or/ Isaiah 55:1-11 |
|           | /or/ Psalm 19 | /or/ Baruch 3:9-15,32-4:4 |
|           | /or/ Psalm 42 and 43 | /or/ Proverbs 8:1-8,19-21; 9:4b-6 |
|           | /or/ Psalm 143 | /or/ Ezekiel 36:24-28 |
|           | /or/ Psalm 98 | /or/ Ezekiel 37:1-14 |
|           | /or/ Psalm 114 | /or/ Zephaniah 3:14-20 |
|           |                | Romans 6:3-11 |
|           |                | Mark 16:1-8 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| easter | Psalm 118:1-2,14-24 | Acts 10:34-43 |
|           |                | /or/ Isaiah 25:6-9 |
|           |                | 1 Corinthians 15:1-11 |
|           |                | /or/ Acts 10:34-43 |
|           |                | John 20:1-18 |
|           |                | /or/ Mark 16:1-8 |
| | | |
| easter-day-evening-service | Psalm 114 | Isaiah 25:6-9 |
|           |                | 1 Corinthians 5:6b-8 |
|           |                | Luke 24:13-49 |
| | | |
| monday-easter | Psalm 16:8-11 | Acts 2:14,22b-32 |
|           | /or/ Psalm 118:19-24 | Matthew 28:9-15 |
| | | |
| tuesday-easter | Psalm 33:18-22 | Acts 2:36-41 |
|           | /or/ Psalm 118:19-24 | John 20:11-18 |
| | | |
| wednesday-easter | Psalm 105:1-8 | Acts 3:1-10 |
|           | /or/ Psalm 118:19-24 | Luke 24:13-35 |
| | | |
| thursday-easter | Psalm 8 | Acts 3:11-26 |
|           | /or/ Psalm 114 | Luke 24:36b-48 |
| | | |
| friday-easter | Psalm 116:1-8 | Acts 4:1-12 |
|           | /or/ Psalm 118:19-24 | John 21:1-14 |
| | | |
| saturday-easter | Psalm 118:14-18 | Acts 4:13-21 |
|           | /or/ Psalm 118:19-24 | Mark 16:9-15,20 |
| | | |
| 2nd-easter | Psalm 133 | Acts 4:32-35 |
|           |                | 1 John 1:1-2:2 |
|           |                | John 20:19-31 |
| | | |
| 3rd-easter | Psalm 4 | Acts 3:12-19 |
|           |                | 1 John 3:1-7 |
|           |                | Luke 24:36b-48 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| 4th-easter | Psalm 23 | Acts 4:5-12 |
|           |                | 1 John 3:16-24 |
|           |                | John 10:11-18 |
| | | |
| 5th-easter | Psalm 22:24-30 | Acts 8:26-40 |
|           |                | 1 John 4:7-21 |
|           |                | John 15:1-8 |
| | | |
| 6th-easter | Psalm 98 | Acts 10:44-48 |
|           |                | 1 John 5:1-6 |
|           |                | John 15:9-17 |
| | | |
| thursday-6th-easter | Psalm 47 | Acts 1:1-11 |
|           | /or/ Psalm 93 | Ephesians 1:15-23 |
|           |                | Luke 24:44-53 |
| | | |
| 7th-easter | Psalm 1 | Acts 1:15-17,21-26 |
|           |                | 1 John 5:9-13 |
|           |                | John 17:6-19 |
| | | |
| day-of-pentecost-early-or-vigil-service | Psalm 33:12-22 | Genesis 11:1-9 |
|           | /or/ canticle-13 | /or/ Exodus 19:1-9a,16-20a; 20:18-20 |
|           | /or/ Psalm 130 | /or/ Ezekiel 37:1-14 |
|           | /or/ canticle-9 | /or/ Joel 2:28-32 |
|           | /or/ Psalm 104:25-32 | Acts 2:1-11 |
|           |                | /or/ Romans 8:14-17,22-27 |
|           |                | John 7:37-39a |
| | | |
| pentecost | Psalm 104:25-35,37 | Acts 2:1-21 |
|           |                | /or/ Ezekiel 37:1-14 |
|           |                | Romans 8:22-27 |
|           |                | /or/ Acts 2:1-21 |
|           |                | John 15:26-27; 16:4b-15 |
| | | |
| trinity-sunday | Psalm 29 | Isaiah 6:1-8 |
|           | /or/ canticle-13 | Romans 8:12-17 |
|           |                | John 3:1-17 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-1 | 2 Kings 5:1-14 | 1 Corinthians 9:24-27 |
|           | Psalm 30 | Mark 1:40-45 |
| | | |
| proper-2 | Isaiah 43:18-25 | 2 Corinthians 1:18-22 |
|           | Psalm 41 | Mark 2:1-12 |
| | | |
| proper-3 | Hosea 2:14-20 | 2 Corinthians 3:1-6 |
|           | Psalm 103:1-13,22 | Mark 2:13-22 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-4 | 1 Samuel 3:1-10,(11-20) | 2 Corinthians 4:5-12 |
|           | Psalm 139:1-5,12-17 | Mark 2:23-3:6 |
|           | Deuteronomy 5:12-15 |                 |
|           | Psalm 81:1-10 |                 |
| | | |
| proper-5 | 1 Samuel 8:4-11,(12-15),16-20; (11:14-15) | 2 Corinthians 4:13-5:1 |
|           | Psalm 138 | Mark 3:20-35 |
|           | Genesis 3:8-15 |                 |
|           | Psalm 130 |                 |
| | | |
| proper-6 | 1 Samuel 15:34-16:13 | 2 Corinthians 5:6-10,(11-13),14-17 |
|           | Psalm 20 | Mark 4:26-34 |
|           | Ezekiel 17:22-24 |                 |
|           | Psalm 92:1-4,11-14 |                 |
| | | |
| proper-7 | 1 Samuel 17:(1a,4-11,19-23),32-49 | 2 Corinthians 6:1-13 |
|           | /or/ 1 Samuel 17:57-18:5,10-16 | Mark 4:35-41 |
|           | Psalm 9:9-20 |                 |
|           | /or/ Psalm 133 |                 |
|           | Job 38:1-11 |                 |
|           | Psalm 107:1-3,23-32 |                 |
| | | |
| proper-8 | 2 Samuel 1:1,17-27 | 2 Corinthians 8:7-15 |
|           | Psalm 130 | Mark 5:21-43 |
|           | Wisdom of Solomon 1:13-15; 2:23-24 |                 |
|           | Lamentations 3:21-33 |                 |
|           | /or/ Psalm 30 |                 |
| | | |
| proper-9 | 2 Samuel 5:1-5,9-10 | 2 Corinthians 12:2-10 |
|           | Psalm 48 | Mark 6:1-13 |
|           | Ezekiel 2:1-5 |                 |
|           | Psalm 123 |                 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-10 | 2 Samuel 6:1-5,12b-19 | Ephesians 1:3-14 |
|           | Psalm 24 | Mark 6:14-29 |
|           | Amos 7:7-15 |                 |
|           | Psalm 85:8-13 |                 |
| | | |
| proper-11 | 2 Samuel 7:1-14a | Ephesians 2:11-22 |
|           | Psalm 89:20-37 | Mark 6:30-34,53-56 |
|           | Jeremiah 23:1-6 |                 |
|           | Psalm 23 |                 |
| | | |
| proper-12 | 2 Samuel 11:1-15 | Ephesians 3:14-21 |
|           | Psalm 14 | John 6:1-21 |
|           | 2 Kings 4:42-44 |                 |
|           | Psalm 145:10-19 |                 |
| | | |
| proper-13 | 2 Samuel 11:26-12:13a | Ephesians 4:1-16 |
|           | Psalm 51:1-13 | John 6:24-35 |
|           | Exodus 16:2-4,9-15 |                 |
|           | Psalm 78:23-29 |                 |
| | | |
| proper-14 | 2 Samuel 18:5-9,15,31-33 | Ephesians 4:25-5:2 |
|           | Psalm 130 | John 6:35,41-51 |
|           | 1 Kings 19:4-8 |                 |
|           | Psalm 34:1-8 |                 |
| | | |
| proper-15 | 1 Kings 2:10-12; 3:3-14 | Ephesians 5:15-20 |
|           | Psalm 111 | John 6:51-58 |
|           | Proverbs 9:1-6 |                 |
|           | Psalm 34:9-14 |                 |
| | | |
| proper-16 | 1 Kings 8:(1,6,10-11),22-30,41-43 | Ephesians 6:10-20 |
|           | Psalm 84 | John 6:56-69 |
|           | Joshua 24:1-2a,14-18 |                 |
|           | Psalm 34:15-22 |                 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-17 | Song of Solomon 2:8-13 | James 1:17-27 |
|           | Psalm 45:1-2,7-10 | Mark 7:1-8,14-15,21-23 |
|           | Deuteronomy 4:1-2,6-9 |                 |
|           | Psalm 15 |                 |
| | | |
| proper-18 | Proverbs 22:1-2,8-9,22-23 | James 2:1-10,(11-13),14-17 |
|           | Psalm 125 | Mark 7:24-37 |
|           | Isaiah 35:4-7a |                 |
|           | Psalm 146 |                 |
| | | |
| proper-19 | Proverbs 1:20-33 | James 3:1-12 |
|           | Psalm 19 | Mark 8:27-38 |
|           | /or/ Wisdom of Solomon 7:26-8:1 |                 |
|           | Isaiah 50:4-9a |                 |
|           | Psalm 116:1-8 |                 |
| | | |
| proper-20 | Proverbs 31:10-31 | James 3:13-4:3,7-8a |
|           | Psalm 1 | Mark 9:30-37 |
|           | Wisdom of Solomon 1:16-2:1,12-22 |                 |
|           | /or/ Jeremiah 11:18-20 |                 |
|           | Psalm 54 |                 |
| | | |
| proper-21 | Esther 7:1-6,9-10; 9:20-22 | James 5:13-20 |
|           | Psalm 124 | Mark 9:38-50 |
|           | Numbers 11:4-6,10-16,24-29 |                 |
|           | Psalm 19:7-14 |                 |
| | | |
| proper-22 | Job 1:1; 2:1-10 | Hebrews 1:1-4; 2:5-12 |
|           | Psalm 26 | Mark 10:2-16 |
|           | Genesis 2:18-24 |                 |
|           | Psalm 8 |                 |
| | | |
| proper-23 | Job 23:1-9,16-17 | Hebrews 4:12-16 |
|           | Psalm 22:1-15 | Mark 10:17-31 |
|           | Amos 5:6-7,10-15 |                 |
|           | Psalm 90:12-17 |                 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-24 | Job 38:1-7,(34-41) | Hebrews 5:1-10 |
|           | Psalm 104:1-9,27,37b | Mark 10:35-45 |
|           | Isaiah 53:4-12 |                 |
|           | Psalm 91:9-16 |                 |
| | | |
| proper-25 | Job 42:1-6,10-17 | Hebrews 7:23-28 |
|           | Psalm 34:1-8,(19-22) | Mark 10:46-52 |
|           | Jeremiah 31:7-9 |                 |
|           | Psalm 126 |                 |
| | | |
| proper-26 | Ruth 1:1-18 | Hebrews 9:11-14 |
|           | Psalm 146 | Mark 12:28-34 |
|           | Deuteronomy 6:1-9 |                 |
|           | Psalm 119:1-8 |                 |
| | | |
| proper-27 | Ruth 3:1-5; 4:13-17 | Hebrews 9:24-28 |
|           | Psalm 127 | Mark 12:38-44 |
|           | 1 Kings 17:8-16 |                 |
|           | Psalm 146 |                 |
| | | |
| proper-28 | 1 Samuel 1:4-20 | Hebrews 10:11-14,(15-18),19-25 |
|           | 1 Samuel 2:1-10 | Mark 13:1-8 |
|           | Daniel 12:1-3 |                 |
|           | Psalm 16 |                 |
| | | |
| proper-29 | 2 Samuel 23:1-7 | Revelation 1:4b-8 |
|           | Psalm 132:1-13,(14-19) | John 18:33-37 |
|           | Daniel 7:9-10,13-14 |                 |
|           | Psalm 93 |                 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| confession-of-st-peter | Psalm 23 | Acts 4:8-13 |
|           |                | 1 Peter 5:1-4 |
|           |                | Matthew 16:13-19 |
| | | |
| conversion-of-st-paul | Psalm 67 | Acts 26:9-21 |
|           |                | Galatians 1:11-24 |
|           |                | Matthew 10:16-22 |
| | | |
| the-presentation | Psalm 84 | Malachi 3:1-4 |
|           | /or/ Psalm 24:7-10 | Hebrews 2:14-18 |
|           |                | Luke 2:22-40 |
| | | |
| st-matthias | Psalm 15 | Acts 1:15-26 |
|           |                | Philippians 3:13-21 |
|           |                | John 15:1,6-16 |
| | | |
| st-joseph | Psalm 89:1-29 | 2 Samuel 7:4,8-16 |
|           | /or/ Psalm 89:1-4,26-29 | Romans 4:13-18 |
|           |                | Luke 2:41-52 |
| | | |
| annunciation | Psalm 45 | Isaiah 7:10-14 |
|           | /or/ Psalm 40:5-10 | Hebrews 10:4-10 |
|           | /or/ canticle-15 | Luke 1:26-38 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-mark | Psalm 2 | Isaiah 52:7-10 |
|           | /or/ Psalm 2:7-10 | Ephesians 4:7-8,11-16 |
|           |                | Mark 1:1-15 |
|           |                | /or/ Mark 16:15-20 |
| | | |
| ss-philip-and-james | Psalm 119:33-40 | Isaiah 30:18-21 |
|           |                | 2 Corinthians 4:1-6 |
|           |                | John 14:6-14 |
| | | |
| the-visitation | Psalm 113 | 1 Samuel 2:1-10 |
|           |                | Romans 12:9-16b |
|           |                | Luke 1:39-57 |
| | | |
| st-barnabas | Psalm 112 | Isaiah 42:5-12 |
|           |                | Acts 11:19-30; 13:1-3 |
|           |                | Matthew 10:7-16 |
| | | |
| nativity-of-st-john-the-baptist | Psalm 85 | Isaiah 40:1-11 |
|           | /or/ Psalm 85:7-13 | Acts 13:14b-26 |
|           |                | Luke 1:57-80 |
| | | |
| ss-peter-and-paul | Psalm 87 | Ezekiel 34:11-16 |
|           |                | 2 Timothy 4:1-8 |
|           |                | John 21:15-19 |
| | | |
| independence-day | Psalm 145 | Deuteronomy 10:17-21 |
|           | /or/ Psalm 145:1-9 | Hebrews 11:8-16 |
|           |                | Matthew 5:43-48 |
| | | |
| st-mary-magdalene | Psalm 42:1-7 | Judith 9:1,11-14 |
|           |                | 2 Corinthians 5:14-18 |
|           |                | John 20:11-18 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-james | Psalm 7:1-10 | Jeremiah 45:1-5 |
|           |                | Acts 11:27-12:3 |
|           |                | Matthew 20:20-28 |
| | | |
| the-transfiguration | Psalm 99 | Exodus 34:29-35 |
|           | /or/ Psalm 99:5-9 | 2 Peter 1:13-21 |
|           |                | Luke 9:28-36 |
| | | |
| st-mary-the-virgin | Psalm 34 | Isaiah 61:10-11 |
|           | /or/ Psalms 34:1-9 | Galatians 4:4-7 |
|           |                | Luke 1:46-55 |
| | | |
| st-bartholomew | Psalm 91 | Deuteronomy 18:15-18 |
|           | /or/ Psalm 91:1-4 | 1 Corinthians 4:9-15 |
|           |                | Luke 22:24-30 |
| | | |
| holy-cross | Psalm 98 | Isaiah 45:21-25 |
|           | /or/ Psalm 98:1-4 | Philippians 2:5-11 |
|           |                | /or/ Galatians 6:14-18 |
|           |                | John 12:31-36a |
| | | |
| st-matthew | Psalm 119:33-40 | Proverbs 3:1-6 |
|           |                | 2 Timothy 3:14-17 |
|           |                | Matthew 9:9-13 |
| | | |
| st-michael | Psalm 103 | Genesis 28:10-17 |
|           | /or/ Psalm 103:19-22 | Revelation 12:7-12 |
|           |                | John 1:47-51 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-luke | Psalm 147 | Sirach 38:1-4,6-10,12-14 |
|           | /or/ Psalm 147:1-7 | 2 Timothy 4:5-13 |
|           |                | Luke 4:14-21 |
| | | |
| st-james-of-jerusalem | Psalm 1 | Acts 15:12-22a |
|           |                | 1 Corinthians 15:1-11 |
|           |                | Matthew 13:54-58 |
| | | |
| ss-simon-and-jude | Psalm 119:89-96 | Deuteronomy 32:1-4 |
|           |                | Ephesians 2:13-22 |
|           |                | John 15:17-27 |
| | | |
| all-saints-day | Psalm 24 | Wisdom of Solomon 3:1-9 |
|           |                | /or/ Isaiah 25:6-9 |
|           |                | Revelation 21:1-6a |
|           |                | John 11:32-44 |
| | | |
| st-andrew | Psalm 19 | Deuteronomy 30:11-14 |
|           | /or/ Psalm 19:1-6 | Romans 10:8b-18 |
|           |                | Matthew 4:18-22 |
| | | |
| st-thomas | Psalm 126 | Habakkuk 2:1-4 |
|           |                | Hebrews 10:35-11:1 |
|           |                | John 20:24-29 |
| | | |
| st-stephen | Psalm 31 | Jeremiah 26:1-9,12-15 |
|           | /or/ Psalm 31:1-5 | Acts 6:8-7:2a,51c-60 |
|           |                | Matthew 23:34-39 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-john | Psalm 92 | Exodus 33:18-23 |
|           | /or/ Psalm 92:1-4,11-14 | 1 John 1:1-9 |
|           |                | John 21:19b-24 |
| | | |
| holy-innocents | Psalm 124 | Jeremiah 31:15-17 |
|           |                | Revelation 21:1-7 |
|           |                | Matthew 2:13-18 |
| | | |
| thanksgiving-day | Psalm 126 | Joel 2:21-27 |
|           |                | 1 Timothy 2:1-7 |
|           |                | Matthew 6:25-33 |
| | | |
| palm-sunday-liturgy-of-the-palms | Psalm 118:1-2,19-29 | Mark 11:1-11 |
|           |                | /or/ John 12:12-16 |
| | | |


****** Year C
| first-advent | Psalm 25:1-9 | Jeremiah 33:14-16 |
|           |                | 1 Thessalonians 3:9-13 |
|           |                | Luke 21:25-36 |
| | | |
| second-advent | canticle-16 | Baruch 5:1-9 |
|           |                | /or/ Malachi 3:1-4 |
|           |                | Philippians 1:3-11 |
|           |                | Luke 3:1-6 |
| | | |
| third-advent | canticle-9 | Zephaniah 3:14-20 |
|           |                | Philippians 4:4-7 |
|           |                | Luke 3:7-18 |
| | | |
| fourth-advent | canticle-15 | Micah 5:2-5a |
|           | /or/ Psalm 80:1-7 | Hebrews 10:5-10 |
|           |                | Luke 1:39-45,(46-55) |
| | | |
| christmas | Psalm 96 | Isaiah 9:2-7 |
|           |                | Titus 2:11-14 |
|           |                | Luke 2:1-14,(15-20) |
| | | |
| christmas-day-ii | Psalm 97 | Isaiah 62:6-12 |
|           |                | Titus 3:4-7 |
|           |                | Luke 2:(1-7),8-20 |
| | | |
| christmas-day-iii | Psalm 98 | Isaiah 52:7-10 |
|           |                | Hebrews 1:1-4,(5-12) |
|           |                | John 1:1-14 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| 1st-sunday-after-christmas | Psalm 147 | Isaiah 61:10-62:3 |
|           | /or/ Psalm 147:13-21 | Galatians 3:23-25; 4:4-7 |
|           |                | John 1:1-18 |
| | | |
| holy-name | Psalm 8 | Numbers 6:22-27 |
|           |                | Galatians 4:4-7 |
|           |                | /or/ Philippians 2:5-11 |
|           |                | Luke 2:15-21 |
| | | |
| 2nd-sunday-after-christmas | Psalm 84 | Jeremiah 31:7-14 |
|           | /or/ Psalm 84:1-8 | Ephesians 1:3-6,15-19a |
|           |                | Matthew 2:13-15,19-23 |
|           |                | /or/ Luke 2:41-52 |
|           |                | /or/ Matthew 2:1-12 |
| | | |
| epiphany | Psalm 72:1-7,10-14 | Isaiah 60:1-6 |
|           |                | Ephesians 3:1-12 |
|           |                | Matthew 2:1-12 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| 1st-epiphany | Psalm 29 | Isaiah 43:1-7 |
|           |                | Acts 8:14-17 |
|           |                | Luke 3:15-17,21-22 |
| | | |
| 2nd-epiphany | Psalm 36:5-10 | Isaiah 62:1-5 |
|           |                | 1 Corinthians 12:1-11 |
|           |                | John 2:1-11 |
| | | |
| 3rd-epiphany | Psalm 19 | Nehemiah 8:1-3,5-6,8-10 |
|           |                | 1 Corinthians 12:12-31a |
|           |                | Luke 4:14-21 |
| | | |
| 4th-epiphany | Psalm 71:1-6 | Jeremiah 1:4-10 |
|           |                | 1 Corinthians 13:1-13 |
|           |                | Luke 4:21-30 |
| | | |
| 5th-epiphany | Psalm 138 | Isaiah 6:1-8,(9-13) |
|           |                | 1 Corinthians 15:1-11 |
|           |                | Luke 5:1-11 |
| | | |
| 6th-epiphany | Psalm 1 | Jeremiah 17:5-10 |
|           |                | 1 Corinthians 15:12-20 |
|           |                | Luke 6:17-26 |
| | | |
| 7th-epiphany | Psalm 37:1-12,41-42 | Genesis 45:3-11,15 |
|           |                | 1 Corinthians 15:35-38,42-50 |
|           |                | Luke 6:27-38 |
| | | |
| 8th-epiphany | Psalm 92:1-4,11-14 | Sirach 27:4-7 |
|           |                | /or/ Isaiah 55:10-13 |
|           |                | 1 Corinthians 15:51-58 |
|           |                | Luke 6:39-49 |
| | | |
| last-epiphany | Psalm 99 | Exodus 34:29-35 |
|           |                | 2 Corinthians 3:12-4:2 |
|           |                | Luke 9:28-36,(37-43a) |
| | | |
| wednesday-last-epiphany | Psalm 103 | Joel 2:1-2,12-17 |
|           | /or/ Psalm 103:8-14 | /or/ Isaiah 58:1-12 |
|           |                | 2 Corinthians 5:20b-6:10 |
|           |                | Matthew 6:1-6,16-21 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| 1st-lent | Psalm 91:1-2,9-16 | Deuteronomy 26:1-11 |
|           |                | Romans 10:8b-13 |
|           |                | Luke 4:1-13 |
| | | |
| 2nd-lent | Psalm 27 | Genesis 15:1-12,17-18 |
|           |                | Philippians 3:17-4:1 |
|           |                | Luke 13:31-35 |
| | | |
| 3rd-lent | Psalm 63:1-8 | Exodus 3:1-15 |
|           |                | 1 Corinthians 10:1-13 |
|           |                | Luke 13:1-9 |
| | | |
| 4th-lent | Psalm 32 | Joshua 5:9-12 |
|           |                | 2 Corinthians 5:16-21 |
|           |                | Luke 15:1-3,11b-32 |
| | | |
| 5th-lent | Psalm 126 | Isaiah 43:16-21 |
|           |                | Philippians 3:4b-14 |
|           |                | John 12:1-8 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| holy-week | Psalm 31:9-16 | Isaiah 50:4-9a |
|           |                | Philippians 2:5-11 |
|           |                | Luke 22:14-23:56 |
|           |                | /or/ Luke 23:1-49 |
| | | |
| monday-holy-week | Psalm 36:5-11 | Isaiah 42:1-9 |
|           |                | Hebrews 9:11-15 |
|           |                | John 12:1-11 |
| | | |
| tuesday-holy-week | Psalm 71:1-14 | Isaiah 49:1-7 |
|           |                | 1 Corinthians 1:18-31 |
|           |                | John 12:20-36 |
| | | |
| wednesday-holy-week | Psalm 70 | Isaiah 50:4-9a |
|           |                | Hebrews 12:1-3 |
|           |                | John 13:21-32 |
| | | |
| thursday-holy-week | Psalm 116:1,10-17 | Exodus 12:1-4,(5-10),11-14 |
|           |                | 1 Corinthians 11:23-26 |
|           |                | John 13:1-17,31b-35 |
| | | |
| friday-holy-week | Psalm 22 | Isaiah 52:13-53:12 |
|           |                | Hebrews 10:16-25 |
|           |                | /or/ Hebrews 4:14-16; 5:7-9 |
|           |                | John 18:1-19:42 |
| | | |
| saturday-holy-week | Psalm 31:1-4,15-16 | Job 14:1-14 |
|           |                | /or/ Lamentations 3:1-9,19-24 |
|           |                | 1 Peter 4:1-8 |
|           |                | Matthew 27:57-66 |
|           |                | /or/ John 19:38-42 |
| | | |
| easter-day-the-great-vigil | Psalm 136:1-9,23-26 | Genesis 1:1-2:4a |
|           | /or/ Psalm 46 | /or/ Genesis 7:1-5,11-18; 8:6-18; 9:8-13 |
|           | /or/ Psalm 16 | /or/ Genesis 22:1-18 |
|           | /or/ canticle-8 | /or/ Exodus 14:10-31; 15:20-21 |
|           | /or/ canticle-9 | /or/ Isaiah 55:1-11 |
|           | /or/ Psalm 19 | /or/ Baruch 3:9-15,32-4:4 |
|           | /or/ Psalm 42 and 43 | /or/ Proverbs 8:1-8,19-21; 9:4b-6 |
|           | /or/ Psalm 143 | /or/ Ezekiel 36:24-28 |
|           | /or/ Psalm 98 | /or/ Ezekiel 37:1-14 |
|           | /or/ Psalm 114 | /or/ Zephaniah 3:14-20 |
|           |                | Romans 6:3-11 |
|           |                | Luke 24:1-12 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| easter | Psalm 118:1-2,14-24 | Acts 10:34-43 |
|           |                | /or/ Isaiah 65:17-25 |
|           |                | 1 Corinthians 15:19-26 |
|           |                | /or/ Acts 10:34-43 |
|           |                | John 20:1-18 |
|           |                | /or/ Luke 24:1-12 |
| | | |
| easter-day-evening-service | Psalm 114 | Isaiah 25:6-9 |
|           |                | 1 Corinthians 5:6b-8 |
|           |                | Luke 24:13-49 |
| | | |
| monday-easter | Psalm 16:8-11 | Acts 2:14,22b-32 |
|           | /or/ Psalm 118:19-24 | Matthew 28:9-15 |
| | | |
| tuesday-easter | Psalm 33:18-22 | Acts 2:36-41 |
|           | /or/ Psalm 118:19-24 | John 20:11-18 |
| | | |
| wednesday-easter | Psalm 105:1-8 | Acts 3:1-10 |
|           | /or/ Psalm 118:19-24 | Luke 24:13-35 |
| | | |
| thursday-easter | Psalm 8 | Acts 3:11-26 |
|           | /or/ Psalm 114 | Luke 24:36b-48 |
| | | |
| friday-easter | Psalm 116:1-8 | Acts 4:1-12 |
|           | /or/ Psalm 118:19-24 | John 21:1-14 |
| | | |
| saturday-easter | Psalm 118:14-18 | Acts 4:13-21 |
|           | /or/ Psalm 118:19-24 | Mark 16:9-15,20 |
| | | |
| 2nd-easter | Psalm 118:14-29 | Acts 5:27-32 |
|           | /or/ Psalm 150 | Revelation 1:4-8 |
|           |                | John 20:19-31 |
| | | |
| 3rd-easter | Psalm 30 | Acts 9:1-6,(7-20) |
|           |                | Revelation 5:11-14 |
|           |                | John 21:1-19 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| 4th-easter | Psalm 23 | Acts 9:36-43 |
|           |                | Revelation 7:9-17 |
|           |                | John 10:22-30 |
| | | |
| 5th-easter | Psalm 148 | Acts 11:1-18 |
|           |                | Revelation 21:1-6 |
|           |                | John 13:31-35 |
| | | |
| 6th-easter | Psalm 67 | Acts 16:9-15 |
|           |                | Revelation 21:10,22-22:5 |
|           |                | John 14:23-29 |
|           |                | /or/ John 5:1-9 |
| | | |
| thursday-6th-easter | Psalm 47 | Acts 1:1-11 |
|           | /or/ Psalm 93 | Ephesians 1:15-23 |
|           |                | Luke 24:44-53 |
| | | |
| 7th-easter | Psalm 97 | Acts 16:16-34 |
|           |                | Revelation 22:12-14,16-17,20-21 |
|           |                | John 17:20-26 |
| | | |
| day-of-pentecost-early-or-vigil-service | Psalm 33:12-22 | Genesis 11:1-9 |
|           | /or/ canticle-13 | /or/ Exodus 19:1-9a,16-20a; 20:18-20 |
|           | /or/ Psalm 130 | /or/ Ezekiel 37:1-14 |
|           | /or/ canticle-9 | /or/ Joel 2:28-32 |
|           | /or/ Psalm 104:25-32 | Acts 2:1-11 |
|           |                | /or/ Romans 8:14-17,22-27 |
|           |                | John 7:37-39a |
| | | |
| pentecost | Psalm 104:24-35,37 | Acts 2:1-21 |
|           |                | /or/ Genesis 11:1-9 |
|           |                | Romans 8:14-17 |
|           |                | /or/ Acts 2:1-21 |
|           |                | John 14:8-17,(25-27) |
| | | |
| trinity-sunday | Psalm 8 | Proverbs 8:1-4,22-31 |
|           | /or/ canticle-13 | Romans 5:1-5 |
|           |                | John 16:12-15 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-1 | Jeremiah 17:5-10 | 1 Corinthians 15:12-20 |
|           | Psalm 1 | Luke 6:17-26 |
| | | |
| proper-2 | Genesis 45:3-11,15 | 1 Corinthians 15:35-38,42-50 |
|           | Psalm 37:1-12,41-42 | Luke 6:27-38 |
| | | |
| proper-3 | Sirach 27:4-7 | 1 Corinthians 15:51-58 |
|           | /or/ Isaiah 55:10-13 | Luke 6:39-49 |
|           | Psalm 92:1-4,11-14 |                 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-4 | 1 Kings 18:20-21,(22-29),30-39 | Galatians 1:1-12 |
|           | Psalm 96 | Luke 7:1-10 |
|           | 1 Kings 8:22-23,41-43 |                 |
|           | Psalm 96:1-9 |                 |
| | | |
| proper-5 | 1 Kings 17:8-16,(17-24) | Galatians 1:11-24 |
|           | Psalm 146 | Luke 7:11-17 |
|           | 1 Kings 17:17-24 |                 |
|           | Psalm 30 |                 |
| | | |
| proper-6 | 1 Kings 21:1-10,(11-14),15-21a | Galatians 2:15-21 |
|           | Psalm 5:1-8 | Luke 7:36-8:3 |
|           | 2 Samuel 11:26-12:10,13-15 |                 |
|           | Psalm 32 |                 |
| | | |
| proper-7 | 1 Kings 19:1-4,(5-7),8-15a | Galatians 3:23-29 |
|           | Psalm 42 and 43 | Luke 8:26-39 |
|           | /or/ Psalm 43 |                 |
|           | Isaiah 65:1-9 |                 |
|           | Psalm 22:18-27 |                 |
| | | |
| proper-8 | 2 Kings 2:1-2,6-14 | Galatians 5:1,13-25 |
|           | Psalm 77:1-2,11-20 | Luke 9:51-62 |
|           | 1 Kings 19:15-16,19-21 |                 |
|           | Psalm 16 |                 |
| | | |
| proper-9 | 2 Kings 5:1-14 | Galatians 6:(1-6),7-16 |
|           | Psalm 30 | Luke 10:1-11,16-20 |
|           | Isaiah 66:10-14 |                 |
|           | Psalm 66:1-8 |                 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-10 | Amos 7:7-17 | Colossians 1:1-14 |
|           | Psalm 82 | Luke 10:25-37 |
|           | Deuteronomy 30:9-14 |                 |
|           | Psalm 25:1-9 |                 |
| | | |
| proper-11 | Amos 8:1-12 | Colossians 1:15-28 |
|           | Psalm 52 | Luke 10:38-42 |
|           | Genesis 18:1-10a |                 |
|           | Psalm 15 |                 |
| | | |
| proper-12 | Hosea 1:2-10 | Colossians 2:6-15,(16-19) |
|           | Psalm 85 | Luke 11:1-13 |
|           | Genesis 18:20-32 |                 |
|           | Psalm 138 |                 |
| | | |
| proper-13 | Hosea 11:1-11 | Colossians 3:1-11 |
|           | Psalm 107:1-9,43 | Luke 12:13-21 |
|           | Ecclesiastes 1:2,12-14; 2:18-23 |                 |
|           | Psalm 49:1-11 |                 |
| | | |
| proper-14 | Isaiah 1:1,10-20 | Hebrews 11:1-3,8-16 |
|           | Psalm 50:1-8,23-24 | Luke 12:32-40 |
|           | Genesis 15:1-6 |                 |
|           | Psalm 33:12-22 |                 |
| | | |
| proper-15 | Isaiah 5:1-7 | Hebrews 11:29-12:2 |
|           | Psalm 80:1-2,8-18 | Luke 12:49-56 |
|           | Jeremiah 23:23-29 |                 |
|           | Psalm 82 |                 |
| | | |
| proper-16 | Jeremiah 1:4-10 | Hebrews 12:18-29 |
|           | Psalm 71:1-6 | Luke 13:10-17 |
|           | Isaiah 58:9b-14 |                 |
|           | Psalm 103:1-8 |                 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-17 | Jeremiah 2:4-13 | Hebrews 13:1-8,15-16 |
|           | Psalm 81:1,10-16 | Luke 14:1,7-14 |
|           | Sirach 10:12-18 |                 |
|           | /or/ Proverbs 25:6-7 |                 |
|           | Psalm 112 |                 |
| | | |
| proper-18 | Jeremiah 18:1-11 | Philemon 1:1-21 |
|           | Psalm 139:1-5,12-17 | Luke 14:25-33 |
|           | Deuteronomy 30:15-20 |                 |
|           | Psalm 1 |                 |
| | | |
| proper-19 | Jeremiah 4:11-12,22-28 | 1 Timothy 1:12-17 |
|           | Psalm 14 | Luke 15:1-10 |
|           | Exodus 32:7-14 |                 |
|           | Psalm 51:1-11 |                 |
| | | |
| proper-20 | Jeremiah 8:18-9:1 | 1 Timothy 2:1-7 |
|           | Psalm 79:1-9 | Luke 16:1-13 |
|           | Amos 8:4-7 |                 |
|           | Psalm 113 |                 |
| | | |
| proper-21 | Jeremiah 32:1-3a,6-15 | 1 Timothy 6:6-19 |
|           | Psalm 91:1-6,14-16 | Luke 16:19-31 |
|           | Amos 6:1a,4-7 |                 |
|           | Psalm 146 |                 |
| | | |
| proper-22 | Lamentations 1:1-6 | 2 Timothy 1:1-14 |
|           | Lamentations 3:19-26 | Luke 17:5-10 |
|           | /or/ Psalm 137 |                 |
|           | Habakkuk 1:1-4; 2:1-4 |                 |
|           | Psalm 37:1-10 |                 |
| | | |
| proper-23 | Jeremiah 29:1,4-7 | 2 Timothy 2:8-15 |
|           | Psalm 66:1-11 | Luke 17:11-19 |
|           | 2 Kings 5:1-3,7-15c |                 |
|           | Psalm 111 |                 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-24 | Jeremiah 31:27-34 | 2 Timothy 3:14-4:5 |
|           | Psalm 119:97-104 | Luke 18:1-8 |
|           | Genesis 32:22-31 |                 |
|           | Psalm 121 |                 |
| | | |
| proper-25 | Joel 2:23-32 | 2 Timothy 4:6-8,16-18 |
|           | Psalm 65 | Luke 18:9-14 |
|           | Sirach 35:12-17 |                 |
|           | /or/ Jeremiah 14:7-10,19-22 |                 |
|           | Psalm 84:1-6 |                 |
| | | |
| proper-26 | Habakkuk 1:1-4; 2:1-4 | 2 Thessalonians 1:1-4,11-12 |
|           | Psalm 119:137-144 | Luke 19:1-10 |
|           | Isaiah 1:10-18 |                 |
|           | Psalm 32:1-8 |                 |
| | | |
| proper-27 | Haggai 1:15b-2:9 | 2 Thessalonians 2:1-5,13-17 |
|           | Psalm 145:1-5,18-22 | Luke 20:27-38 |
|           | /or/ Psalm 98 |                 |
|           | Job 19:23-27a |                 |
|           | Psalm 17:1-9 |                 |
| | | |
| proper-28 | Isaiah 65:17-25 | 2 Thessalonians 3:6-13 |
|           | canticle-9 | Luke 21:5-19 |
|           | Malachi 4:1-2a |                 |
|           | Psalm 98 |                 |
| | | |
| proper-29 | Jeremiah 23:1-6 | Colossians 1:11-20 |
|           | canticle-16 | Luke 23:33-43 |
|           | Jeremiah 23:1-6 |                 |
|           | Psalm 46 |                 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| confession-of-st-peter | Psalm 23 | Acts 4:8-13 |
|           |                | 1 Peter 5:1-4 |
|           |                | Matthew 16:13-19 |
| | | |
| conversion-of-st-paul | Psalm 67 | Acts 26:9-21 |
|           |                | Galatians 1:11-24 |
|           |                | Matthew 10:16-22 |
| | | |
| the-presentation | Psalm 84 | Malachi 3:1-4 |
|           | /or/ Psalm 24:7-10 | Hebrews 2:14-18 |
|           |                | Luke 2:22-40 |
| | | |
| st-matthias | Psalm 15 | Acts 1:15-26 |
|           |                | Philippians 3:13-21 |
|           |                | John 15:1,6-16 |
| | | |
| st-joseph | Psalm 89:1-29 | 2 Samuel 7:4,8-16 |
|           | /or/ Psalm 89:1-4,26-29 | Romans 4:13-18 |
|           |                | Luke 2:41-52 |
| | | |
| annunciation | Psalm 45 | Isaiah 7:10-14 |
|           | /or/ Psalm 40:5-10 | Hebrews 10:4-10 |
|           | /or/ canticle-15 | Luke 1:26-38 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-mark | Psalm 2 | Isaiah 52:7-10 |
|           | /or/ Psalm 2:7-10 | Ephesians 4:7-8,11-16 |
|           |                | Mark 1:1-15 |
|           |                | /or/ Mark 16:15-20 |
| | | |
| ss-philip-and-james | Psalm 119:33-40 | Isaiah 30:18-21 |
|           |                | 2 Corinthians 4:1-6 |
|           |                | John 14:6-14 |
| | | |
| the-visitation | Psalm 113 | 1 Samuel 2:1-10 |
|           |                | Romans 12:9-16b |
|           |                | Luke 1:39-57 |
| | | |
| st-barnabas | Psalm 112 | Isaiah 42:5-12 |
|           |                | Acts 11:19-30; 13:1-3 |
|           |                | Matthew 10:7-16 |
| | | |
| nativity-of-st-john-the-baptist | Psalm 85 | Isaiah 40:1-11 |
|           | /or/ Psalm 85:7-13 | Acts 13:14b-26 |
|           |                | Luke 1:57-80 |
| | | |
| ss-peter-and-paul | Psalm 87 | Ezekiel 34:11-16 |
|           |                | 2 Timothy 4:1-8 |
|           |                | John 21:15-19 |
| | | |
| independence-day | Psalm 145 | Deuteronomy 10:17-21 |
|           | /or/ Psalm 145:1-9 | Hebrews 11:8-16 |
|           |                | Matthew 5:43-48 |
| | | |
| st-mary-magdalene | Psalm 42:1-7 | Judith 9:1,11-14 |
|           |                | 2 Corinthians 5:14-18 |
|           |                | John 20:11-18 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-james | Psalm 7:1-10 | Jeremiah 45:1-5 |
|           |                | Acts 11:27-12:3 |
|           |                | Matthew 20:20-28 |
| | | |
| the-transfiguration | Psalm 99 | Exodus 34:29-35 |
|           | /or/ Psalm 99:5-9 | 2 Peter 1:13-21 |
|           |                | Luke 9:28-36 |
| | | |
| st-mary-the-virgin | Psalm 34 | Isaiah 61:10-11 |
|           | /or/ Psalms 34:1-9 | Galatians 4:4-7 |
|           |                | Luke 1:46-55 |
| | | |
| st-bartholomew | Psalm 91 | Deuteronomy 18:15-18 |
|           | /or/ Psalm 91:1-4 | 1 Corinthians 4:9-15 |
|           |                | Luke 22:24-30 |
| | | |
| holy-cross | Psalm 98 | Isaiah 45:21-25 |
|           | /or/ Psalm 98:1-4 | Philippians 2:5-11 |
|           |                | /or/ Galatians 6:14-18 |
|           |                | John 12:31-36a |
| | | |
| st-matthew | Psalm 119:33-40 | Proverbs 3:1-6 |
|           |                | 2 Timothy 3:14-17 |
|           |                | Matthew 9:9-13 |
| | | |
| st-michael | Psalm 103 | Genesis 28:10-17 |
|           | /or/ Psalm 103:19-22 | Revelation 12:7-12 |
|           |                | John 1:47-51 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-luke | Psalm 147 | Sirach 38:1-4,6-10,12-14 |
|           | /or/ Psalm 147:1-7 | 2 Timothy 4:5-13 |
|           |                | Luke 4:14-21 |
| | | |
| st-james-of-jerusalem | Psalm 1 | Acts 15:12-22a |
|           |                | 1 Corinthians 15:1-11 |
|           |                | Matthew 13:54-58 |
| | | |
| ss-simon-and-jude | Psalm 119:89-96 | Deuteronomy 32:1-4 |
|           |                | Ephesians 2:13-22 |
|           |                | John 15:17-27 |
| | | |
| all-saints-day | Psalm 149 | Daniel 7:1-3,15-18 |
|           |                | Ephesians 1:11-23 |
|           |                | Luke 6:20-31 |
| | | |
| st-andrew | Psalm 19 | Deuteronomy 30:11-14 |
|           | /or/ Psalm 19:1-6 | Romans 10:8b-18 |
|           |                | Matthew 4:18-22 |
| | | |
| st-thomas | Psalm 126 | Habakkuk 2:1-4 |
|           |                | Hebrews 10:35-11:1 |
|           |                | John 20:24-29 |
| | | |
| st-stephen | Psalm 31 | Jeremiah 26:1-9,12-15 |
|           | /or/ Psalm 31:1-5 | Acts 6:8-7:2a,51c-60 |
|           |                | Matthew 23:34-39 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-john | Psalm 92 | Exodus 33:18-23 |
|           | /or/ Psalm 92:1-4,11-14 | 1 John 1:1-9 |
|           |                | John 21:19b-24 |
| | | |
| holy-innocents | Psalm 124 | Jeremiah 31:15-17 |
|           |                | Revelation 21:1-7 |
|           |                | Matthew 2:13-18 |
| | | |
| thanksgiving-day | Psalm 100 | Deuteronomy 26:1-11 |
|           |                | Philippians 4:4-9 |
|           |                | John 6:25-35 |
| | | |
| palm-sunday-liturgy-of-the-palms | Psalm 118:1-2,19-29 | Luke 19:28-40 |
| | | |
#+end_example



*** build bcprcl.json, bcprcl-track1.json, bcprcl-track2.json, bcprcl-opinionated.json
opinionated = all options removed
**** DONE better field names
CLOSED: [2021-10-07 Thu 20:27]
**** DONE combine files
CLOSED: [2021-10-07 Thu 20:27]
**** DONE use canonical (bcp) day names (all lowercase, spaces to dashes)
CLOSED: [2021-10-07 Thu 20:27]
#+BEGIN_SRC python
  import json

  types = ['first_reading', 'second_reading', 'gospel', 'morning_psalms']
  lessons = ['first', 'second', 'gospel', 'psalm']
  years = ['A', 'B', 'C']

  # Conversion
  convert_lesson = dict({'first_reading':'first', 'second_reading':'second', 'gospel':'gospel', 'morning_psalms':'psalm'})

  # TODO: missing christmas-day-ii, christmas-day-iii, palm-sunday-liturgy-of-the-palms, palm-sunday-liturgy-of-the-word, easter-day-the-great-vigil, easter-day-evening-service, day-of-pentecost-early-or-vigil-service
  convert_day = dict({
  'first-advent':'first-sunday-of-advent',
  'second-advent':'second-sunday-of-advent',
  'third-advent':'third-sunday-of-advent',
  'fourth-advent':'fourth-sunday-of-advent',
  'christmas':'christmas-day-i',
  '1st-sunday-after-christmas':'first-sunday-after-christmas',
  'holy-name':'holy-name',
  '2nd-sunday-after-christmas':'second-sunday-after-christmas',
  'epiphany':'the-epiphany',
  '1st-epiphany':'first-sunday-after-epiphany',
  '2nd-epiphany':'second-sunday-after-epiphany',
  '3rd-epiphany':'third-sunday-after-epiphany',
  '4th-epiphany':'fourth-sunday-after-epiphany',
  '5th-epiphany':'fifth-sunday-after-epiphany',
  '6th-epiphany':'sixth-sunday-after-epiphany',
  '7th-epiphany':'seventh-sunday-after-epiphany',
  '8th-epiphany':'eighth-sunday-after-epiphany',
  'last-epiphany':'last-sunday-after-epiphany',
  'wednesday-last-epiphany':'ash-wednesday',
  '1st-lent':'first-sunday-in-lent',
  '2nd-lent':'second-sunday-in-lent',
  '3rd-lent':'third-sunday-in-lent',
  '4th-lent':'fourth-sunday-in-lent',
  '5th-lent':'fifth-sunday-in-lent',
  'holy-week':'holy-week',
  'monday-holy-week':'monday-in-holy-week',
  'tuesday-holy-week':'tuesday-in-holy-week',
  'wednesday-holy-week':'wednesday-in-holy-week',
  'thursday-holy-week':'maundy-thursday',
  'friday-holy-week':'good-friday',
  'saturday-holy-week':'holy-saturday',
  'easter':'easter-day-principal-service',
  'monday-easter':'monday-in-easter-week',
  'tuesday-easter':'tuesday-in-easter-week',
  'wednesday-easter':'wednesday-in-easter-week',
  'thursday-easter':'thursday-in-easter-week',
  'friday-easter':'friday-in-easter-week',
  'saturday-easter':'saturday-in-easter-week',
  '2nd-easter':'second-sunday-of-easter',
  '3rd-easter':'third-sunday-of-easter',
  '4th-easter':'fourth-sunday-of-easter',
  '5th-easter':'fifth-sunday-of-easter',
  '6th-easter':'sixth-sunday-of-easter',
  'thursday-6th-easter':'ascension-day',
  '7th-easter':'seventh-sunday-of-easter',
  'pentecost':'day-of-pentecost-principal-service',
  'trinity-sunday':'trinity-sunday',
  'proper-1':'proper-1',
  'proper-2':'proper-2',
  'proper-3':'proper-3',
  'proper-4':'proper-4',
  'proper-5':'proper-5',
  'proper-6':'proper-6',
  'proper-7':'proper-7',
  'proper-8':'proper-8',
  'proper-9':'proper-9',
  'proper-10':'proper-10',
  'proper-11':'proper-11',
  'proper-12':'proper-12',
  'proper-13':'proper-13',
  'proper-14':'proper-14',
  'proper-15':'proper-15',
  'proper-16':'proper-16',
  'proper-17':'proper-17',
  'proper-18':'proper-18',
  'proper-19':'proper-19',
  'proper-20':'proper-20',
  'proper-21':'proper-21',
  'proper-22':'proper-22',
  'proper-23':'proper-23',
  'proper-24':'proper-24',
  'proper-25':'proper-25',
  'proper-26':'proper-26',
  'proper-27':'proper-27',
  'proper-28':'proper-28',
  'proper-29':'proper-29-christ-the-king',
  'confession-of-st-peter':'confession-of-st-peter',
  'conversion-of-st-paul':'conversion-of-st-paul',
  'the-presentation':'the-presentation',
  'st-matthias':'st-matthias',
  'st-joseph':'st-joseph',
  'annunciation':'the-annunciation',
  'st-mark':'st-mark',
  'ss-philip-and-james':'st-philip-&-st-james',
  'the-visitation':'the-visitation',
  'st-barnabas':'st-barnabas',
  'nativity-of-st-john-the-baptist':'nativity-of-st-john-the-baptist',
  'ss-peter-and-paul':'st-peter-&-st-paul',
  'independence-day':'independence-day',
  'st-mary-magdalene':'st-mary-magdalene',
  'st-james':'st-james',
  'the-transfiguration':'the-transfiguration',
  'st-mary-the-virgin':'st-mary-the-virgin',
  'st-bartholomew':'st-bartholomew',
  'holy-cross':'holy-cross-day',
  'st-matthew':'st-matthew',
  'st-michael':'st-michael-&-all-angels',
  'st-luke':'st-luke',
  'st-james-of-jerusalem':'st-james-of-jerusalem',
  'ss-simon-and-jude':'st-simon-&-st-jude',
  'all-saints-day':'all-saints-day',
  'st-andrew':'st-andrew',
  'st-thomas':'st-thomas',
  'st-stephen':'st-stephen',
  'st-john':'st-john',
  'holy-innocents':'holy-innocents',
  'thanksgiving-day':'thanksgiving-day'})



#+END_SRC
**** DONE change canticle specification format
CLOSED: [2021-10-07 Thu 20:27]
**** DONE add alternate canticles
CLOSED: [2021-10-07 Thu 20:27]
**** ABANDON add em-dashes for ranges that cross chapter boundaries (to match BCP)?? Two dashes seems to break oremus. Actual em-dash is harder to type / not plain ascii
CLOSED: [2021-10-07 Thu 18:56]
**** DONE Check for all the days matching up, old & new
CLOSED: [2021-10-07 Thu 20:31]
#+BEGIN_SRC python
  import json

  convert_day = dict({
  'first-advent':'first-sunday-of-advent',
  'second-advent':'second-sunday-of-advent',
  'third-advent':'third-sunday-of-advent',
  'fourth-advent':'fourth-sunday-of-advent',
  'christmas':'christmas-day-i',
      'christmas-day-ii':'christmas-day-ii',
      'christmas-day-iii':'christmas-day-iii',
  '1st-sunday-after-christmas':'first-sunday-after-christmas',
  'holy-name':'holy-name',
  '2nd-sunday-after-christmas':'second-sunday-after-christmas',
  'epiphany':'the-epiphany',
  '1st-epiphany':'first-sunday-after-epiphany',
  '2nd-epiphany':'second-sunday-after-epiphany',
  '3rd-epiphany':'third-sunday-after-epiphany',
  '4th-epiphany':'fourth-sunday-after-epiphany',
  '5th-epiphany':'fifth-sunday-after-epiphany',
  '6th-epiphany':'sixth-sunday-after-epiphany',
  '7th-epiphany':'seventh-sunday-after-epiphany',
  '8th-epiphany':'eighth-sunday-after-epiphany',
  'last-epiphany':'last-sunday-after-the-epiphany',
  'wednesday-last-epiphany':'ash-wednesday',
  '1st-lent':'first-sunday-in-lent',
  '2nd-lent':'second-sunday-in-lent',
  '3rd-lent':'third-sunday-in-lent',
  '4th-lent':'fourth-sunday-in-lent',
  '5th-lent':'fifth-sunday-in-lent',
  'holy-week':'palm-sunday-liturgy-of-the-word',
  'palm-sunday-liturgy-of-the-palms':'palm-sunday-liturgy-of-the-palms',
  'monday-holy-week':'monday-in-holy-week',
  'tuesday-holy-week':'tuesday-in-holy-week',
  'wednesday-holy-week':'wednesday-in-holy-week',
  'thursday-holy-week':'maundy-thursday',
  'friday-holy-week':'good-friday',
  'saturday-holy-week':'holy-saturday',
  'easter-day-the-great-vigil':'easter-day-the-great-vigil',
  'easter':'easter-day-principal-service',
  'easter-day-evening-service':'easter-day-evening-service',
  'monday-easter':'monday-in-easter-week',
  'tuesday-easter':'tuesday-in-easter-week',
  'wednesday-easter':'wednesday-in-easter-week',
  'thursday-easter':'thursday-in-easter-week',
  'friday-easter':'friday-in-easter-week',
  'saturday-easter':'saturday-in-easter-week',
  '2nd-easter':'second-sunday-of-easter',
  '3rd-easter':'third-sunday-of-easter',
  '4th-easter':'fourth-sunday-of-easter',
  '5th-easter':'fifth-sunday-of-easter',
  '6th-easter':'sixth-sunday-of-easter',
  'thursday-6th-easter':'ascension-day',
  '7th-easter':'seventh-sunday-of-easter',
  'day-of-pentecost-early-or-vigil-service':'day-of-pentecost-early-or-vigil-service',
  'pentecost':'day-of-pentecost-principal-service',
  'trinity-sunday':'trinity-sunday',
  'proper-1':'proper-1',
  'proper-2':'proper-2',
  'proper-3':'proper-3',
  'proper-4':'proper-4',
  'proper-5':'proper-5',
  'proper-6':'proper-6',
  'proper-7':'proper-7',
  'proper-8':'proper-8',
  'proper-9':'proper-9',
  'proper-10':'proper-10',
  'proper-11':'proper-11',
  'proper-12':'proper-12',
  'proper-13':'proper-13',
  'proper-14':'proper-14',
  'proper-15':'proper-15',
  'proper-16':'proper-16',
  'proper-17':'proper-17',
  'proper-18':'proper-18',
  'proper-19':'proper-19',
  'proper-20':'proper-20',
  'proper-21':'proper-21',
  'proper-22':'proper-22',
  'proper-23':'proper-23',
  'proper-24':'proper-24',
  'proper-25':'proper-25',
  'proper-26':'proper-26',
  'proper-27':'proper-27',
  'proper-28':'proper-28',
  'proper-29':'proper-29-christ-the-king',
  'confession-of-st-peter':'confession-of-st-peter',
  'conversion-of-st-paul':'conversion-of-st-paul',
  'the-presentation':'the-presentation',
  'st-matthias':'st-matthias',
  'st-joseph':'st-joseph',
  'annunciation':'the-annunciation',
  'st-mark':'st-mark',
  'ss-philip-and-james':'st-philip-&-st-james',
  'the-visitation':'the-visitation',
  'st-barnabas':'st-barnabas',
  'nativity-of-st-john-the-baptist':'nativity-of-st-john-the-baptist',
  'ss-peter-and-paul':'st-peter-&-st-paul',
  'independence-day':'independence-day',
  'st-mary-magdalene':'st-mary-magdalene',
  'st-james':'st-james',
  'the-transfiguration':'the-transfiguration',
  'st-mary-the-virgin':'st-mary-the-virgin',
  'st-bartholomew':'st-bartholomew',
  'holy-cross':'holy-cross-day',
  'st-matthew':'st-matthew',
  'st-michael':'st-michael-&-all-angels',
  'st-luke':'st-luke',
  'st-james-of-jerusalem':'st-james-of-jerusalem',
  'ss-simon-and-jude':'st-simon-&-st-jude',
  'all-saints-day':'all-saints-day',
  'st-andrew':'st-andrew',
  'st-thomas':'st-thomas',
  'st-stephen':'st-stephen',
  'st-john':'st-john',
  'holy-innocents':'holy-innocents',
  'thanksgiving-day':'thanksgiving-day'})

  def loadlectionary(filename):
      with open(filename, "r") as f:
          data = f.read()
      return json.loads(data)

  def get_elements(data, name):
       results = []
       for i in data:
         if(i[name] not in results):
           results.append(i[name])
       return results

  def get_days_set(data):
      return get_elements(data, 'day')

  def narrow_data_set(data, field, value):
    results=[]
    for i in data:
      if(i[field]==value):
        results.append(i)
    return results

  rcl = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl1.json')
  rcl += loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl2.json')
  #print_lectionary(rcl)

  old_days = get_days_set(rcl)
  print("Old days have " + str(len(old_days)) + "; new days have " + str(len(convert_day)))

  for d in old_days:
    if d not in convert_day:
      print(d + " not found in convert_day")

  for d in convert_day.keys():
    if d not in old_days:
      print(d + " not found in old_days")

#+END_SRC

#+RESULTS:
: Old days have 113; new days have 113
**** DONE Find canticles
CLOSED: [2021-10-07 Thu 20:31]
#+BEGIN_SRC python
  import json

  def report(title, data):
         print(title + " (" + str(len(data)) + "): " + ', '.join(map(str, data)))

  def get_elements(data, name):
       results = []
       for i in data:
         if(i[name] not in results):
           results.append(i[name])
       return results

  def analyze(filename):
       print("--------------------")
       print("analyze: " + filename + "\n")

       with open(filename, "r") as f:
         data = f.read()
       rcl = json.loads(data)

       print ("Found " + str(len(rcl)) + " records")

       canticles = []
       for r in rcl:
         if r['type'] == 'morning_psalms':
           if(r['citation'].find("anticle")>=0):
             canticle = r['citation']
             if canticle not in canticles:
               canticles.append(canticle)

       for c in canticles:
         print(c)

  analyze('../venite/commonprayer/src/assets/lectionary/rcl1.json')
  analyze('../venite/commonprayer/src/assets/lectionary/rcl2.json')
#+END_SRC

#+RESULTS:
#+begin_example
--------------------
analyze: ../venite/commonprayer/src/assets/lectionary/rcl1.json

Found 849 records
canticle-9
canticle-16
--------------------
analyze: ../venite/commonprayer/src/assets/lectionary/rcl2.json

Found 1566 records
canticle-15
canticle-8
canticle-9
canticle-13
canticle-16
#+end_example

**** ABANDON build bcprcl.json? first attempt -- is broken
CLOSED: [2021-10-07 Thu 20:31]
#+BEGIN_SRC python
  import json

  # Conversion
  convert_lesson = dict({'first_reading':'first', 'second_reading':'second', 'gospel':'gospel', 'morning_psalms':'psalm'})

  convert_day = dict({
  'first-advent':'first-sunday-of-advent',
  'second-advent':'second-sunday-of-advent',
  'third-advent':'third-sunday-of-advent',
  'fourth-advent':'fourth-sunday-of-advent',
  'christmas':'christmas-day-i',
      'christmas-day-ii':'christmas-day-ii',
      'christmas-day-iii':'christmas-day-iii',
  '1st-sunday-after-christmas':'first-sunday-after-christmas',
  'holy-name':'holy-name',
  '2nd-sunday-after-christmas':'second-sunday-after-christmas',
  'epiphany':'the-epiphany',
  '1st-epiphany':'first-sunday-after-epiphany',
  '2nd-epiphany':'second-sunday-after-epiphany',
  '3rd-epiphany':'third-sunday-after-epiphany',
  '4th-epiphany':'fourth-sunday-after-epiphany',
  '5th-epiphany':'fifth-sunday-after-epiphany',
  '6th-epiphany':'sixth-sunday-after-epiphany',
  '7th-epiphany':'seventh-sunday-after-epiphany',
  '8th-epiphany':'eighth-sunday-after-epiphany',
  'last-epiphany':'last-sunday-after-the-epiphany',
  'wednesday-last-epiphany':'ash-wednesday',
  '1st-lent':'first-sunday-in-lent',
  '2nd-lent':'second-sunday-in-lent',
  '3rd-lent':'third-sunday-in-lent',
  '4th-lent':'fourth-sunday-in-lent',
  '5th-lent':'fifth-sunday-in-lent',
  'holy-week':'palm-sunday-liturgy-of-the-word',
  'palm-sunday-liturgy-of-the-palms':'palm-sunday-liturgy-of-the-palms',
  'monday-holy-week':'monday-in-holy-week',
  'tuesday-holy-week':'tuesday-in-holy-week',
  'wednesday-holy-week':'wednesday-in-holy-week',
  'thursday-holy-week':'maundy-thursday',
  'friday-holy-week':'good-friday',
  'saturday-holy-week':'holy-saturday',
  'easter-day-the-great-vigil':'easter-day-the-great-vigil',
  'easter':'easter-day-principal-service',
  'easter-day-evening-service':'easter-day-evening-service',
  'monday-easter':'monday-in-easter-week',
  'tuesday-easter':'tuesday-in-easter-week',
  'wednesday-easter':'wednesday-in-easter-week',
  'thursday-easter':'thursday-in-easter-week',
  'friday-easter':'friday-in-easter-week',
  'saturday-easter':'saturday-in-easter-week',
  '2nd-easter':'second-sunday-of-easter',
  '3rd-easter':'third-sunday-of-easter',
  '4th-easter':'fourth-sunday-of-easter',
  '5th-easter':'fifth-sunday-of-easter',
  '6th-easter':'sixth-sunday-of-easter',
  'thursday-6th-easter':'ascension-day',
  '7th-easter':'seventh-sunday-of-easter',
  'day-of-pentecost-early-or-vigil-service':'day-of-pentecost-early-or-vigil-service',
  'pentecost':'day-of-pentecost-principal-service',
  'trinity-sunday':'trinity-sunday',
  'proper-1':'proper-1',
  'proper-2':'proper-2',
  'proper-3':'proper-3',
  'proper-4':'proper-4',
  'proper-5':'proper-5',
  'proper-6':'proper-6',
  'proper-7':'proper-7',
  'proper-8':'proper-8',
  'proper-9':'proper-9',
  'proper-10':'proper-10',
  'proper-11':'proper-11',
  'proper-12':'proper-12',
  'proper-13':'proper-13',
  'proper-14':'proper-14',
  'proper-15':'proper-15',
  'proper-16':'proper-16',
  'proper-17':'proper-17',
  'proper-18':'proper-18',
  'proper-19':'proper-19',
  'proper-20':'proper-20',
  'proper-21':'proper-21',
  'proper-22':'proper-22',
  'proper-23':'proper-23',
  'proper-24':'proper-24',
  'proper-25':'proper-25',
  'proper-26':'proper-26',
  'proper-27':'proper-27',
  'proper-28':'proper-28',
  'proper-29':'proper-29-christ-the-king',
  'confession-of-st-peter':'confession-of-st-peter',
  'conversion-of-st-paul':'conversion-of-st-paul',
  'the-presentation':'the-presentation',
  'st-matthias':'st-matthias',
  'st-joseph':'st-joseph',
  'annunciation':'the-annunciation',
  'st-mark':'st-mark',
  'ss-philip-and-james':'st-philip-&-st-james',
  'the-visitation':'the-visitation',
  'st-barnabas':'st-barnabas',
  'nativity-of-st-john-the-baptist':'nativity-of-st-john-the-baptist',
  'ss-peter-and-paul':'st-peter-&-st-paul',
  'independence-day':'independence-day',
  'st-mary-magdalene':'st-mary-magdalene',
  'st-james':'st-james',
  'the-transfiguration':'the-transfiguration',
  'st-mary-the-virgin':'st-mary-the-virgin',
  'st-bartholomew':'st-bartholomew',
  'holy-cross':'holy-cross-day',
  'st-matthew':'st-matthew',
  'st-michael':'st-michael-&-all-angels',
  'st-luke':'st-luke',
  'st-james-of-jerusalem':'st-james-of-jerusalem',
  'ss-simon-and-jude':'st-simon-&-st-jude',
  'all-saints-day':'all-saints-day',
  'st-andrew':'st-andrew',
  'st-thomas':'st-thomas',
  'st-stephen':'st-stephen',
  'st-john':'st-john',
  'holy-innocents':'holy-innocents',
  'thanksgiving-day':'thanksgiving-day'})

  def loadlectionary(filename):
      with open(filename, "r") as f:
          data = f.read()
      return json.loads(data)

  def get_days_set(data):
    days=[]
    for i in data:
      if(i['day'] not in days):
        days.append(i['day'])
    return days


  def narrow_data_set(data, field, value):
    results=[]
    for i in data:
      if(i[field]==value):
        results.append(i)
    return results

  def get_citations(data, type):
    results = []
    for i in narrow_data_set(data, 'type', type):
       if i['citation'] not in results:
         if (results):
           results.append("/or/ " + i['citation'])
         else:
           results.append(i['citation'])
    results.reverse() # return reverse so they can be retrieved with .pop()
    return results


  def get_new_citations(data, lesson):
    results = []
    for i in narrow_data_set(data, 'lesson', lesson):
       if i['citation'] not in results:
         if (results):
           results.append("/or/ " + i['citation'])
         else:
           results.append(i['citation'])
    results.reverse() # return reverse so they can be retrieved with .pop()
    return results


  def show(data, year, day):
    data = narrow_data_set(narrow_data_set(data, 'year', year), 'day', day)
    if (day.find("proper")>=0):
      track1 = narrow_data_set(data, 'track', '1')
      track2 = narrow_data_set(data, 'track', '2')
      psalms=get_new_citations(track2, 'psalm')
      psalms+=get_new_citations(track2, 'first')
      psalms+=get_new_citations(track1, 'psalm')
      psalms+=get_new_citations(track1, 'first')
      lessons=get_new_citations(data, 'gospel')
      lessons+=get_new_citations(data, 'second')
      print("| " + day + " | " + psalms.pop() + " | " + lessons.pop() + " | ")
      while (psalms):
        if (lessons):
          print("|           | " + psalms.pop() + " | " + lessons.pop() + " | ")
        else:
          print("|           | " + psalms.pop() + " |                 |")
    else:
      psalms=get_new_citations(data, 'psalm')
      lessons=get_new_citations(data, 'gospel')
      lessons+=get_new_citations(data, 'second')
      lessons+=get_new_citations(data, 'first')
      print("| " + day + " | " + psalms.pop() + " | " + lessons.pop() + " | ")
      while (lessons):
        if (psalms):
          print("|           | " + psalms.pop() + " | " + lessons.pop() + " | ")
        else:
          print("|           |                | " + lessons.pop() + " | ")


  def print_lectionary(rcl):
      days = get_days_set(rcl)
      print("*** Venite Lectionary Altered & Formatted as BCP")
      print()
      for year in years:
          print()
          print()
          print("**** Year " + year)
          for day in days:
              if day in new_breaks:
                  print()
                  print("|-----------|----------|--------|")
                  if day.find("proper") >= 0:
                      print("|Day | OT & Psalms | NT Lessons |")
                  else:
                      print("|Day | Psalm | Lesson |")
              show(rcl, year, day)
              print("| | | |")

  def convert(data, when, day):
      results = []
      data = narrow_data_set(narrow_data_set(data, 'when', when), 'day', day)

      for lesson_type in ['morning_psalms', 'first_reading']:
          typedata =  narrow_data_set(data, 'type', lesson_type)
          if day.find("proper")>=0:
              tracks = dict({1:'rclsundayTrack1', 2:'rclsundayTrack2'})
              for i in [1, 2]:
                  for lesson in narrow_data_set(typedata, 'lectionary', tracks[i]):
                      results.append(dict({'year':when, 'day':convert_day[day], 'lesson':convert_lesson[lesson_type], 'track':str(i), 'alt':'', 'citation':lesson['citation']}))
          else:
              for lesson in typedata:
                  results.append(dict({'year':when, 'day':convert_day[day], 'lesson':convert_lesson[lesson_type], 'track':'', 'alt':'', 'citation':lesson['citation']}))

      for lesson_type in ['second_reading', 'gospel']:
          for lesson in narrow_data_set(data, 'type', lesson_type):
              results.append(dict({'year':when, 'day':convert_day[day], 'lesson':convert_lesson[lesson_type], 'track':'', 'alt':'', 'citation':lesson['citation']}))
      return results

  def convert_lectionary(old_rcl):
      days = get_days_set(old_rcl)
      new_rcl = []
      for year in years:
          for day in days:
              new_rcl += convert(old_rcl, year, day)
      return new_rcl


  rcl = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl1.json')
  rcl += loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl2.json')
  #print_lectionary(rcl)

  new_rcl = convert_lectionary(rcl)
  with open ("output/bcprcl.json", "w") as t:
      t.write(json.dumps(new_rcl, indent=4))
  print_lectionary(new_rcl)



#+END_SRC

#+RESULTS:
**** DONE build bcprcl.json
CLOSED: [2021-10-07 Thu 20:31]
based on the successful script to print out in BCP format
iterate just the same, but instead of printing results, generate records for bcprcl
just have to generate a list; json exporter takes care of the rest!
specify track only for first reading & psalm, proper 4-29

#+BEGIN_SRC python
  import json

  track_types = ['first_reading', 'morning_psalms']
  non_track_types = ['second_reading', 'gospel']
  all_types = track_types + non_track_types
  years = ['A', 'B', 'C']
  convert_lesson = dict({'first_reading':'first', 'second_reading':'second', 'gospel':'gospel', 'morning_psalms':'psalm'})
  convert_canticle = {
      'canticle-15':'Canticle 3 or 15',
      'canticle-8':'Canticle 8',
      'canticle-9':'Canticle 9',
      'canticle-13':'Canticle 2 or 13',
      'canticle-16':'Canticle 4 or 16'}
  change_lesson_ordinal = ['monday-in-easter-week', 'tuesday-in-easter-week', 'wednesday-in-easter-week', 'thursday-in-easter-week', 'friday-in-easter-week', 'saturday-in-easter-week']


  convert_day = dict({
    'first-advent':'first-sunday-of-advent',
    'second-advent':'second-sunday-of-advent',
    'third-advent':'third-sunday-of-advent',
    'fourth-advent':'fourth-sunday-of-advent',
    'christmas':'christmas-day-i',
        'christmas-day-ii':'christmas-day-ii',
        'christmas-day-iii':'christmas-day-iii',
    '1st-sunday-after-christmas':'first-sunday-after-christmas',
    'holy-name':'holy-name',
    '2nd-sunday-after-christmas':'second-sunday-after-christmas',
    'epiphany':'the-epiphany',
    '1st-epiphany':'first-sunday-after-epiphany',
    '2nd-epiphany':'second-sunday-after-epiphany',
    '3rd-epiphany':'third-sunday-after-epiphany',
    '4th-epiphany':'fourth-sunday-after-epiphany',
    '5th-epiphany':'fifth-sunday-after-epiphany',
    '6th-epiphany':'sixth-sunday-after-epiphany',
    '7th-epiphany':'seventh-sunday-after-epiphany',
    '8th-epiphany':'eighth-sunday-after-epiphany',
    'last-epiphany':'last-sunday-after-the-epiphany',
    'wednesday-last-epiphany':'ash-wednesday',
    '1st-lent':'first-sunday-in-lent',
    '2nd-lent':'second-sunday-in-lent',
    '3rd-lent':'third-sunday-in-lent',
    '4th-lent':'fourth-sunday-in-lent',
    '5th-lent':'fifth-sunday-in-lent',
    'holy-week':'palm-sunday-liturgy-of-the-word',
    'palm-sunday-liturgy-of-the-palms':'palm-sunday-liturgy-of-the-palms',
    'monday-holy-week':'monday-in-holy-week',
    'tuesday-holy-week':'tuesday-in-holy-week',
    'wednesday-holy-week':'wednesday-in-holy-week',
    'thursday-holy-week':'maundy-thursday',
    'friday-holy-week':'good-friday',
    'saturday-holy-week':'holy-saturday',
    'easter-day-the-great-vigil':'easter-day-the-great-vigil',
    'easter':'easter-day-principal-service',
    'easter-day-evening-service':'easter-day-evening-service',
    'monday-easter':'monday-in-easter-week',
    'tuesday-easter':'tuesday-in-easter-week',
    'wednesday-easter':'wednesday-in-easter-week',
    'thursday-easter':'thursday-in-easter-week',
    'friday-easter':'friday-in-easter-week',
    'saturday-easter':'saturday-in-easter-week',
    '2nd-easter':'second-sunday-of-easter',
    '3rd-easter':'third-sunday-of-easter',
    '4th-easter':'fourth-sunday-of-easter',
    '5th-easter':'fifth-sunday-of-easter',
    '6th-easter':'sixth-sunday-of-easter',
    'thursday-6th-easter':'ascension-day',
    '7th-easter':'seventh-sunday-of-easter',
    'day-of-pentecost-early-or-vigil-service':'day-of-pentecost-early-or-vigil-service',
    'pentecost':'day-of-pentecost-principal-service',
    'trinity-sunday':'trinity-sunday',
    'proper-1':'proper-1',
    'proper-2':'proper-2',
    'proper-3':'proper-3',
    'proper-4':'proper-4',
    'proper-5':'proper-5',
    'proper-6':'proper-6',
    'proper-7':'proper-7',
    'proper-8':'proper-8',
    'proper-9':'proper-9',
    'proper-10':'proper-10',
    'proper-11':'proper-11',
    'proper-12':'proper-12',
    'proper-13':'proper-13',
    'proper-14':'proper-14',
    'proper-15':'proper-15',
    'proper-16':'proper-16',
    'proper-17':'proper-17',
    'proper-18':'proper-18',
    'proper-19':'proper-19',
    'proper-20':'proper-20',
    'proper-21':'proper-21',
    'proper-22':'proper-22',
    'proper-23':'proper-23',
    'proper-24':'proper-24',
    'proper-25':'proper-25',
    'proper-26':'proper-26',
    'proper-27':'proper-27',
    'proper-28':'proper-28',
    'proper-29':'proper-29-christ-the-king',
    'st-andrew':'st-andrew',
    'st-thomas':'st-thomas',
    'st-stephen':'st-stephen',
    'st-john':'st-john',
    'holy-innocents':'holy-innocents',
    'confession-of-st-peter':'confession-of-st-peter',
    'conversion-of-st-paul':'conversion-of-st-paul',
    'the-presentation':'the-presentation',
    'st-matthias':'st-matthias',
    'st-joseph':'st-joseph',
    'annunciation':'the-annunciation',
    'st-mark':'st-mark',
    'ss-philip-and-james':'st-philip-&-st-james',
    'the-visitation':'the-visitation',
    'st-barnabas':'st-barnabas',
    'nativity-of-st-john-the-baptist':'nativity-of-st-john-the-baptist',
    'ss-peter-and-paul':'st-peter-&-st-paul',
    'independence-day':'independence-day',
    'st-mary-magdalene':'st-mary-magdalene',
    'st-james':'st-james',
    'the-transfiguration':'the-transfiguration',
    'st-mary-the-virgin':'st-mary-the-virgin',
    'st-bartholomew':'st-bartholomew',
    'holy-cross':'holy-cross-day',
    'st-matthew':'st-matthew',
    'st-michael':'st-michael-&-all-angels',
    'st-luke':'st-luke',
    'st-james-of-jerusalem':'st-james-of-jerusalem',
    'ss-simon-and-jude':'st-simon-&-st-jude',
    'all-saints-day':'all-saints-day',
    'thanksgiving-day':'thanksgiving-day'})

  def loadlectionary(filename):
      with open(filename, "r") as f:
          data = f.read()
      return json.loads(data)

  def narrow_data_set(data, field, value):
      results=[]
      for i in data:
        if(i[field]==value):
          results.append(i)
      return results

  def get_citations(data, type):
      results = []
      for i in narrow_data_set(data, 'type', type):
         citation = i['citation']
         if citation in convert_canticle:
           citation = convert_canticle[citation]
         if citation not in results:
             results.append(citation)
      return results


  def render(data, when, day):
      results = []
      data = narrow_data_set(narrow_data_set(data, 'when', when), 'day', day)
      track1 = narrow_data_set(data, 'lectionary', 'rclsundayTrack1')
      track2 = narrow_data_set(data, 'lectionary', 'rclsunday')
      types = all_types

      if (day.find("proper")>=0):
        types = non_track_types
        for t in track_types:
          seq = 1
          for cit in get_citations(track1, t):
            results.append({'year':when, 'day':convert_day[day], 'lesson':convert_lesson[t], 'track':'1', 'alt':seq, 'citation':cit})
            seq += 1
          seq = 1
          for cit in get_citations(track2, t):
            results.append({'year':when, 'day':convert_day[day], 'lesson':convert_lesson[t], 'track':'2', 'alt':seq, 'citation':cit})
            seq += 1
      for t in types:
        seq = 1
        for cit in get_citations(track2, t):
          new_ordinal = convert_lesson[t]
          new_day = convert_day[day]
          if new_day[-15:] == "-in-easter-week":
            if t == 'second_reading':
              new_ordinal = "first"
          results.append({'year':when, 'day':new_day, 'lesson':new_ordinal, 'track':'', 'alt':seq, 'citation':cit})
          seq += 1
      return results

    # Load rcl2 first becuase it has the most days, ordered better
  rcl = loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl2.json')
  rcl += loadlectionary('../venite/commonprayer/src/assets/lectionary/rcl1.json')

  results = []
  for year in years:
      for day in convert_day:
          results += render(rcl, year, day)
  print("Rendered " + str(len(results)) + " records.")
  with open ("output/bcprcl.json", "w") as t:
      t.write(json.dumps(results, indent=4))

#+END_SRC

#+RESULTS:
: Rendered 1727 records.
*** Test out file format bcprcl.json
#+BEGIN_SRC python
  import json

  def report(title, data):
         print(title + " (" + str(len(data)) + "): " + title + " = [\"" + '", "'.join(map(str, data)) + "\"]")

  def get_elements(data, name):
       results = []
       for i in data:
         if(i[name] not in results):
           results.append(i[name])
       return results

  def analyze(filename):
       print("--------------------")
       print("analyze: " + filename + "\n")

       with open(filename, "r") as f:
         data = f.read()
       rcl = json.loads(data)

       print ("Found " + str(len(rcl)) + " records")

       fields = []
       for r in rcl:
         for k in list(r):
           if k not in fields:
             fields.append(k)
       report("Fields: ", fields)

       interesting_fields = ['year','lesson','track','alt','day']
       for field in interesting_fields:
          report(field, get_elements(rcl, field))

  analyze('output/bcprcl.json')

#+END_SRC

#+RESULTS:
#+begin_example
--------------------
analyze: output/bcprcl.json

Found 1727 records
Fields:  (6): Fields:  = ["year", "day", "lesson", "track", "alt", "citation"]
year (3): year = ["A", "B", "C"]
lesson (4): lesson = ["first", "psalm", "second", "gospel"]
track (3): track = ["", "2", "1"]
alt (10): alt = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
day (113): day = ["first-sunday-of-advent", "second-sunday-of-advent", "third-sunday-of-advent", "fourth-sunday-of-advent", "christmas-day-i", "christmas-day-ii", "christmas-day-iii", "first-sunday-after-christmas", "holy-name", "second-sunday-after-christmas", "the-epiphany", "first-sunday-after-epiphany", "second-sunday-after-epiphany", "third-sunday-after-epiphany", "fourth-sunday-after-epiphany", "fifth-sunday-after-epiphany", "sixth-sunday-after-epiphany", "seventh-sunday-after-epiphany", "eighth-sunday-after-epiphany", "last-sunday-after-the-epiphany", "ash-wednesday", "first-sunday-in-lent", "second-sunday-in-lent", "third-sunday-in-lent", "fourth-sunday-in-lent", "fifth-sunday-in-lent", "palm-sunday-liturgy-of-the-word", "palm-sunday-liturgy-of-the-palms", "monday-in-holy-week", "tuesday-in-holy-week", "wednesday-in-holy-week", "maundy-thursday", "good-friday", "holy-saturday", "easter-day-the-great-vigil", "easter-day-principal-service", "easter-day-evening-service", "monday-in-easter-week", "tuesday-in-easter-week", "wednesday-in-easter-week", "thursday-in-easter-week", "friday-in-easter-week", "saturday-in-easter-week", "second-sunday-of-easter", "third-sunday-of-easter", "fourth-sunday-of-easter", "fifth-sunday-of-easter", "sixth-sunday-of-easter", "ascension-day", "seventh-sunday-of-easter", "day-of-pentecost-early-or-vigil-service", "day-of-pentecost-principal-service", "trinity-sunday", "proper-1", "proper-2", "proper-3", "proper-4", "proper-5", "proper-6", "proper-7", "proper-8", "proper-9", "proper-10", "proper-11", "proper-12", "proper-13", "proper-14", "proper-15", "proper-16", "proper-17", "proper-18", "proper-19", "proper-20", "proper-21", "proper-22", "proper-23", "proper-24", "proper-25", "proper-26", "proper-27", "proper-28", "proper-29-christ-the-king", "st-andrew", "st-thomas", "st-stephen", "st-john", "holy-innocents", "confession-of-st-peter", "conversion-of-st-paul", "the-presentation", "st-matthias", "st-joseph", "the-annunciation", "st-mark", "st-philip-&-st-james", "the-visitation", "st-barnabas", "nativity-of-st-john-the-baptist", "st-peter-&-st-paul", "independence-day", "st-mary-magdalene", "st-james", "the-transfiguration", "st-mary-the-virgin", "st-bartholomew", "holy-cross-day", "st-matthew", "st-michael-&-all-angels", "st-luke", "st-james-of-jerusalem", "st-simon-&-st-jude", "all-saints-day", "thanksgiving-day"]
#+end_example
*** print bcprcl formatted like BCP
Use 'alt' ordering number for multiple citations -- or at least report
#+BEGIN_SRC python
  import json

  # Fields:  (6): year, day, lesson, track, alt, citation
  readings = ['first', 'second', 'gospel', 'psalm']
  years = ['A', 'B', 'C']
  breaks = ['first-sunday-of-advent', 'first-sunday-after-christmas', 'first-sunday-after-epiphany', 'seventh-sunday-after-epiphany', 'first-sunday-in-lent', 'palm-sunday-liturgy-of-the-word', 'easter-day-principal-service', 'proper-1', 'proper-4', 'proper-10', 'proper-17', 'proper-24', 'confession-of-st-peter', 'st-mark', 'st-james', 'st-luke', 'second-sunday-of-easter', 'seventh-sunday-of-easter', 'holy-saturday', 'st-andrew']
  def loadlectionary(filename):
      with open(filename, "r") as f:
        data = f.read()
      return json.loads(data)

  def get_days_set(data):
      days=[]
      for i in data:
        if(i['day'] not in days):
          days.append(i['day'])
      return days

  def narrow_data_set(data, field, value):
      results=[]
      for i in data:
        if(i[field]==value):
          results.append(i)
      return results

  def get_citations(data, type):
      results = []
      for i in narrow_data_set(data, 'lesson', type):
         if i['citation'] not in results:
           if (results):
             results.append("/or/ " + i['citation'] + ' #' + str(i['alt']))
           else:
             results.append(i['citation'])
      results.reverse() # return reverse so they can be retrieved with .pop()
      return results

  def show(data, when, day):
      data = narrow_data_set(narrow_data_set(data, 'year', when), 'day', day)
      track1 = narrow_data_set(data, 'track', '1')
      track2 = narrow_data_set(data, 'track', '2')
      if (day.find("proper")>=0):
        psalms=get_citations(track2, 'psalm')
        psalms+=get_citations(track2, 'first')
        psalms+=get_citations(track1, 'psalm')
        psalms+=get_citations(track1, 'first')
        lessons=get_citations(data, 'gospel')
        lessons+=get_citations(data, 'second')
        while (len(psalms) + len(lessons) > 0):
          ps = les = ''
          if len(psalms)>0:
            ps = psalms.pop()
          if len(lessons)>0:
            les = lessons.pop()
          print("| " + day[0:20]  + " | " + ps + " | " + les + " | ")
          day = day[20:]
      else:
        psalms=get_citations(data, 'psalm')
        lessons=get_citations(data, 'gospel')
        lessons+=get_citations(data, 'second')
        lessons+=get_citations(data, 'first')
        while (len(psalms) + len(lessons) > 0):
          ps = les = ''
          if len(psalms)>0:
            ps = psalms.pop()
          if len(lessons)>0:
            les = lessons.pop()
          print("| " + day[0:20]  + " | " + ps + " | " + les + " | ")
          day = day[20:]


  rcl = loadlectionary('output/bcprcl.json')
  days = get_days_set(rcl)

  print("*** bcprcl.json Formatted as BCP")
  print()
  for year in years:
      print('\\newpage')
      print("**** Year " + year)
      for day in days:
        if day in breaks:
            print()
            print("|-----------|----------|--------|")
            if day.find("proper") >= 0:
                print("|Day | OT & Psalms | NT Lessons |")
            else:
                print("|Day | Psalm | Lesson |")
        show(rcl, year, day)
        print("| | | |")

#+END_SRC

**** bcprcl.json Formatted as BCP

\newpage
***** Year A

|-----------|----------|--------|
|Day | Psalm | Lesson |
| first-sunday-of-adve | Psalm 122 | Isaiah 2:1-5 |
| nt |  | Romans 13:11-14 |
|  |  | Matthew 24:36-44 |
| | | |
| second-sunday-of-adv | Psalm 72:1-7,18-19 | Isaiah 11:1-10 |
| ent |  | Romans 15:4-13 |
|  |  | Matthew 3:1-12 |
| | | |
| third-sunday-of-adve | Psalm 146:4-9 | Isaiah 35:1-10 |
| nt | /or/ Canticle 3 or 15 #2 | James 5:7-10 |
|  |  | Matthew 11:2-11 |
| | | |
| fourth-sunday-of-adv | Psalm 80:1-7,16-18 | Isaiah 7:10-16 |
| ent |  | Romans 1:1-7 |
|  |  | Matthew 1:18-25 |
| | | |
| christmas-day-i | Psalm 96 | Isaiah 9:2-7 |
|  |  | Titus 2:11-14 |
|  |  | Luke 2:1-14,(15-20) |
| | | |
| christmas-day-ii | Psalm 97 | Isaiah 62:6-12 |
|  |  | Titus 3:4-7 |
|  |  | Luke 2:(1-7),8-20 |
| | | |
| christmas-day-iii | Psalm 98 | Isaiah 52:7-10 |
|  |  | Hebrews 1:1-4,(5-12) |
|  |  | John 1:1-14 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| first-sunday-after-c | Psalm 147 | Isaiah 61:10-62:3 |
| hristmas | /or/ Psalm 147:13-21 #2 | Galatians 3:23-25; 4:4-7 |
|  |  | John 1:1-18 |
| | | |
| holy-name | Psalm 8 | Numbers 6:22-27 |
|  |  | Galatians 4:4-7 |
|  |  | /or/ Philippians 2:5-11 #2 |
|  |  | Luke 2:15-21 |
| | | |
| second-sunday-after- | Psalm 84 | Jeremiah 31:7-14 |
| christmas | /or/ Psalm 84:1-8 #2 | Ephesians 1:3-6,15-19a |
|  |  | Matthew 2:13-15,19-23 |
|  |  | /or/ Luke 2:41-52 #2 |
|  |  | /or/ Matthew 2:1-12 #3 |
| | | |
| the-epiphany | Psalm 72:1-7,10-14 | Isaiah 60:1-6 |
|  |  | Ephesians 3:1-12 |
|  |  | Matthew 2:1-12 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| first-sunday-after-e | Psalm 29 | Isaiah 42:1-9 |
| piphany |  | Acts 10:34-43 |
|  |  | Matthew 3:13-17 |
| | | |
| second-sunday-after- | Psalm 40:1-12 | Isaiah 49:1-7 |
| epiphany |  | 1 Corinthians 1:1-9 |
|  |  | John 1:29-42 |
| | | |
| third-sunday-after-e | Psalm 27:1,5-13 | Isaiah 9:1-4 |
| piphany |  | 1 Corinthians 1:10-18 |
|  |  | Matthew 4:12-23 |
| | | |
| fourth-sunday-after- | Psalm 15 | Micah 6:1-8 |
| epiphany |  | 1 Corinthians 1:18-31 |
|  |  | Matthew 5:1-12 |
| | | |
| fifth-sunday-after-e | Psalm 112:1-9,(10) | Isaiah 58:1-9a,(9b-12) |
| piphany |  | 1 Corinthians 2:1-12,(13-16) |
|  |  | Matthew 5:13-20 |
| | | |
| sixth-sunday-after-e | Psalm 119:1-8 | Deuteronomy 30:15-20 |
| piphany |  | /or/ Sirach 15:15-20 #2 |
|  |  | 1 Corinthians 3:1-9 |
|  |  | Matthew 5:21-37 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| seventh-sunday-after | Psalm 119:33-40 | Leviticus 19:1-2,9-18 |
| -epiphany |  | 1 Corinthians 3:10-11,16-23 |
|  |  | Matthew 5:38-48 |
| | | |
| eighth-sunday-after- | Psalm 131 | Isaiah 49:8-16a |
| epiphany |  | 1 Corinthians 4:1-5 |
|  |  | Matthew 6:24-34 |
| | | |
| last-sunday-after-th | Psalm 2 | Exodus 24:12-18 |
| e-epiphany | /or/ Psalm 99 #2 | 2 Peter 1:16-21 |
|  |  | Matthew 17:1-9 |
| | | |
| ash-wednesday | Psalm 103 | Joel 2:1-2,12-17 |
|  | /or/ Psalm 103:8-14 #2 | /or/ Isaiah 58:1-12 #2 |
|  |  | 2 Corinthians 5:20b-6:10 |
|  |  | Matthew 6:1-6,16-21 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| first-sunday-in-lent | Psalm 32 | Genesis 2:15-17; 3:1-7 |
|  |  | Romans 5:12-19 |
|  |  | Matthew 4:1-11 |
| | | |
| second-sunday-in-len | Psalm 121 | Genesis 12:1-4a |
| t |  | Romans 4:1-5,13-17 |
|  |  | John 3:1-17 |
| | | |
| third-sunday-in-lent | Psalm 95 | Exodus 17:1-7 |
|  |  | Romans 5:1-11 |
|  |  | John 4:5-42 |
| | | |
| fourth-sunday-in-len | Psalm 23 | 1 Samuel 16:1-13 |
| t |  | Ephesians 5:8-14 |
|  |  | John 9:1-41 |
| | | |
| fifth-sunday-in-lent | Psalm 130 | Ezekiel 37:1-14 |
|  |  | Romans 8:6-11 |
|  |  | John 11:1-45 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| palm-sunday-liturgy- | Psalm 31:9-16 | Isaiah 50:4-9a |
| of-the-word |  | Philippians 2:5-11 |
|  |  | Matthew 26:14-27:66 |
|  |  | /or/ Matthew 27:11-54 #2 |
| | | |
| palm-sunday-liturgy- | Psalm 118:1-2,19-29 | Matthew 21:1-11 |
| | | |
| monday-in-holy-week | Psalm 36:5-11 | Isaiah 42:1-9 |
|  |  | Hebrews 9:11-15 |
|  |  | John 12:1-11 |
| | | |
| tuesday-in-holy-week | Psalm 71:1-14 | Isaiah 49:1-7 |
|  |  | 1 Corinthians 1:18-31 |
|  |  | John 12:20-36 |
| | | |
| wednesday-in-holy-we | Psalm 70 | Isaiah 50:4-9a |
| ek |  | Hebrews 12:1-3 |
|  |  | John 13:21-32 |
| | | |
| maundy-thursday | Psalm 116:1,10-17 | Exodus 12:1-4,(5-10),11-14 |
|  |  | 1 Corinthians 11:23-26 |
|  |  | John 13:1-17,31b-35 |
| | | |
| good-friday | Psalm 22 | Isaiah 52:13-53:12 |
|  |  | Hebrews 10:16-25 |
|  |  | /or/ Hebrews 4:14-16; 5:7-9 #2 |
|  |  | John 18:1-19:42 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| holy-saturday | Psalm 31:1-4,15-16 | Job 14:1-14 |
|  |  | /or/ Lamentations 3:1-9,19-24 #2 |
|  |  | 1 Peter 4:1-8 |
|  |  | Matthew 27:57-66 |
|  |  | /or/ John 19:38-42 #2 |
| | | |
| easter-day-the-great | Psalm 136:1-9,23-26 | Genesis 1:1-2:4a |
| -vigil | /or/ Psalm 46 #2 | /or/ Genesis 7:1-5,11-18; 8:6-18; 9:8-13 #2 |
|  | /or/ Psalm 16 #3 | /or/ Genesis 22:1-18 #3 |
|  | /or/ Canticle 8 #4 | /or/ Exodus 14:10-31; 15:20-21 #4 |
|  | /or/ Canticle 9 #5 | /or/ Isaiah 55:1-11 #5 |
|  | /or/ Psalm 19 #6 | /or/ Baruch 3:9-15,32-4:4 #6 |
|  | /or/ Psalm 42 and 43 #7 | /or/ Proverbs 8:1-8,19-21; 9:4b-6 #7 |
|  | /or/ Psalm 143 #8 | /or/ Ezekiel 36:24-28 #8 |
|  | /or/ Psalm 98 #9 | /or/ Ezekiel 37:1-14 #9 |
|  | /or/ Psalm 114 #10 | /or/ Zephaniah 3:14-20 #10 |
|  |  | Romans 6:3-11 |
|  |  | Matthew 28:1-10 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| easter-day-principal | Psalm 118:1-2,14-24 | Acts 10:34-43 |
| -service |  | /or/ Jeremiah 31:1-6 #2 |
|  |  | Colossians 3:1-4 |
|  |  | /or/ Acts 10:34-43 #2 |
|  |  | John 20:1-18 |
|  |  | /or/ Matthew 28:1-10 #2 |
| | | |
| easter-day-evening-s | Psalm 114 | Isaiah 25:6-9 |
| ervice |  | 1 Corinthians 5:6b-8 |
|  |  | Luke 24:13-49 |
| | | |
| monday-in-easter-wee | Psalm 16:8-11 | Acts 2:14,22b-32 |
| k | /or/ Psalm 118:19-24 #2 | Matthew 28:9-15 |
| | | |
| tuesday-in-easter-we | Psalm 33:18-22 | Acts 2:36-41 |
| ek | /or/ Psalm 118:19-24 #2 | John 20:11-18 |
| | | |
| wednesday-in-easter- | Psalm 105:1-8 | Acts 3:1-10 |
| week | /or/ Psalm 118:19-24 #2 | Luke 24:13-35 |
| | | |
| thursday-in-easter-w | Psalm 8 | Acts 3:11-26 |
| eek | /or/ Psalm 114 #2 | Luke 24:36b-48 |
|  | /or/ Psalm 118:19-24 #3 |  |
| | | |
| friday-in-easter-wee | Psalm 116:1-8 | Acts 4:1-12 |
| k | /or/ Psalm 118:19-24 #2 | John 21:1-14 |
| | | |
| saturday-in-easter-w | Psalm 118:14-18 | Acts 4:13-21 |
| eek | /or/ Psalm 118:19-24 #2 | Mark 16:9-15,20 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| second-sunday-of-eas | Psalm 16 | Acts 2:14a,22-32 |
| ter |  | 1 Peter 1:3-9 |
|  |  | John 20:19-31 |
| | | |
| third-sunday-of-east | Psalm 116:1-3,10-17 | Acts 2:14a,36-41 |
| er |  | 1 Peter 1:17-23 |
|  |  | Luke 24:13-35 |
| | | |
| fourth-sunday-of-eas | Psalm 23 | Acts 2:42-47 |
| ter |  | 1 Peter 2:19-25 |
|  |  | John 10:1-10 |
| | | |
| fifth-sunday-of-east | Psalm 31:1-5,15-16 | Acts 7:55-60 |
| er |  | 1 Peter 2:2-10 |
|  |  | John 14:1-14 |
| | | |
| sixth-sunday-of-east | Psalm 66:7-18 | Acts 17:22-31 |
| er |  | 1 Peter 3:13-22 |
|  |  | John 14:15-21 |
| | | |
| ascension-day | Psalm 47 | Acts 1:1-11 |
|  | /or/ Psalm 93 #2 | Ephesians 1:15-23 |
|  |  | Luke 24:44-53 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| seventh-sunday-of-ea | Psalm 68:1-10,33-36 | Acts 1:6-14 |
| ster |  | 1 Peter 4:12-14; 5:6-11 |
|  |  | John 17:1-11 |
| | | |
| day-of-pentecost-ear | Psalm 33:12-22 | Genesis 11:1-9 |
| ly-or-vigil-service | /or/ Canticle 2 or 13 #2 | /or/ Exodus 19:1-9a,16-20a; 20:18-20 #2 |
|  | /or/ Psalm 130 #3 | /or/ Ezekiel 37:1-14 #3 |
|  | /or/ Canticle 9 #4 | /or/ Joel 2:28-32 #4 |
|  | /or/ Psalm 104:25-32 #5 | Acts 2:1-11 |
|  |  | /or/ Romans 8:14-17,22-27 #2 |
|  |  | John 7:37-39a |
| | | |
| day-of-pentecost-pri | Psalm 104:25-35,37 | Acts 2:1-21 |
| ncipal-service |  | /or/ Numbers 11:24-30 #2 |
|  |  | 1 Corinthians 12:3b-13 |
|  |  | /or/ Acts 2:1-21 #2 |
|  |  | John 20:19-23 |
|  |  | /or/ John 7:37-39 #2 |
| | | |
| trinity-sunday | Psalm 8 | Genesis 1:1-2:4a |
|  | /or/ Canticle 2 or 13 #2 | 2 Corinthians 13:11-13 |
|  |  | Matthew 28:16-20 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-1 | Deuteronomy 30:15-20 | 1 Corinthians 3:1-9 |
|  | /or/ Sirach 15:15-20 #2 | Matthew 5:21-37 |
|  | Psalm 119:1-8 |  |
| | | |
| proper-2 | Leviticus 19:1-2,9-18 | 1 Corinthians 3:10-11,16-23 |
|  | Psalm 119:33-40 | Matthew 5:38-48 |
| | | |
| proper-3 | Isaiah 49:8-16a | 1 Corinthians 4:1-5 |
|  | Psalm 131 | Matthew 6:24-34 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-4 | Genesis 6:9-22; 7:24; 8:14-19 | Romans 1:16-17; 3:22b-28,(29-31) |
|  | Psalm 46 | Matthew 7:21-29 |
|  | Deuteronomy 11:18-21,26-28 |  |
|  | Psalm 31:1-5,19-24 |  |
| | | |
| proper-5 | Genesis 12:1-9 | Romans 4:13-25 |
|  | Psalm 33:1-12 | Matthew 9:9-13,18-26 |
|  | Hosea 5:15-6:6 |  |
|  | Psalm 50:7-15 |  |
| | | |
| proper-6 | Genesis 18:1-15; (21:1-7) | Romans 5:1-8 |
|  | Psalm 116:1,10-17 | Matthew 9:35-10:8,(9-23) |
|  | Exodus 19:2-8a |  |
|  | Psalm 100 |  |
| | | |
| proper-7 | Genesis 21:8-21 | Romans 6:1b-11 |
|  | Psalm 86:1-10,16-17 | Matthew 10:24-39 |
|  | Jeremiah 20:7-13 |  |
|  | Psalm 69:8-11,(12-17),18-20 |  |
| | | |
| proper-8 | Genesis 22:1-14 | Romans 6:12-23 |
|  | Psalm 13 | Matthew 10:40-42 |
|  | Jeremiah 28:5-9 |  |
|  | Psalm 89:1-4,15-18 |  |
| | | |
| proper-9 | Genesis 24:34-38,42-49,58-67 | Romans 7:15-25a |
|  | Psalm 45:11-18 | Matthew 11:16-19,25-30 |
|  | /or/ Song of Solomon 2:8-13 #2 |  |
|  | Zechariah 9:9-12 |  |
|  | Psalm 145:8-15 |  |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-10 | Genesis 25:19-34 | Romans 8:1-11 |
|  | Psalm 119:105-112 | Matthew 13:1-9,18-23 |
|  | Isaiah 55:10-13 |  |
|  | Psalm 65:(1-8),9-14 |  |
| | | |
| proper-11 | Genesis 28:10-19a | Romans 8:12-25 |
|  | Psalm 139:1-11,22-23 | Matthew 13:24-30,36-43 |
|  | /or/ Wisdom of Solomon 12:13,16-19 #2 |  |
|  | Isaiah 44:6-8 |  |
|  | Psalm 86:11-17 |  |
| | | |
| proper-12 | Genesis 29:15-28 | Romans 8:26-39 |
|  | Psalm 105:1-11,45b | Matthew 13:31-33,44-52 |
|  | /or/ Psalm 128 #2 |  |
|  | 1 Kings 3:5-12 |  |
|  | Psalm 119:129-136 |  |
| | | |
| proper-13 | Genesis 32:22-31 | Romans 9:1-5 |
|  | Psalm 17:1-7,16 | Matthew 14:13-21 |
|  | Isaiah 55:1-5 |  |
|  | Psalm 145:8-9,15-22 |  |
| | | |
| proper-14 | Genesis 37:1-4,12-28 | Romans 10:5-15 |
|  | Psalm 105:1-6,16-22,45b | Matthew 14:22-33 |
|  | 1 Kings 19:9-18 |  |
|  | Psalm 85:8-13 |  |
| | | |
| proper-15 | Genesis 45:1-15 | Romans 11:1-2a,29-32 |
|  | Psalm 133 | Matthew 15:10-20,(21-28) |
|  | Isaiah 56:1,6-8 |  |
|  | Psalm 67 |  |
| | | |
| proper-16 | Exodus 1:8-2:10 | Romans 12:1-8 |
|  | Psalm 124 | Matthew 16:13-20 |
|  | Isaiah 51:1-6 |  |
|  | Psalm 138 |  |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-17 | Exodus 3:1-15 | Romans 12:9-21 |
|  | Psalm 105:1-6,23-26,45c | Matthew 16:21-28 |
|  | Jeremiah 15:15-21 |  |
|  | Psalm 26:1-8 |  |
| | | |
| proper-18 | Exodus 12:1-14 | Romans 13:8-14 |
|  | Psalm 149 | Matthew 18:15-20 |
|  | Ezekiel 33:7-11 |  |
|  | Psalm 119:33-40 |  |
| | | |
| proper-19 | Exodus 14:19-31 | Romans 14:1-12 |
|  | Psalm 114 | Matthew 18:21-35 |
|  | /or/ Exodus 15:1b-11,20-21 #2 |  |
|  | Genesis 50:15-21 |  |
|  | Psalm 103:(1-7),8-13 |  |
| | | |
| proper-20 | Exodus 16:2-15 | Philippians 1:21-30 |
|  | Psalm 105:1-6,37-45 | Matthew 20:1-16 |
|  | Jonah 3:10-4:11 |  |
|  | Psalm 145:1-8 |  |
| | | |
| proper-21 | Exodus 17:1-7 | Philippians 2:1-13 |
|  | Psalm 78:1-4,12-16 | Matthew 21:23-32 |
|  | Ezekiel 18:1-4,25-32 |  |
|  | Psalm 25:1-8 |  |
| | | |
| proper-22 | Exodus 20:1-4,7-9,12-20 | Philippians 3:4b-14 |
|  | Psalm 19 | Matthew 21:33-46 |
|  | Isaiah 5:1-7 |  |
|  | Psalm 80:7-14 |  |
| | | |
| proper-23 | Exodus 32:1-14 | Philippians 4:1-9 |
|  | Psalm 106:1-6,19-23 | Matthew 22:1-14 |
|  | Isaiah 25:1-9 |  |
|  | Psalm 23 |  |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-24 | Exodus 33:12-23 | 1 Thessalonians 1:1-10 |
|  | Psalm 99 | Matthew 22:15-22 |
|  | Isaiah 45:1-7 |  |
|  | Psalm 96:1-9,(10-13) |  |
| | | |
| proper-25 | Deuteronomy 34:1-12 | 1 Thessalonians 2:1-8 |
|  | Psalm 90:1-6,13-17 | Matthew 22:34-46 |
|  | Leviticus 19:1-2,15-18 |  |
|  | Psalm 1 |  |
| | | |
| proper-26 | Joshua 3:7-17 | 1 Thessalonians 2:9-13 |
|  | Psalm 107:1-7,33-37 | Matthew 23:1-12 |
|  | Micah 3:5-12 |  |
|  | Psalm 43 |  |
| | | |
| proper-27 | Joshua 24:1-3a,14-25 | 1 Thessalonians 4:13-18 |
|  | Psalm 78:1-7 | Matthew 25:1-13 |
|  | Wisdom of Solomon 6:12-16 |  |
|  | /or/ Amos 5:18-24 #2 |  |
|  | Wisdom of Solomon 6:17-20 |  |
|  | /or/ Psalm 70 #2 |  |
| | | |
| proper-28 | Judges 4:1-7 | 1 Thessalonians 5:1-11 |
|  | Psalm 123 | Matthew 25:14-30 |
|  | Zephaniah 1:7,12-18 |  |
|  | Psalm 90:1-8,(9-11),12 |  |
| | | |
| proper-29-christ-the | Ezekiel 34:11-16,20-24 | Ephesians 1:15-23 |
| -king | Psalm 100 | Matthew 25:31-46 |
|  | Ezekiel 34:11-16,20-24 |  |
|  | Psalm 95:1-7a |  |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-andrew | Psalm 19 | Deuteronomy 30:11-14 |
|  | /or/ Psalm 19:1-6 #2 | Romans 10:8b-18 |
|  |  | Matthew 4:18-22 |
| | | |
| st-thomas | Psalm 126 | Habakkuk 2:1-4 |
|  |  | Hebrews 10:35-11:1 |
|  |  | John 20:24-29 |
| | | |
| st-stephen | Psalm 31 | Jeremiah 26:1-9,12-15 |
|  | /or/ Psalm 31:1-5 #2 | Acts 6:8-7:2a,51c-60 |
|  |  | Matthew 23:34-39 |
| | | |
| st-john | Psalm 92 | Exodus 33:18-23 |
|  | /or/ Psalm 92:1-4,11-14 #2 | 1 John 1:1-9 |
|  |  | John 21:19b-24 |
| | | |
| holy-innocents | Psalm 124 | Jeremiah 31:15-17 |
|  |  | Revelation 21:1-7 |
|  |  | Matthew 2:13-18 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| confession-of-st-pet | Psalm 23 | Acts 4:8-13 |
| er |  | 1 Peter 5:1-4 |
|  |  | Matthew 16:13-19 |
| | | |
| conversion-of-st-pau | Psalm 67 | Acts 26:9-21 |
| l |  | Galatians 1:11-24 |
|  |  | Matthew 10:16-22 |
| | | |
| the-presentation | Psalm 84 | Malachi 3:1-4 |
|  | /or/ Psalm 24:7-10 #2 | Hebrews 2:14-18 |
|  |  | Luke 2:22-40 |
| | | |
| st-matthias | Psalm 15 | Acts 1:15-26 |
|  |  | Philippians 3:13b-21 |
|  |  | John 15:1,6-16 |
| | | |
| st-joseph | Psalm 89:1-29 | 2 Samuel 7:4,8-16 |
|  | /or/ Psalm 89:1-4,26-29 #2 | Romans 4:13-18 |
|  |  | Luke 2:41-52 |
| | | |
| the-annunciation | Psalm 45 | Isaiah 7:10-14 |
|  | /or/ Psalm 40:5-10 #2 | Hebrews 10:4-10 |
|  | /or/ Canticle 3 or 15 #3 | Luke 1:26-38 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-mark | Psalm 2 | Isaiah 52:7-10 |
|  | /or/ Psalm 2:7-10 #2 | Ephesians 4:7-8,11-16 |
|  |  | Mark 1:1-15 |
|  |  | /or/ Mark 16:15-20 #2 |
| | | |
| st-philip-&-st-james | Psalm 119:33-40 | Isaiah 30:18-21 |
|  |  | 2 Corinthians 4:1-6 |
|  |  | John 14:6-14 |
| | | |
| the-visitation | Psalm 113 | 1 Samuel 2:1-10 |
|  |  | Romans 12:9-16b |
|  |  | Luke 1:39-57 |
| | | |
| st-barnabas | Psalm 112 | Isaiah 42:5-12 |
|  |  | Acts 11:19-30; 13:1-3 |
|  |  | Matthew 10:7-16 |
| | | |
| nativity-of-st-john- | Psalm 85 | Isaiah 40:1-11 |
| the-baptist | /or/ Psalm 85:7-13 #2 | Acts 13:14b-26 |
|  |  | Luke 1:57-80 |
| | | |
| st-peter-&-st-paul | Psalm 87 | Ezekiel 34:11-16 |
|  |  | 2 Timothy 4:1-8 |
|  |  | John 21:15-19 |
| | | |
| independence-day | Psalm 145 | Deuteronomy 10:17-21 |
|  | /or/ Psalm 145:1-9 #2 | Hebrews 11:8-16 |
|  |  | Matthew 5:43-48 |
| | | |
| st-mary-magdalene | Psalm 42:1-7 | Judith 9:1,11-14 |
|  |  | 2 Corinthians 5:14-18 |
|  |  | John 20:11-18 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-james | Psalm 7:1-10 | Jeremiah 45:1-5 |
|  |  | Acts 11:27-12:3 |
|  |  | Matthew 20:20-28 |
| | | |
| the-transfiguration | Psalm 99 | Exodus 34:29-35 |
|  | /or/ Psalm 99:5-9 #2 | 2 Peter 1:13-21 |
|  |  | Luke 9:28-36 |
| | | |
| st-mary-the-virgin | Psalm 34 | Isaiah 61:10-11 |
|  | /or/ Psalms 34:1-9 #2 | Galatians 4:4-7 |
|  |  | Luke 1:46-55 |
| | | |
| st-bartholomew | Psalm 91 | Deuteronomy 18:15-18 |
|  | /or/ Psalm 91:1-4 #2 | 1 Corinthians 4:9-15 |
|  |  | Luke 22:24-30 |
| | | |
| holy-cross-day | Psalm 98 | Isaiah 45:21-25 |
|  | /or/ Psalm 98:1-4 #2 | Philippians 2:5-11 |
|  |  | /or/ Galatians 6:14-18 #2 |
|  |  | John 12:31-36a |
| | | |
| st-matthew | Psalm 119:33-40 | Proverbs 3:1-6 |
|  |  | 2 Timothy 3:14-17 |
|  |  | Matthew 9:9-13 |
| | | |
| st-michael-&-all-ang | Psalm 103 | Genesis 28:10-17 |
| els | /or/ Psalm 103:19-22 #2 | Revelation 12:7-12 |
|  |  | John 1:47-51 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-luke | Psalm 147 | Sirach 38:1-4,6-10,12-14 |
|  | /or/ Psalm 147:1-7 #2 | 2 Timothy 4:5-13 |
|  |  | Luke 4:14-21 |
| | | |
| st-james-of-jerusale | Psalm 1 | Acts 15:12-22a |
| m |  | 1 Corinthians 15:1-11 |
|  |  | Matthew 13:54-58 |
| | | |
| st-simon-&-st-jude | Psalm 119:89-96 | Deuteronomy 32:1-4 |
|  |  | Ephesians 2:13-22 |
|  |  | John 15:17-27 |
| | | |
| all-saints-day | Psalm 34:1-10,22 | Revelation 7:9-17 |
|  |  | 1 John 3:1-3 |
|  |  | Matthew 5:1-12 |
| | | |
| thanksgiving-day | Psalm 65 | Deuteronomy 8:7-18 |
|  |  | 2 Corinthians 9:6-15 |
|  |  | Luke 17:11-19 |
| | | |
\newpage
***** Year B

|-----------|----------|--------|
|Day | Psalm | Lesson |
| first-sunday-of-adve | Psalm 80:1-7,16-18 | Isaiah 64:1-9 |
| nt |  | 1 Corinthians 1:3-9 |
|  |  | Mark 13:24-37 |
| | | |
| second-sunday-of-adv | Psalm 85:1-2,8-13 | Isaiah 40:1-11 |
| ent |  | 2 Peter 3:8-15a |
|  |  | Mark 1:1-8 |
| | | |
| third-sunday-of-adve | Psalm 126 | Isaiah 61:1-4,8-11 |
| nt | /or/ Canticle 3 or 15 #2 | 1 Thessalonians 5:16-24 |
|  |  | John 1:6-8,19-28 |
| | | |
| fourth-sunday-of-adv | Canticle 3 or 15 | 2 Samuel 7:1-11,16 |
| ent | /or/ Psalm 89:1-4,19-26 #2 | Romans 16:25-27 |
|  |  | Luke 1:26-38 |
| | | |
| christmas-day-i | Psalm 96 | Isaiah 9:2-7 |
|  |  | Titus 2:11-14 |
|  |  | Luke 2:1-14,(15-20) |
| | | |
| christmas-day-ii | Psalm 97 | Isaiah 62:6-12 |
|  |  | Titus 3:4-7 |
|  |  | Luke 2:(1-7),8-20 |
| | | |
| christmas-day-iii | Psalm 98 | Isaiah 52:7-10 |
|  |  | Hebrews 1:1-4,(5-12) |
|  |  | John 1:1-14 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| first-sunday-after-c | Psalm 147 | Isaiah 61:10-62:3 |
| hristmas | /or/ Psalm 147:13-21 #2 | Galatians 3:23-25; 4:4-7 |
|  |  | John 1:1-18 |
| | | |
| holy-name | Psalm 8 | Numbers 6:22-27 |
|  |  | Galatians 4:4-7 |
|  |  | /or/ Philippians 2:5-11 #2 |
|  |  | Luke 2:15-21 |
| | | |
| second-sunday-after- | Psalm 84 | Jeremiah 31:7-14 |
| christmas | /or/ Psalm 84:1-8 #2 | Ephesians 1:3-6,15-19a |
|  |  | Matthew 2:13-15,19-23 |
|  |  | /or/ Luke 2:41-52 #2 |
|  |  | /or/ Matthew 2:1-12 #3 |
| | | |
| the-epiphany | Psalm 72:1-7,10-14 | Isaiah 60:1-6 |
|  |  | Ephesians 3:1-12 |
|  |  | Matthew 2:1-12 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| first-sunday-after-e | Psalm 29 | Genesis 1:1-5 |
| piphany |  | Acts 19:1-7 |
|  |  | Mark 1:4-11 |
| | | |
| second-sunday-after- | Psalm 139:1-5,12-17 | 1 Samuel 3:1-10,(11-20) |
| epiphany |  | 1 Corinthians 6:12-20 |
|  |  | John 1:43-51 |
| | | |
| third-sunday-after-e | Psalm 62:6-14 | Jonah 3:1-5,10 |
| piphany |  | 1 Corinthians 7:29-31 |
|  |  | Mark 1:14-20 |
| | | |
| fourth-sunday-after- | Psalm 111 | Deuteronomy 18:15-20 |
| epiphany |  | 1 Corinthians 8:1-13 |
|  |  | Mark 1:21-28 |
| | | |
| fifth-sunday-after-e | Psalm 147:1-12,21c | Isaiah 40:21-31 |
| piphany |  | 1 Corinthians 9:16-23 |
|  |  | Mark 1:29-39 |
| | | |
| sixth-sunday-after-e | Psalm 30 | 2 Kings 5:1-14 |
| piphany |  | 1 Corinthians 9:24-27 |
|  |  | Mark 1:40-45 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| seventh-sunday-after | Psalm 41 | Isaiah 43:18-25 |
| -epiphany |  | 2 Corinthians 1:18-22 |
|  |  | Mark 2:1-12 |
| | | |
| eighth-sunday-after- | Psalm 103:1-13,22 | Hosea 2:14-20 |
| epiphany |  | 2 Corinthians 3:1-6 |
|  |  | Mark 2:13-22 |
| | | |
| last-sunday-after-th | Psalm 50:1-6 | 2 Kings 2:1-12 |
| e-epiphany |  | 2 Corinthians 4:3-6 |
|  |  | Mark 9:2-9 |
| | | |
| ash-wednesday | Psalm 103 | Joel 2:1-2,12-17 |
|  | /or/ Psalm 103:8-14 #2 | /or/ Isaiah 58:1-12 #2 |
|  |  | 2 Corinthians 5:20b-6:10 |
|  |  | Matthew 6:1-6,16-21 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| first-sunday-in-lent | Psalm 25:1-9 | Genesis 9:8-17 |
|  |  | 1 Peter 3:18-22 |
|  |  | Mark 1:9-15 |
| | | |
| second-sunday-in-len | Psalm 22:22-30 | Genesis 17:1-7,15-16 |
| t |  | Romans 4:13-25 |
|  |  | Mark 8:31-38 |
| | | |
| third-sunday-in-lent | Psalm 19 | Exodus 20:1-17 |
|  |  | 1 Corinthians 1:18-25 |
|  |  | John 2:13-22 |
| | | |
| fourth-sunday-in-len | Psalm 107:1-3,17-22 | Numbers 21:4-9 |
| t |  | Ephesians 2:1-10 |
|  |  | John 3:14-21 |
| | | |
| fifth-sunday-in-lent | Psalm 51:1-13 | Jeremiah 31:31-34 |
|  | /or/ Psalm 119:9-16 #2 | Hebrews 5:5-10 |
|  |  | John 12:20-33 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| palm-sunday-liturgy- | Psalm 31:9-16 | Isaiah 50:4-9a |
| of-the-word |  | Philippians 2:5-11 |
|  |  | Mark 14:1-15:47 |
|  |  | /or/ Mark 15:1-39,(40-47) #2 |
| | | |
| palm-sunday-liturgy- | Psalm 118:1-2,19-29 | Mark 11:1-11 |
| of-the-palms |  | /or/ John 12:12-16 #2 |
| | | |
| monday-in-holy-week | Psalm 36:5-11 | Isaiah 42:1-9 |
|  |  | Hebrews 9:11-15 |
|  |  | John 12:1-11 |
| | | |
| tuesday-in-holy-week | Psalm 71:1-14 | Isaiah 49:1-7 |
|  |  | 1 Corinthians 1:18-31 |
|  |  | John 12:20-36 |
| | | |
| wednesday-in-holy-we | Psalm 70 | Isaiah 50:4-9a |
| ek |  | Hebrews 12:1-3 |
|  |  | John 13:21-32 |
| | | |
| maundy-thursday | Psalm 116:1,10-17 | Exodus 12:1-4,(5-10),11-14 |
|  |  | 1 Corinthians 11:23-26 |
|  |  | John 13:1-17,31b-35 |
| | | |
| good-friday | Psalm 22 | Isaiah 52:13-53:12 |
|  |  | Hebrews 10:16-25 |
|  |  | /or/ Hebrews 4:14-16; 5:7-9 #2 |
|  |  | John 18:1-19:42 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| holy-saturday | Psalm 31:1-4,15-16 | Job 14:1-14 |
|  |  | /or/ Lamentations 3:1-9,19-24 #2 |
|  |  | 1 Peter 4:1-8 |
|  |  | Matthew 27:57-66 |
|  |  | /or/ John 19:38-42 #2 |
| | | |
| easter-day-the-great | Psalm 136:1-9,23-26 | Genesis 1:1-2:4a |
| -vigil | /or/ Psalm 46 #2 | /or/ Genesis 7:1-5,11-18; 8:6-18; 9:8-13 #2 |
|  | /or/ Psalm 16 #3 | /or/ Genesis 22:1-18 #3 |
|  | /or/ Canticle 8 #4 | /or/ Exodus 14:10-31; 15:20-21 #4 |
|  | /or/ Canticle 9 #5 | /or/ Isaiah 55:1-11 #5 |
|  | /or/ Psalm 19 #6 | /or/ Baruch 3:9-15,32-4:4 #6 |
|  | /or/ Psalm 42 and 43 #7 | /or/ Proverbs 8:1-8,19-21; 9:4b-6 #7 |
|  | /or/ Psalm 143 #8 | /or/ Ezekiel 36:24-28 #8 |
|  | /or/ Psalm 98 #9 | /or/ Ezekiel 37:1-14 #9 |
|  | /or/ Psalm 114 #10 | /or/ Zephaniah 3:14-20 #10 |
|  |  | Romans 6:3-11 |
|  |  | Mark 16:1-8 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| easter-day-principal | Psalm 118:1-2,14-24 | Acts 10:34-43 |
| -service |  | /or/ Isaiah 25:6-9 #2 |
|  |  | 1 Corinthians 15:1-11 |
|  |  | /or/ Acts 10:34-43 #2 |
|  |  | John 20:1-18 |
|  |  | /or/ Mark 16:1-8 #2 |
| | | |
| easter-day-evening-s | Psalm 114 | Isaiah 25:6-9 |
| ervice |  | 1 Corinthians 5:6b-8 |
|  |  | Luke 24:13-49 |
| | | |
| monday-in-easter-wee | Psalm 16:8-11 | Acts 2:14,22b-32 |
| k | /or/ Psalm 118:19-24 #2 | Matthew 28:9-15 |
| | | |
| tuesday-in-easter-we | Psalm 33:18-22 | Acts 2:36-41 |
| ek | /or/ Psalm 118:19-24 #2 | John 20:11-18 |
| | | |
| wednesday-in-easter- | Psalm 105:1-8 | Acts 3:1-10 |
| week | /or/ Psalm 118:19-24 #2 | Luke 24:13-35 |
| | | |
| thursday-in-easter-w | Psalm 8 | Acts 3:11-26 |
| eek | /or/ Psalm 114 #2 | Luke 24:36b-48 |
|  | /or/ Psalm 118:19-24 #3 |  |
| | | |
| friday-in-easter-wee | Psalm 116:1-8 | Acts 4:1-12 |
| k | /or/ Psalm 118:19-24 #2 | John 21:1-14 |
| | | |
| saturday-in-easter-w | Psalm 118:14-18 | Acts 4:13-21 |
| eek | /or/ Psalm 118:19-24 #2 | Mark 16:9-15,20 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| second-sunday-of-eas | Psalm 133 | Acts 4:32-35 |
| ter |  | 1 John 1:1-2:2 |
|  |  | John 20:19-31 |
| | | |
| third-sunday-of-east | Psalm 4 | Acts 3:12-19 |
| er |  | 1 John 3:1-7 |
|  |  | Luke 24:36b-48 |
| | | |
| fourth-sunday-of-eas | Psalm 23 | Acts 4:5-12 |
| ter |  | 1 John 3:16-24 |
|  |  | John 10:11-18 |
| | | |
| fifth-sunday-of-east | Psalm 22:24-30 | Acts 8:26-40 |
| er |  | 1 John 4:7-21 |
|  |  | John 15:1-8 |
| | | |
| sixth-sunday-of-east | Psalm 98 | Acts 10:44-48 |
| er |  | 1 John 5:1-6 |
|  |  | John 15:9-17 |
| | | |
| ascension-day | Psalm 47 | Acts 1:1-11 |
|  | /or/ Psalm 93 #2 | Ephesians 1:15-23 |
|  |  | Luke 24:44-53 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| seventh-sunday-of-ea | Psalm 1 | Acts 1:15-17,21-26 |
| ster |  | 1 John 5:9-13 |
|  |  | John 17:6-19 |
| | | |
| day-of-pentecost-ear | Psalm 33:12-22 | Genesis 11:1-9 |
| ly-or-vigil-service | /or/ Canticle 2 or 13 #2 | /or/ Exodus 19:1-9a,16-20a; 20:18-20 #2 |
|  | /or/ Psalm 130 #3 | /or/ Ezekiel 37:1-14 #3 |
|  | /or/ Canticle 9 #4 | /or/ Joel 2:28-32 #4 |
|  | /or/ Psalm 104:25-32 #5 | Acts 2:1-11 |
|  |  | /or/ Romans 8:14-17,22-27 #2 |
|  |  | John 7:37-39a |
| | | |
| day-of-pentecost-pri | Psalm 104:25-35,37 | Acts 2:1-21 |
| ncipal-service |  | /or/ Ezekiel 37:1-14 #2 |
|  |  | Romans 8:22-27 |
|  |  | /or/ Acts 2:1-21 #2 |
|  |  | John 15:26-27; 16:4b-15 |
| | | |
| trinity-sunday | Psalm 29 | Isaiah 6:1-8 |
|  | /or/ Canticle 2 or 13 #2 | Romans 8:12-17 |
|  |  | John 3:1-17 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-1 | 2 Kings 5:1-14 | 1 Corinthians 9:24-27 |
|  | Psalm 30 | Mark 1:40-45 |
| | | |
| proper-2 | Isaiah 43:18-25 | 2 Corinthians 1:18-22 |
|  | Psalm 41 | Mark 2:1-12 |
| | | |
| proper-3 | Hosea 2:14-20 | 2 Corinthians 3:1-6 |
|  | Psalm 103:1-13,22 | Mark 2:13-22 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-4 | 1 Samuel 3:1-10,(11-20) | 2 Corinthians 4:5-12 |
|  | Psalm 139:1-5,12-17 | Mark 2:23-3:6 |
|  | Deuteronomy 5:12-15 |  |
|  | Psalm 81:1-10 |  |
| | | |
| proper-5 | 1 Samuel 8:4-11,(12-15),16-20; (11:14-15) | 2 Corinthians 4:13-5:1 |
|  | Psalm 138 | Mark 3:20-35 |
|  | Genesis 3:8-15 |  |
|  | Psalm 130 |  |
| | | |
| proper-6 | 1 Samuel 15:34-16:13 | 2 Corinthians 5:6-10,(11-13),14-17 |
|  | Psalm 20 | Mark 4:26-34 |
|  | Ezekiel 17:22-24 |  |
|  | Psalm 92:1-4,11-14 |  |
| | | |
| proper-7 | 1 Samuel 17:(1a,4-11,19-23),32-49 | 2 Corinthians 6:1-13 |
|  | /or/ 1 Samuel 17:57-18:5,10-16 #2 | Mark 4:35-41 |
|  | Psalm 9:9-20 |  |
|  | /or/ Psalm 133 #2 |  |
|  | Job 38:1-11 |  |
|  | Psalm 107:1-3,23-32 |  |
| | | |
| proper-8 | 2 Samuel 1:1,17-27 | 2 Corinthians 8:7-15 |
|  | Psalm 130 | Mark 5:21-43 |
|  | Wisdom of Solomon 1:13-15; 2:23-24 |  |
|  | Lamentations 3:21-33 |  |
|  | /or/ Psalm 30 #2 |  |
| | | |
| proper-9 | 2 Samuel 5:1-5,9-10 | 2 Corinthians 12:2-10 |
|  | Psalm 48 | Mark 6:1-13 |
|  | Ezekiel 2:1-5 |  |
|  | Psalm 123 |  |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-10 | 2 Samuel 6:1-5,12b-19 | Ephesians 1:3-14 |
|  | Psalm 24 | Mark 6:14-29 |
|  | Amos 7:7-15 |  |
|  | Psalm 85:8-13 |  |
| | | |
| proper-11 | 2 Samuel 7:1-14a | Ephesians 2:11-22 |
|  | Psalm 89:20-37 | Mark 6:30-34,53-56 |
|  | Jeremiah 23:1-6 |  |
|  | Psalm 23 |  |
| | | |
| proper-12 | 2 Samuel 11:1-15 | Ephesians 3:14-21 |
|  | Psalm 14 | John 6:1-21 |
|  | 2 Kings 4:42-44 |  |
|  | Psalm 145:10-19 |  |
| | | |
| proper-13 | 2 Samuel 11:26-12:13a | Ephesians 4:1-16 |
|  | Psalm 51:1-13 | John 6:24-35 |
|  | Exodus 16:2-4,9-15 |  |
|  | Psalm 78:23-29 |  |
| | | |
| proper-14 | 2 Samuel 18:5-9,15,31-33 | Ephesians 4:25-5:2 |
|  | Psalm 130 | John 6:35,41-51 |
|  | 1 Kings 19:4-8 |  |
|  | Psalm 34:1-8 |  |
| | | |
| proper-15 | 1 Kings 2:10-12; 3:3-14 | Ephesians 5:15-20 |
|  | Psalm 111 | John 6:51-58 |
|  | Proverbs 9:1-6 |  |
|  | Psalm 34:9-14 |  |
| | | |
| proper-16 | 1 Kings 8:(1,6,10-11),22-30,41-43 | Ephesians 6:10-20 |
|  | Psalm 84 | John 6:56-69 |
|  | Joshua 24:1-2a,14-18 |  |
|  | Psalm 34:15-22 |  |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-17 | Song of Solomon 2:8-13 | James 1:17-27 |
|  | Psalm 45:1-2,7-10 | Mark 7:1-8,14-15,21-23 |
|  | Deuteronomy 4:1-2,6-9 |  |
|  | Psalm 15 |  |
| | | |
| proper-18 | Proverbs 22:1-2,8-9,22-23 | James 2:1-10,(11-13),14-17 |
|  | Psalm 125 | Mark 7:24-37 |
|  | Isaiah 35:4-7a |  |
|  | Psalm 146 |  |
| | | |
| proper-19 | Proverbs 1:20-33 | James 3:1-12 |
|  | Psalm 19 | Mark 8:27-38 |
|  | /or/ Wisdom of Solomon 7:26-8:1 #2 |  |
|  | Isaiah 50:4-9a |  |
|  | Psalm 116:1-8 |  |
| | | |
| proper-20 | Proverbs 31:10-31 | James 3:13-4:3,7-8a |
|  | Psalm 1 | Mark 9:30-37 |
|  | Wisdom of Solomon 1:16-2:1,12-22 |  |
|  | /or/ Jeremiah 11:18-20 #2 |  |
|  | Psalm 54 |  |
| | | |
| proper-21 | Esther 7:1-6,9-10; 9:20-22 | James 5:13-20 |
|  | Psalm 124 | Mark 9:38-50 |
|  | Numbers 11:4-6,10-16,24-29 |  |
|  | Psalm 19:7-14 |  |
| | | |
| proper-22 | Job 1:1; 2:1-10 | Hebrews 1:1-4; 2:5-12 |
|  | Psalm 26 | Mark 10:2-16 |
|  | Genesis 2:18-24 |  |
|  | Psalm 8 |  |
| | | |
| proper-23 | Job 23:1-9,16-17 | Hebrews 4:12-16 |
|  | Psalm 22:1-15 | Mark 10:17-31 |
|  | Amos 5:6-7,10-15 |  |
|  | Psalm 90:12-17 |  |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-24 | Job 38:1-7,(34-41) | Hebrews 5:1-10 |
|  | Psalm 104:1-9,27,37b | Mark 10:35-45 |
|  | Isaiah 53:4-12 |  |
|  | Psalm 91:9-16 |  |
| | | |
| proper-25 | Job 42:1-6,10-17 | Hebrews 7:23-28 |
|  | Psalm 34:1-8,(19-22) | Mark 10:46-52 |
|  | Jeremiah 31:7-9 |  |
|  | Psalm 126 |  |
| | | |
| proper-26 | Ruth 1:1-18 | Hebrews 9:11-14 |
|  | Psalm 146 | Mark 12:28-34 |
|  | Deuteronomy 6:1-9 |  |
|  | Psalm 119:1-8 |  |
| | | |
| proper-27 | Ruth 3:1-5; 4:13-17 | Hebrews 9:24-28 |
|  | Psalm 127 | Mark 12:38-44 |
|  | 1 Kings 17:8-16 |  |
|  | Psalm 146 |  |
| | | |
| proper-28 | 1 Samuel 1:4-20 | Hebrews 10:11-14,(15-18),19-25 |
|  | 1 Samuel 2:1-10 | Mark 13:1-8 |
|  | Daniel 12:1-3 |  |
|  | Psalm 16 |  |
| | | |
| proper-29-christ-the | 2 Samuel 23:1-7 | Revelation 1:4b-8 |
| -king | Psalm 132:1-13,(14-19) | John 18:33-37 |
|  | Daniel 7:9-10,13-14 |  |
|  | Psalm 93 |  |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-andrew | Psalm 19 | Deuteronomy 30:11-14 |
|  | /or/ Psalm 19:1-6 #2 | Romans 10:8b-18 |
|  |  | Matthew 4:18-22 |
| | | |
| st-thomas | Psalm 126 | Habakkuk 2:1-4 |
|  |  | Hebrews 10:35-11:1 |
|  |  | John 20:24-29 |
| | | |
| st-stephen | Psalm 31 | Jeremiah 26:1-9,12-15 |
|  | /or/ Psalm 31:1-5 #2 | Acts 6:8-7:2a,51c-60 |
|  |  | Matthew 23:34-39 |
| | | |
| st-john | Psalm 92 | Exodus 33:18-23 |
|  | /or/ Psalm 92:1-4,11-14 #2 | 1 John 1:1-9 |
|  |  | John 21:19b-24 |
| | | |
| holy-innocents | Psalm 124 | Jeremiah 31:15-17 |
|  |  | Revelation 21:1-7 |
|  |  | Matthew 2:13-18 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| confession-of-st-pet | Psalm 23 | Acts 4:8-13 |
| er |  | 1 Peter 5:1-4 |
|  |  | Matthew 16:13-19 |
| | | |
| conversion-of-st-pau | Psalm 67 | Acts 26:9-21 |
| l |  | Galatians 1:11-24 |
|  |  | Matthew 10:16-22 |
| | | |
| the-presentation | Psalm 84 | Malachi 3:1-4 |
|  | /or/ Psalm 24:7-10 #2 | Hebrews 2:14-18 |
|  |  | Luke 2:22-40 |
| | | |
| st-matthias | Psalm 15 | Acts 1:15-26 |
|  |  | Philippians 3:13-21 |
|  |  | John 15:1,6-16 |
| | | |
| st-joseph | Psalm 89:1-29 | 2 Samuel 7:4,8-16 |
|  | /or/ Psalm 89:1-4,26-29 #2 | Romans 4:13-18 |
|  |  | Luke 2:41-52 |
| | | |
| the-annunciation | Psalm 45 | Isaiah 7:10-14 |
|  | /or/ Psalm 40:5-10 #2 | Hebrews 10:4-10 |
|  | /or/ Canticle 3 or 15 #3 | Luke 1:26-38 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-mark | Psalm 2 | Isaiah 52:7-10 |
|  | /or/ Psalm 2:7-10 #2 | Ephesians 4:7-8,11-16 |
|  |  | Mark 1:1-15 |
|  |  | /or/ Mark 16:15-20 #2 |
| | | |
| st-philip-&-st-james | Psalm 119:33-40 | Isaiah 30:18-21 |
|  |  | 2 Corinthians 4:1-6 |
|  |  | John 14:6-14 |
| | | |
| the-visitation | Psalm 113 | 1 Samuel 2:1-10 |
|  |  | Romans 12:9-16b |
|  |  | Luke 1:39-57 |
| | | |
| st-barnabas | Psalm 112 | Isaiah 42:5-12 |
|  |  | Acts 11:19-30; 13:1-3 |
|  |  | Matthew 10:7-16 |
| | | |
| nativity-of-st-john- | Psalm 85 | Isaiah 40:1-11 |
| the-baptist | /or/ Psalm 85:7-13 #2 | Acts 13:14b-26 |
|  |  | Luke 1:57-80 |
| | | |
| st-peter-&-st-paul | Psalm 87 | Ezekiel 34:11-16 |
|  |  | 2 Timothy 4:1-8 |
|  |  | John 21:15-19 |
| | | |
| independence-day | Psalm 145 | Deuteronomy 10:17-21 |
|  | /or/ Psalm 145:1-9 #2 | Hebrews 11:8-16 |
|  |  | Matthew 5:43-48 |
| | | |
| st-mary-magdalene | Psalm 42:1-7 | Judith 9:1,11-14 |
|  |  | 2 Corinthians 5:14-18 |
|  |  | John 20:11-18 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-james | Psalm 7:1-10 | Jeremiah 45:1-5 |
|  |  | Acts 11:27-12:3 |
|  |  | Matthew 20:20-28 |
| | | |
| the-transfiguration | Psalm 99 | Exodus 34:29-35 |
|  | /or/ Psalm 99:5-9 #2 | 2 Peter 1:13-21 |
|  |  | Luke 9:28-36 |
| | | |
| st-mary-the-virgin | Psalm 34 | Isaiah 61:10-11 |
|  | /or/ Psalms 34:1-9 #2 | Galatians 4:4-7 |
|  |  | Luke 1:46-55 |
| | | |
| st-bartholomew | Psalm 91 | Deuteronomy 18:15-18 |
|  | /or/ Psalm 91:1-4 #2 | 1 Corinthians 4:9-15 |
|  |  | Luke 22:24-30 |
| | | |
| holy-cross-day | Psalm 98 | Isaiah 45:21-25 |
|  | /or/ Psalm 98:1-4 #2 | Philippians 2:5-11 |
|  |  | /or/ Galatians 6:14-18 #2 |
|  |  | John 12:31-36a |
| | | |
| st-matthew | Psalm 119:33-40 | Proverbs 3:1-6 |
|  |  | 2 Timothy 3:14-17 |
|  |  | Matthew 9:9-13 |
| | | |
| st-michael-&-all-ang | Psalm 103 | Genesis 28:10-17 |
| els | /or/ Psalm 103:19-22 #2 | Revelation 12:7-12 |
|  |  | John 1:47-51 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-luke | Psalm 147 | Sirach 38:1-4,6-10,12-14 |
|  | /or/ Psalm 147:1-7 #2 | 2 Timothy 4:5-13 |
|  |  | Luke 4:14-21 |
| | | |
| st-james-of-jerusale | Psalm 1 | Acts 15:12-22a |
| m |  | 1 Corinthians 15:1-11 |
|  |  | Matthew 13:54-58 |
| | | |
| st-simon-&-st-jude | Psalm 119:89-96 | Deuteronomy 32:1-4 |
|  |  | Ephesians 2:13-22 |
|  |  | John 15:17-27 |
| | | |
| all-saints-day | Psalm 24 | Wisdom of Solomon 3:1-9 |
|  |  | /or/ Isaiah 25:6-9 #2 |
|  |  | Revelation 21:1-6a |
|  |  | John 11:32-44 |
| | | |
| thanksgiving-day | Psalm 126 | Joel 2:21-27 |
|  |  | 1 Timothy 2:1-7 |
|  |  | Matthew 6:25-33 |
| | | |
\newpage
***** Year C

|-----------|----------|--------|
|Day | Psalm | Lesson |
| first-sunday-of-adve | Psalm 25:1-9 | Jeremiah 33:14-16 |
| nt |  | 1 Thessalonians 3:9-13 |
|  |  | Luke 21:25-36 |
| | | |
| second-sunday-of-adv | Canticle 4 or 16 | Baruch 5:1-9 |
| ent |  | /or/ Malachi 3:1-4 #2 |
|  |  | Philippians 1:3-11 |
|  |  | Luke 3:1-6 |
| | | |
| third-sunday-of-adve | Canticle 9 | Zephaniah 3:14-20 |
| nt |  | Philippians 4:4-7 |
|  |  | Luke 3:7-18 |
| | | |
| fourth-sunday-of-adv | Canticle 3 or 15 | Micah 5:2-5a |
| ent | /or/ Psalm 80:1-7 #2 | Hebrews 10:5-10 |
|  |  | Luke 1:39-45,(46-55) |
| | | |
| christmas-day-i | Psalm 96 | Isaiah 9:2-7 |
|  |  | Titus 2:11-14 |
|  |  | Luke 2:1-14,(15-20) |
| | | |
| christmas-day-ii | Psalm 97 | Isaiah 62:6-12 |
|  |  | Titus 3:4-7 |
|  |  | Luke 2:(1-7),8-20 |
| | | |
| christmas-day-iii | Psalm 98 | Isaiah 52:7-10 |
|  |  | Hebrews 1:1-4,(5-12) |
|  |  | John 1:1-14 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| first-sunday-after-c | Psalm 147 | Isaiah 61:10-62:3 |
| hristmas | /or/ Psalm 147:13-21 #2 | Galatians 3:23-25; 4:4-7 |
|  |  | John 1:1-18 |
| | | |
| holy-name | Psalm 8 | Numbers 6:22-27 |
|  |  | Galatians 4:4-7 |
|  |  | /or/ Philippians 2:5-11 #2 |
|  |  | Luke 2:15-21 |
| | | |
| second-sunday-after- | Psalm 84 | Jeremiah 31:7-14 |
| christmas | /or/ Psalm 84:1-8 #2 | Ephesians 1:3-6,15-19a |
|  |  | Matthew 2:13-15,19-23 |
|  |  | /or/ Luke 2:41-52 #2 |
|  |  | /or/ Matthew 2:1-12 #3 |
| | | |
| the-epiphany | Psalm 72:1-7,10-14 | Isaiah 60:1-6 |
|  |  | Ephesians 3:1-12 |
|  |  | Matthew 2:1-12 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| first-sunday-after-e | Psalm 29 | Isaiah 43:1-7 |
| piphany |  | Acts 8:14-17 |
|  |  | Luke 3:15-17,21-22 |
| | | |
| second-sunday-after- | Psalm 36:5-10 | Isaiah 62:1-5 |
| epiphany |  | 1 Corinthians 12:1-11 |
|  |  | John 2:1-11 |
| | | |
| third-sunday-after-e | Psalm 19 | Nehemiah 8:1-3,5-6,8-10 |
| piphany |  | 1 Corinthians 12:12-31a |
|  |  | Luke 4:14-21 |
| | | |
| fourth-sunday-after- | Psalm 71:1-6 | Jeremiah 1:4-10 |
| epiphany |  | 1 Corinthians 13:1-13 |
|  |  | Luke 4:21-30 |
| | | |
| fifth-sunday-after-e | Psalm 138 | Isaiah 6:1-8,(9-13) |
| piphany |  | 1 Corinthians 15:1-11 |
|  |  | Luke 5:1-11 |
| | | |
| sixth-sunday-after-e | Psalm 1 | Jeremiah 17:5-10 |
| piphany |  | 1 Corinthians 15:12-20 |
|  |  | Luke 6:17-26 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| seventh-sunday-after | Psalm 37:1-12,41-42 | Genesis 45:3-11,15 |
| -epiphany |  | 1 Corinthians 15:35-38,42-50 |
|  |  | Luke 6:27-38 |
| | | |
| eighth-sunday-after- | Psalm 92:1-4,11-14 | Sirach 27:4-7 |
| epiphany |  | /or/ Isaiah 55:10-13 #2 |
|  |  | 1 Corinthians 15:51-58 |
|  |  | Luke 6:39-49 |
| | | |
| last-sunday-after-th | Psalm 99 | Exodus 34:29-35 |
| e-epiphany |  | 2 Corinthians 3:12-4:2 |
|  |  | Luke 9:28-36,(37-43a) |
| | | |
| ash-wednesday | Psalm 103 | Joel 2:1-2,12-17 |
|  | /or/ Psalm 103:8-14 #2 | /or/ Isaiah 58:1-12 #2 |
|  |  | 2 Corinthians 5:20b-6:10 |
|  |  | Matthew 6:1-6,16-21 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| first-sunday-in-lent | Psalm 91:1-2,9-16 | Deuteronomy 26:1-11 |
|  |  | Romans 10:8b-13 |
|  |  | Luke 4:1-13 |
| | | |
| second-sunday-in-len | Psalm 27 | Genesis 15:1-12,17-18 |
| t |  | Philippians 3:17-4:1 |
|  |  | Luke 13:31-35 |
| | | |
| third-sunday-in-lent | Psalm 63:1-8 | Exodus 3:1-15 |
|  |  | 1 Corinthians 10:1-13 |
|  |  | Luke 13:1-9 |
| | | |
| fourth-sunday-in-len | Psalm 32 | Joshua 5:9-12 |
| t |  | 2 Corinthians 5:16-21 |
|  |  | Luke 15:1-3,11b-32 |
| | | |
| fifth-sunday-in-lent | Psalm 126 | Isaiah 43:16-21 |
|  |  | Philippians 3:4b-14 |
|  |  | John 12:1-8 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| palm-sunday-liturgy- | Psalm 31:9-16 | Isaiah 50:4-9a |
| of-the-word |  | Philippians 2:5-11 |
|  |  | Luke 22:14-23:56 |
|  |  | /or/ Luke 23:1-49 #2 |
| | | |
| palm-sunday-liturgy- | Psalm 118:1-2,19-29 | Luke 19:28-40 |
| | | |
| monday-in-holy-week | Psalm 36:5-11 | Isaiah 42:1-9 |
|  |  | Hebrews 9:11-15 |
|  |  | John 12:1-11 |
| | | |
| tuesday-in-holy-week | Psalm 71:1-14 | Isaiah 49:1-7 |
|  |  | 1 Corinthians 1:18-31 |
|  |  | John 12:20-36 |
| | | |
| wednesday-in-holy-we | Psalm 70 | Isaiah 50:4-9a |
| ek |  | Hebrews 12:1-3 |
|  |  | John 13:21-32 |
| | | |
| maundy-thursday | Psalm 116:1,10-17 | Exodus 12:1-4,(5-10),11-14 |
|  |  | 1 Corinthians 11:23-26 |
|  |  | John 13:1-17,31b-35 |
| | | |
| good-friday | Psalm 22 | Isaiah 52:13-53:12 |
|  |  | Hebrews 10:16-25 |
|  |  | /or/ Hebrews 4:14-16; 5:7-9 #2 |
|  |  | John 18:1-19:42 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| holy-saturday | Psalm 31:1-4,15-16 | Job 14:1-14 |
|  |  | /or/ Lamentations 3:1-9,19-24 #2 |
|  |  | 1 Peter 4:1-8 |
|  |  | Matthew 27:57-66 |
|  |  | /or/ John 19:38-42 #2 |
| | | |
| easter-day-the-great | Psalm 136:1-9,23-26 | Genesis 1:1-2:4a |
| -vigil | /or/ Psalm 46 #2 | /or/ Genesis 7:1-5,11-18; 8:6-18; 9:8-13 #2 |
|  | /or/ Psalm 16 #3 | /or/ Genesis 22:1-18 #3 |
|  | /or/ Canticle 8 #4 | /or/ Exodus 14:10-31; 15:20-21 #4 |
|  | /or/ Canticle 9 #5 | /or/ Isaiah 55:1-11 #5 |
|  | /or/ Psalm 19 #6 | /or/ Baruch 3:9-15,32-4:4 #6 |
|  | /or/ Psalm 42 and 43 #7 | /or/ Proverbs 8:1-8,19-21; 9:4b-6 #7 |
|  | /or/ Psalm 143 #8 | /or/ Ezekiel 36:24-28 #8 |
|  | /or/ Psalm 98 #9 | /or/ Ezekiel 37:1-14 #9 |
|  | /or/ Psalm 114 #10 | /or/ Zephaniah 3:14-20 #10 |
|  |  | Romans 6:3-11 |
|  |  | Luke 24:1-12 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| easter-day-principal | Psalm 118:1-2,14-24 | Acts 10:34-43 |
| -service |  | /or/ Isaiah 65:17-25 #2 |
|  |  | 1 Corinthians 15:19-26 |
|  |  | /or/ Acts 10:34-43 #2 |
|  |  | John 20:1-18 |
|  |  | /or/ Luke 24:1-12 #2 |
| | | |
| easter-day-evening-s | Psalm 114 | Isaiah 25:6-9 |
| ervice |  | 1 Corinthians 5:6b-8 |
|  |  | Luke 24:13-49 |
| | | |
| monday-in-easter-wee | Psalm 16:8-11 | Acts 2:14,22b-32 |
| k | /or/ Psalm 118:19-24 #2 | Matthew 28:9-15 |
| | | |
| tuesday-in-easter-we | Psalm 33:18-22 | Acts 2:36-41 |
| ek | /or/ Psalm 118:19-24 #2 | John 20:11-18 |
| | | |
| wednesday-in-easter- | Psalm 105:1-8 | Acts 3:1-10 |
| week | /or/ Psalm 118:19-24 #2 | Luke 24:13-35 |
| | | |
| thursday-in-easter-w | Psalm 8 | Acts 3:11-26 |
| eek | /or/ Psalm 114 #2 | Luke 24:36b-48 |
|  | /or/ Psalm 118:19-24 #3 |  |
| | | |
| friday-in-easter-wee | Psalm 116:1-8 | Acts 4:1-12 |
| k | /or/ Psalm 118:19-24 #2 | John 21:1-14 |
| | | |
| saturday-in-easter-w | Psalm 118:14-18 | Acts 4:13-21 |
| eek | /or/ Psalm 118:19-24 #2 | Mark 16:9-15,20 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| second-sunday-of-eas | Psalm 118:14-29 | Acts 5:27-32 |
| ter | /or/ Psalm 150 #2 | Revelation 1:4-8 |
|  |  | John 20:19-31 |
| | | |
| third-sunday-of-east | Psalm 30 | Acts 9:1-6,(7-20) |
| er |  | Revelation 5:11-14 |
|  |  | John 21:1-19 |
| | | |
| fourth-sunday-of-eas | Psalm 23 | Acts 9:36-43 |
| ter |  | Revelation 7:9-17 |
|  |  | John 10:22-30 |
| | | |
| fifth-sunday-of-east | Psalm 148 | Acts 11:1-18 |
| er |  | Revelation 21:1-6 |
|  |  | John 13:31-35 |
| | | |
| sixth-sunday-of-east | Psalm 67 | Acts 16:9-15 |
| er |  | Revelation 21:10,22-22:5 |
|  |  | John 14:23-29 |
|  |  | /or/ John 5:1-9 #2 |
| | | |
| ascension-day | Psalm 47 | Acts 1:1-11 |
|  | /or/ Psalm 93 #2 | Ephesians 1:15-23 |
|  |  | Luke 24:44-53 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| seventh-sunday-of-ea | Psalm 97 | Acts 16:16-34 |
| ster |  | Revelation 22:12-14,16-17,20-21 |
|  |  | John 17:20-26 |
| | | |
| day-of-pentecost-ear | Psalm 33:12-22 | Genesis 11:1-9 |
| ly-or-vigil-service | /or/ Canticle 2 or 13 #2 | /or/ Exodus 19:1-9a,16-20a; 20:18-20 #2 |
|  | /or/ Psalm 130 #3 | /or/ Ezekiel 37:1-14 #3 |
|  | /or/ Canticle 9 #4 | /or/ Joel 2:28-32 #4 |
|  | /or/ Psalm 104:25-32 #5 | Acts 2:1-11 |
|  |  | /or/ Romans 8:14-17,22-27 #2 |
|  |  | John 7:37-39a |
| | | |
| day-of-pentecost-pri | Psalm 104:24-35,37 | Acts 2:1-21 |
| ncipal-service |  | /or/ Genesis 11:1-9 #2 |
|  |  | Romans 8:14-17 |
|  |  | /or/ Acts 2:1-21 #2 |
|  |  | John 14:8-17,(25-27) |
| | | |
| trinity-sunday | Psalm 8 | Proverbs 8:1-4,22-31 |
|  | /or/ Canticle 2 or 13 #2 | Romans 5:1-5 |
|  |  | John 16:12-15 |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-1 | Jeremiah 17:5-10 | 1 Corinthians 15:12-20 |
|  | Psalm 1 | Luke 6:17-26 |
| | | |
| proper-2 | Genesis 45:3-11,15 | 1 Corinthians 15:35-38,42-50 |
|  | Psalm 37:1-12,41-42 | Luke 6:27-38 |
| | | |
| proper-3 | Sirach 27:4-7 | 1 Corinthians 15:51-58 |
|  | /or/ Isaiah 55:10-13 #2 | Luke 6:39-49 |
|  | Psalm 92:1-4,11-14 |  |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-4 | 1 Kings 18:20-21,(22-29),30-39 | Galatians 1:1-12 |
|  | Psalm 96 | Luke 7:1-10 |
|  | 1 Kings 8:22-23,41-43 |  |
|  | Psalm 96:1-9 |  |
| | | |
| proper-5 | 1 Kings 17:8-16,(17-24) | Galatians 1:11-24 |
|  | Psalm 146 | Luke 7:11-17 |
|  | 1 Kings 17:17-24 |  |
|  | Psalm 30 |  |
| | | |
| proper-6 | 1 Kings 21:1-10,(11-14),15-21a | Galatians 2:15-21 |
|  | Psalm 5:1-8 | Luke 7:36-8:3 |
|  | 2 Samuel 11:26-12:10,13-15 |  |
|  | Psalm 32 |  |
| | | |
| proper-7 | 1 Kings 19:1-4,(5-7),8-15a | Galatians 3:23-29 |
|  | Psalm 42 and 43 | Luke 8:26-39 |
|  | /or/ Psalm 43 #2 |  |
|  | Isaiah 65:1-9 |  |
|  | Psalm 22:18-27 |  |
| | | |
| proper-8 | 2 Kings 2:1-2,6-14 | Galatians 5:1,13-25 |
|  | Psalm 77:1-2,11-20 | Luke 9:51-62 |
|  | 1 Kings 19:15-16,19-21 |  |
|  | Psalm 16 |  |
| | | |
| proper-9 | 2 Kings 5:1-14 | Galatians 6:(1-6),7-16 |
|  | Psalm 30 | Luke 10:1-11,16-20 |
|  | Isaiah 66:10-14 |  |
|  | Psalm 66:1-8 |  |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-10 | Amos 7:7-17 | Colossians 1:1-14 |
|  | Psalm 82 | Luke 10:25-37 |
|  | Deuteronomy 30:9-14 |  |
|  | Psalm 25:1-9 |  |
| | | |
| proper-11 | Amos 8:1-12 | Colossians 1:15-28 |
|  | Psalm 52 | Luke 10:38-42 |
|  | Genesis 18:1-10a |  |
|  | Psalm 15 |  |
| | | |
| proper-12 | Hosea 1:2-10 | Colossians 2:6-15,(16-19) |
|  | Psalm 85 | Luke 11:1-13 |
|  | Genesis 18:20-32 |  |
|  | Psalm 138 |  |
| | | |
| proper-13 | Hosea 11:1-11 | Colossians 3:1-11 |
|  | Psalm 107:1-9,43 | Luke 12:13-21 |
|  | Ecclesiastes 1:2,12-14; 2:18-23 |  |
|  | Psalm 49:1-11 |  |
| | | |
| proper-14 | Isaiah 1:1,10-20 | Hebrews 11:1-3,8-16 |
|  | Psalm 50:1-8,23-24 | Luke 12:32-40 |
|  | Genesis 15:1-6 |  |
|  | Psalm 33:12-22 |  |
| | | |
| proper-15 | Isaiah 5:1-7 | Hebrews 11:29-12:2 |
|  | Psalm 80:1-2,8-18 | Luke 12:49-56 |
|  | Jeremiah 23:23-29 |  |
|  | Psalm 82 |  |
| | | |
| proper-16 | Jeremiah 1:4-10 | Hebrews 12:18-29 |
|  | Psalm 71:1-6 | Luke 13:10-17 |
|  | Isaiah 58:9b-14 |  |
|  | Psalm 103:1-8 |  |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-17 | Jeremiah 2:4-13 | Hebrews 13:1-8,15-16 |
|  | Psalm 81:1,10-16 | Luke 14:1,7-14 |
|  | Sirach 10:12-18 |  |
|  | /or/ Proverbs 25:6-7 #2 |  |
|  | Psalm 112 |  |
| | | |
| proper-18 | Jeremiah 18:1-11 | Philemon 1:1-21 |
|  | Psalm 139:1-5,12-17 | Luke 14:25-33 |
|  | Deuteronomy 30:15-20 |  |
|  | Psalm 1 |  |
| | | |
| proper-19 | Jeremiah 4:11-12,22-28 | 1 Timothy 1:12-17 |
|  | Psalm 14 | Luke 15:1-10 |
|  | Exodus 32:7-14 |  |
|  | Psalm 51:1-11 |  |
| | | |
| proper-20 | Jeremiah 8:18-9:1 | 1 Timothy 2:1-7 |
|  | Psalm 79:1-9 | Luke 16:1-13 |
|  | Amos 8:4-7 |  |
|  | Psalm 113 |  |
| | | |
| proper-21 | Jeremiah 32:1-3a,6-15 | 1 Timothy 6:6-19 |
|  | Psalm 91:1-6,14-16 | Luke 16:19-31 |
|  | Amos 6:1a,4-7 |  |
|  | Psalm 146 |  |
| | | |
| proper-22 | Lamentations 1:1-6 | 2 Timothy 1:1-14 |
|  | Lamentations 3:19-26 | Luke 17:5-10 |
|  | /or/ Psalm 137 #2 |  |
|  | Habakkuk 1:1-4; 2:1-4 |  |
|  | Psalm 37:1-10 |  |
| | | |
| proper-23 | Jeremiah 29:1,4-7 | 2 Timothy 2:8-15 |
|  | Psalm 66:1-11 | Luke 17:11-19 |
|  | 2 Kings 5:1-3,7-15c |  |
|  | Psalm 111 |  |
| | | |

|-----------|----------|--------|
|Day | OT & Psalms | NT Lessons |
| proper-24 | Jeremiah 31:27-34 | 2 Timothy 3:14-4:5 |
|  | Psalm 119:97-104 | Luke 18:1-8 |
|  | Genesis 32:22-31 |  |
|  | Psalm 121 |  |
| | | |
| proper-25 | Joel 2:23-32 | 2 Timothy 4:6-8,16-18 |
|  | Psalm 65 | Luke 18:9-14 |
|  | Sirach 35:12-17 |  |
|  | /or/ Jeremiah 14:7-10,19-22 #2 |  |
|  | Psalm 84:1-6 |  |
| | | |
| proper-26 | Habakkuk 1:1-4; 2:1-4 | 2 Thessalonians 1:1-4,11-12 |
|  | Psalm 119:137-144 | Luke 19:1-10 |
|  | Isaiah 1:10-18 |  |
|  | Psalm 32:1-8 |  |
| | | |
| proper-27 | Haggai 1:15b-2:9 | 2 Thessalonians 2:1-5,13-17 |
|  | Psalm 145:1-5,18-22 | Luke 20:27-38 |
|  | /or/ Psalm 98 #2 |  |
|  | Job 19:23-27a |  |
|  | Psalm 17:1-9 |  |
| | | |
| proper-28 | Isaiah 65:17-25 | 2 Thessalonians 3:6-13 |
|  | Canticle 9 | Luke 21:5-19 |
|  | Malachi 4:1-2a |  |
|  | Psalm 98 |  |
| | | |
| proper-29-christ-the | Jeremiah 23:1-6 | Colossians 1:11-20 |
| -king | Canticle 4 or 16 | Luke 23:33-43 |
|  | Jeremiah 23:1-6 |  |
|  | Psalm 46 |  |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-andrew | Psalm 19 | Deuteronomy 30:11-14 |
|  | /or/ Psalm 19:1-6 #2 | Romans 10:8b-18 |
|  |  | Matthew 4:18-22 |
| | | |
| st-thomas | Psalm 126 | Habakkuk 2:1-4 |
|  |  | Hebrews 10:35-11:1 |
|  |  | John 20:24-29 |
| | | |
| st-stephen | Psalm 31 | Jeremiah 26:1-9,12-15 |
|  | /or/ Psalm 31:1-5 #2 | Acts 6:8-7:2a,51c-60 |
|  |  | Matthew 23:34-39 |
| | | |
| st-john | Psalm 92 | Exodus 33:18-23 |
|  | /or/ Psalm 92:1-4,11-14 #2 | 1 John 1:1-9 |
|  |  | John 21:19b-24 |
| | | |
| holy-innocents | Psalm 124 | Jeremiah 31:15-17 |
|  |  | Revelation 21:1-7 |
|  |  | Matthew 2:13-18 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| confession-of-st-pet | Psalm 23 | Acts 4:8-13 |
| er |  | 1 Peter 5:1-4 |
|  |  | Matthew 16:13-19 |
| | | |
| conversion-of-st-pau | Psalm 67 | Acts 26:9-21 |
| l |  | Galatians 1:11-24 |
|  |  | Matthew 10:16-22 |
| | | |
| the-presentation | Psalm 84 | Malachi 3:1-4 |
|  | /or/ Psalm 24:7-10 #2 | Hebrews 2:14-18 |
|  |  | Luke 2:22-40 |
| | | |
| st-matthias | Psalm 15 | Acts 1:15-26 |
|  |  | Philippians 3:13-21 |
|  |  | John 15:1,6-16 |
| | | |
| st-joseph | Psalm 89:1-29 | 2 Samuel 7:4,8-16 |
|  | /or/ Psalm 89:1-4,26-29 #2 | Romans 4:13-18 |
|  |  | Luke 2:41-52 |
| | | |
| the-annunciation | Psalm 45 | Isaiah 7:10-14 |
|  | /or/ Psalm 40:5-10 #2 | Hebrews 10:4-10 |
|  | /or/ Canticle 3 or 15 #3 | Luke 1:26-38 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-mark | Psalm 2 | Isaiah 52:7-10 |
|  | /or/ Psalm 2:7-10 #2 | Ephesians 4:7-8,11-16 |
|  |  | Mark 1:1-15 |
|  |  | /or/ Mark 16:15-20 #2 |
| | | |
| st-philip-&-st-james | Psalm 119:33-40 | Isaiah 30:18-21 |
|  |  | 2 Corinthians 4:1-6 |
|  |  | John 14:6-14 |
| | | |
| the-visitation | Psalm 113 | 1 Samuel 2:1-10 |
|  |  | Romans 12:9-16b |
|  |  | Luke 1:39-57 |
| | | |
| st-barnabas | Psalm 112 | Isaiah 42:5-12 |
|  |  | Acts 11:19-30; 13:1-3 |
|  |  | Matthew 10:7-16 |
| | | |
| nativity-of-st-john- | Psalm 85 | Isaiah 40:1-11 |
| the-baptist | /or/ Psalm 85:7-13 #2 | Acts 13:14b-26 |
|  |  | Luke 1:57-80 |
| | | |
| st-peter-&-st-paul | Psalm 87 | Ezekiel 34:11-16 |
|  |  | 2 Timothy 4:1-8 |
|  |  | John 21:15-19 |
| | | |
| independence-day | Psalm 145 | Deuteronomy 10:17-21 |
|  | /or/ Psalm 145:1-9 #2 | Hebrews 11:8-16 |
|  |  | Matthew 5:43-48 |
| | | |
| st-mary-magdalene | Psalm 42:1-7 | Judith 9:1,11-14 |
|  |  | 2 Corinthians 5:14-18 |
|  |  | John 20:11-18 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-james | Psalm 7:1-10 | Jeremiah 45:1-5 |
|  |  | Acts 11:27-12:3 |
|  |  | Matthew 20:20-28 |
| | | |
| the-transfiguration | Psalm 99 | Exodus 34:29-35 |
|  | /or/ Psalm 99:5-9 #2 | 2 Peter 1:13-21 |
|  |  | Luke 9:28-36 |
| | | |
| st-mary-the-virgin | Psalm 34 | Isaiah 61:10-11 |
|  | /or/ Psalms 34:1-9 #2 | Galatians 4:4-7 |
|  |  | Luke 1:46-55 |
| | | |
| st-bartholomew | Psalm 91 | Deuteronomy 18:15-18 |
|  | /or/ Psalm 91:1-4 #2 | 1 Corinthians 4:9-15 |
|  |  | Luke 22:24-30 |
| | | |
| holy-cross-day | Psalm 98 | Isaiah 45:21-25 |
|  | /or/ Psalm 98:1-4 #2 | Philippians 2:5-11 |
|  |  | /or/ Galatians 6:14-18 #2 |
|  |  | John 12:31-36a |
| | | |
| st-matthew | Psalm 119:33-40 | Proverbs 3:1-6 |
|  |  | 2 Timothy 3:14-17 |
|  |  | Matthew 9:9-13 |
| | | |
| st-michael-&-all-ang | Psalm 103 | Genesis 28:10-17 |
| els | /or/ Psalm 103:19-22 #2 | Revelation 12:7-12 |
|  |  | John 1:47-51 |
| | | |

|-----------|----------|--------|
|Day | Psalm | Lesson |
| st-luke | Psalm 147 | Sirach 38:1-4,6-10,12-14 |
|  | /or/ Psalm 147:1-7 #2 | 2 Timothy 4:5-13 |
|  |  | Luke 4:14-21 |
| | | |
| st-james-of-jerusale | Psalm 1 | Acts 15:12-22a |
| m |  | 1 Corinthians 15:1-11 |
|  |  | Matthew 13:54-58 |
| | | |
| st-simon-&-st-jude | Psalm 119:89-96 | Deuteronomy 32:1-4 |
|  |  | Ephesians 2:13-22 |
|  |  | John 15:17-27 |
| | | |
| all-saints-day | Psalm 149 | Daniel 7:1-3,15-18 |
|  |  | Ephesians 1:11-23 |
|  |  | Luke 6:20-31 |
| | | |
| thanksgiving-day | Psalm 100 | Deuteronomy 26:1-11 |
|  |  | Philippians 4:4-9 |
|  |  | John 6:25-35 |
| | | |



*** TODO build bcprcl-track1, bcprcl-track2
*** TODO build bcprcl-opinionated
*** Update shared prayers!
**** Access json directly from hugo
***** DONE write jsonlesson, test with single file
CLOSED: [2021-10-13 Wed 09:43]
***** DONE update lesson, he/lesson, he/gospel,
CLOSED: [2021-10-13 Wed 09:43]
***** DONE new holydays directory
CLOSED: [2021-10-13 Wed 09:43]
***** ABANDON rename collects to conform
CLOSED: [2021-10-12 Tue 11:22]
Any file/directory names should be renamed to conform
Nope - just create new json
#+BEGIN_SRC python
    import os

    convert_day = dict({
          'first-advent':'first-sunday-of-advent',
          'second-advent':'second-sunday-of-advent',
          'third-advent':'third-sunday-of-advent',
          'fourth-advent':'fourth-sunday-of-advent',
          'christmas':'christmas-day-i',
              'christmas-day-ii':'christmas-day-ii',
              'christmas-day-iii':'christmas-day-iii',
          '1st-sunday-after-christmas':'first-sunday-after-christmas',
          'holy-name':'holy-name',
          '2nd-sunday-after-christmas':'second-sunday-after-christmas',
          'epiphany':'the-epiphany',
          '1st-epiphany':'first-sunday-after-epiphany',
          '2nd-epiphany':'second-sunday-after-epiphany',
          '3rd-epiphany':'third-sunday-after-epiphany',
          '4th-epiphany':'fourth-sunday-after-epiphany',
          '5th-epiphany':'fifth-sunday-after-epiphany',
          '6th-epiphany':'sixth-sunday-after-epiphany',
          '7th-epiphany':'seventh-sunday-after-epiphany',
          '8th-epiphany':'eighth-sunday-after-epiphany',
          'last-epiphany':'last-sunday-after-the-epiphany',
          'wednesday-last-epiphany':'ash-wednesday',
          '1st-lent':'first-sunday-in-lent',
          '2nd-lent':'second-sunday-in-lent',
          '3rd-lent':'third-sunday-in-lent',
          '4th-lent':'fourth-sunday-in-lent',
          '5th-lent':'fifth-sunday-in-lent',
          'holy-week':'palm-sunday-liturgy-of-the-word',
          'palm-sunday-liturgy-of-the-palms':'palm-sunday-liturgy-of-the-palms',
          'monday-holy-week':'monday-in-holy-week',
          'tuesday-holy-week':'tuesday-in-holy-week',
          'wednesday-holy-week':'wednesday-in-holy-week',
          'thursday-holy-week':'maundy-thursday',
          'friday-holy-week':'good-friday',
          'saturday-holy-week':'holy-saturday',
          'easter-day-the-great-vigil':'easter-day-the-great-vigil',
          'easter':'easter-day-principal-service',
          'easter-day-evening-service':'easter-day-evening-service',
          'monday-easter':'monday-in-easter-week',
          'tuesday-easter':'tuesday-in-easter-week',
          'wednesday-easter':'wednesday-in-easter-week',
          'thursday-easter':'thursday-in-easter-week',
          'friday-easter':'friday-in-easter-week',
          'saturday-easter':'saturday-in-easter-week',
          '2nd-easter':'second-sunday-of-easter',
          '3rd-easter':'third-sunday-of-easter',
          '4th-easter':'fourth-sunday-of-easter',
          '5th-easter':'fifth-sunday-of-easter',
          '6th-easter':'sixth-sunday-of-easter',
          'thursday-6th-easter':'ascension-day',
          '7th-easter':'seventh-sunday-of-easter',
          'day-of-pentecost-early-or-vigil-service':'day-of-pentecost-early-or-vigil-service',
          'pentecost':'day-of-pentecost-principal-service',
          'trinity-sunday':'trinity-sunday',
          'proper-1':'proper-1',
          'proper-2':'proper-2',
          'proper-3':'proper-3',
          'proper-4':'proper-4',
          'proper-5':'proper-5',
          'proper-6':'proper-6',
          'proper-7':'proper-7',
          'proper-8':'proper-8',
          'proper-9':'proper-9',
          'proper-10':'proper-10',
          'proper-11':'proper-11',
          'proper-12':'proper-12',
          'proper-13':'proper-13',
          'proper-14':'proper-14',
          'proper-15':'proper-15',
          'proper-16':'proper-16',
          'proper-17':'proper-17',
          'proper-18':'proper-18',
          'proper-19':'proper-19',
          'proper-20':'proper-20',
          'proper-21':'proper-21',
          'proper-22':'proper-22',
          'proper-23':'proper-23',
          'proper-24':'proper-24',
          'proper-25':'proper-25',
          'proper-26':'proper-26',
          'proper-27':'proper-27',
          'proper-28':'proper-28',
          'proper-29':'proper-29-christ-the-king',
          'st-andrew':'st-andrew',
          'st-thomas':'st-thomas',
          'st-stephen':'st-stephen',
          'st-john':'st-john',
          'holy-innocents':'holy-innocents',
          'confession-of-st-peter':'confession-of-st-peter',
          'conversion-of-st-paul':'conversion-of-st-paul',
          'the-presentation':'the-presentation',
          'st-matthias':'st-matthias',
          'st-joseph':'st-joseph',
          'annunciation':'the-annunciation',
          'st-mark':'st-mark',
          'ss-philip-and-james':'st-philip-&-st-james',
          'the-visitation':'the-visitation',
          'st-barnabas':'st-barnabas',
          'nativity-of-st-john-the-baptist':'nativity-of-st-john-the-baptist',
          'ss-peter-and-paul':'st-peter-&-st-paul',
          'independence-day':'independence-day',
          'st-mary-magdalene':'st-mary-magdalene',
          'st-james':'st-james',
          'the-transfiguration':'the-transfiguration',
          'st-mary-the-virgin':'st-mary-the-virgin',
          'st-bartholomew':'st-bartholomew',
          'holy-cross':'holy-cross-day',
          'st-matthew':'st-matthew',
          'st-michael':'st-michael-&-all-angels',
          'st-luke':'st-luke',
          'st-james-of-jerusalem':'st-james-of-jerusalem',
          'ss-simon-and-jude':'st-simon-&-st-jude',
          'all-saints-day':'all-saints-day',
          'thanksgiving-day':'thanksgiving-day'})


    dirty_dirs = []
    keys = convert_day.keys()
    for dirpath, dirnames, files in os.walk("../sharedprayers/layouts"):
        for name in files:
          #//        print ("file: " + name)
          if name in keys:
            print ("found " + name)
            if dirpath not in dirty_dirs:
                dirty_dirs.append(dirpath)

    print("Found old day names in: " + "  ".join(map(str, dirty_dirs)))
    print()
    print("convert_day.keys = " + "  ".join(map(str, convert_day.keys())))

    for old, new in convert_day.items():
        if old != new:
            old = old

#+END_SRC

#+RESULTS:
: found annunciation
: found epiphany
: found annunciation
: found epiphany
: found annunciation
: found epiphany
: Found old day names in: ../sharedprayers/layouts/shortcodes/proper/collect  ../sharedprayers/layouts/shortcodes/proper/preface  ../sharedprayers/layouts/shortcodes/proper/title
:
: convert_day.keys = first-advent  second-advent  third-advent  fourth-advent  christmas  christmas-day-ii  christmas-day-iii  1st-sunday-after-christmas  holy-name  2nd-sunday-after-christmas  epiphany  1st-epiphany  2nd-epiphany  3rd-epiphany  4th-epiphany  5th-epiphany  6th-epiphany  7th-epiphany  8th-epiphany  last-epiphany  wednesday-last-epiphany  1st-lent  2nd-lent  3rd-lent  4th-lent  5th-lent  holy-week  palm-sunday-liturgy-of-the-palms  monday-holy-week  tuesday-holy-week  wednesday-holy-week  thursday-holy-week  friday-holy-week  saturday-holy-week  easter-day-the-great-vigil  easter  easter-day-evening-service  monday-easter  tuesday-easter  wednesday-easter  thursday-easter  friday-easter  saturday-easter  2nd-easter  3rd-easter  4th-easter  5th-easter  6th-easter  thursday-6th-easter  7th-easter  day-of-pentecost-early-or-vigil-service  pentecost  trinity-sunday  proper-1  proper-2  proper-3  proper-4  proper-5  proper-6  proper-7  proper-8  proper-9  proper-10  proper-11  proper-12  proper-13  proper-14  proper-15  proper-16  proper-17  proper-18  proper-19  proper-20  proper-21  proper-22  proper-23  proper-24  proper-25  proper-26  proper-27  proper-28  proper-29  st-andrew  st-thomas  st-stephen  st-john  holy-innocents  confession-of-st-peter  conversion-of-st-paul  the-presentation  st-matthias  st-joseph  annunciation  st-mark  ss-philip-and-james  the-visitation  st-barnabas  nativity-of-st-john-the-baptist  ss-peter-and-paul  independence-day  st-mary-magdalene  st-james  the-transfiguration  st-mary-the-virgin  st-bartholomew  holy-cross  st-matthew  st-michael  st-luke  st-james-of-jerusalem  ss-simon-and-jude  all-saints-day  thanksgiving-day
***** List of days, one per line:
#+BEGIN_SRC python
  convert_day = dict({
          'first-advent':'first-sunday-of-advent',
          'second-advent':'second-sunday-of-advent',
          'third-advent':'third-sunday-of-advent',
          'fourth-advent':'fourth-sunday-of-advent',
          'christmas':'christmas-day-i',
              'christmas-day-ii':'christmas-day-ii',
              'christmas-day-iii':'christmas-day-iii',
          '1st-sunday-after-christmas':'first-sunday-after-christmas',
          'holy-name':'holy-name',
          '2nd-sunday-after-christmas':'second-sunday-after-christmas',
          'epiphany':'the-epiphany',
          '1st-epiphany':'first-sunday-after-epiphany',
          '2nd-epiphany':'second-sunday-after-epiphany',
          '3rd-epiphany':'third-sunday-after-epiphany',
          '4th-epiphany':'fourth-sunday-after-epiphany',
          '5th-epiphany':'fifth-sunday-after-epiphany',
          '6th-epiphany':'sixth-sunday-after-epiphany',
          '7th-epiphany':'seventh-sunday-after-epiphany',
          '8th-epiphany':'eighth-sunday-after-epiphany',
          'last-epiphany':'last-sunday-after-the-epiphany',
          'wednesday-last-epiphany':'ash-wednesday',
          '1st-lent':'first-sunday-in-lent',
          '2nd-lent':'second-sunday-in-lent',
          '3rd-lent':'third-sunday-in-lent',
          '4th-lent':'fourth-sunday-in-lent',
          '5th-lent':'fifth-sunday-in-lent',
          'holy-week':'palm-sunday-liturgy-of-the-word',
          'palm-sunday-liturgy-of-the-palms':'palm-sunday-liturgy-of-the-palms',
          'monday-holy-week':'monday-in-holy-week',
          'tuesday-holy-week':'tuesday-in-holy-week',
          'wednesday-holy-week':'wednesday-in-holy-week',
          'thursday-holy-week':'maundy-thursday',
          'friday-holy-week':'good-friday',
          'saturday-holy-week':'holy-saturday',
          'easter-day-the-great-vigil':'easter-day-the-great-vigil',
          'easter':'easter-day-principal-service',
          'easter-day-evening-service':'easter-day-evening-service',
          'monday-easter':'monday-in-easter-week',
          'tuesday-easter':'tuesday-in-easter-week',
          'wednesday-easter':'wednesday-in-easter-week',
          'thursday-easter':'thursday-in-easter-week',
          'friday-easter':'friday-in-easter-week',
          'saturday-easter':'saturday-in-easter-week',
          '2nd-easter':'second-sunday-of-easter',
          '3rd-easter':'third-sunday-of-easter',
          '4th-easter':'fourth-sunday-of-easter',
          '5th-easter':'fifth-sunday-of-easter',
          '6th-easter':'sixth-sunday-of-easter',
          'thursday-6th-easter':'ascension-day',
          '7th-easter':'seventh-sunday-of-easter',
          'day-of-pentecost-early-or-vigil-service':'day-of-pentecost-early-or-vigil-service',
          'pentecost':'day-of-pentecost-principal-service',
          'trinity-sunday':'trinity-sunday',
          'proper-1':'proper-1',
          'proper-2':'proper-2',
          'proper-3':'proper-3',
          'proper-4':'proper-4',
          'proper-5':'proper-5',
          'proper-6':'proper-6',
          'proper-7':'proper-7',
          'proper-8':'proper-8',
          'proper-9':'proper-9',
          'proper-10':'proper-10',
          'proper-11':'proper-11',
          'proper-12':'proper-12',
          'proper-13':'proper-13',
          'proper-14':'proper-14',
          'proper-15':'proper-15',
          'proper-16':'proper-16',
          'proper-17':'proper-17',
          'proper-18':'proper-18',
          'proper-19':'proper-19',
          'proper-20':'proper-20',
          'proper-21':'proper-21',
          'proper-22':'proper-22',
          'proper-23':'proper-23',
          'proper-24':'proper-24',
          'proper-25':'proper-25',
          'proper-26':'proper-26',
          'proper-27':'proper-27',
          'proper-28':'proper-28',
          'proper-29':'proper-29-christ-the-king',
          'st-andrew':'st-andrew',
          'st-thomas':'st-thomas',
          'st-stephen':'st-stephen',
          'st-john':'st-john',
          'holy-innocents':'holy-innocents',
          'confession-of-st-peter':'confession-of-st-peter',
          'conversion-of-st-paul':'conversion-of-st-paul',
          'the-presentation':'the-presentation',
          'st-matthias':'st-matthias',
          'st-joseph':'st-joseph',
          'annunciation':'the-annunciation',
          'st-mark':'st-mark',
          'ss-philip-and-james':'st-philip-&-st-james',
          'the-visitation':'the-visitation',
          'st-barnabas':'st-barnabas',
          'nativity-of-st-john-the-baptist':'nativity-of-st-john-the-baptist',
          'ss-peter-and-paul':'st-peter-&-st-paul',
          'independence-day':'independence-day',
          'st-mary-magdalene':'st-mary-magdalene',
          'st-james':'st-james',
          'the-transfiguration':'the-transfiguration',
          'st-mary-the-virgin':'st-mary-the-virgin',
          'st-bartholomew':'st-bartholomew',
          'holy-cross':'holy-cross-day',
          'st-matthew':'st-matthew',
          'st-michael':'st-michael-&-all-angels',
          'st-luke':'st-luke',
          'st-james-of-jerusalem':'st-james-of-jerusalem',
          'ss-simon-and-jude':'st-simon-&-st-jude',
          'all-saints-day':'all-saints-day',
          'thanksgiving-day':'thanksgiving-day'})

  for day in convert_day.values():
    print (day)

#+END_SRC

#+RESULTS:
#+begin_example
first-sunday-of-advent
second-sunday-of-advent
third-sunday-of-advent
fourth-sunday-of-advent
christmas-day-i
christmas-day-ii
christmas-day-iii
first-sunday-after-christmas
holy-name
second-sunday-after-christmas
the-epiphany
first-sunday-after-epiphany
second-sunday-after-epiphany
third-sunday-after-epiphany
fourth-sunday-after-epiphany
fifth-sunday-after-epiphany
sixth-sunday-after-epiphany
seventh-sunday-after-epiphany
eighth-sunday-after-epiphany
last-sunday-after-the-epiphany
ash-wednesday
first-sunday-in-lent
second-sunday-in-lent
third-sunday-in-lent
fourth-sunday-in-lent
fifth-sunday-in-lent
palm-sunday-liturgy-of-the-word
palm-sunday-liturgy-of-the-palms
monday-in-holy-week
tuesday-in-holy-week
wednesday-in-holy-week
maundy-thursday
good-friday
holy-saturday
easter-day-the-great-vigil
easter-day-principal-service
easter-day-evening-service
monday-in-easter-week
tuesday-in-easter-week
wednesday-in-easter-week
thursday-in-easter-week
friday-in-easter-week
saturday-in-easter-week
second-sunday-of-easter
third-sunday-of-easter
fourth-sunday-of-easter
fifth-sunday-of-easter
sixth-sunday-of-easter
ascension-day
seventh-sunday-of-easter
day-of-pentecost-early-or-vigil-service
day-of-pentecost-principal-service
trinity-sunday
proper-1
proper-2
proper-3
proper-4
proper-5
proper-6
proper-7
proper-8
proper-9
proper-10
proper-11
proper-12
proper-13
proper-14
proper-15
proper-16
proper-17
proper-18
proper-19
proper-20
proper-21
proper-22
proper-23
proper-24
proper-25
proper-26
proper-27
proper-28
proper-29-christ-the-king
st-andrew
st-thomas
st-stephen
st-john
holy-innocents
confession-of-st-peter
conversion-of-st-paul
the-presentation
st-matthias
st-joseph
the-annunciation
st-mark
st-philip-&-st-james
the-visitation
st-barnabas
nativity-of-st-john-the-baptist
st-peter-&-st-paul
independence-day
st-mary-magdalene
st-james
the-transfiguration
st-mary-the-virgin
st-bartholomew
holy-cross-day
st-matthew
st-michael-&-all-angels
st-luke
st-james-of-jerusalem
st-simon-&-st-jude
all-saints-day
thanksgiving-day
#+end_example

***** DONE json with collect, preface, title for Sundays and Holy Days
CLOSED: [2021-10-12 Tue 22:26]
Sundays & Holy Days taken from Calendar (BCP 15ff)

Input file columns:
0: Order (ignored)
1: code (based on title)
2: Collect (Contemporary: BCP 211ff.)
3: Preface (BCP 211ff.)
4: Title (BCP 31ff.)

#+BEGIN_SRC python
  import csv, os, json
  inputfile = "src/collects-for-json.csv"
  outputfile = "output/bcpcollects.json"
  fields = {
      "code":1,
      "oldcode":2,
      "collect": 3,
      "preface": 4,
      "title": 5
      }

  ordered_days = ["first-sunday-of-advent", "second-sunday-of-advent", "third-sunday-of-advent", "fourth-sunday-of-advent", "christmas-day-i", "christmas-day-ii", "christmas-day-iii", "first-sunday-after-christmas", "holy-name", "second-sunday-after-christmas", "the-epiphany", "first-sunday-after-epiphany", "second-sunday-after-epiphany", "third-sunday-after-epiphany", "fourth-sunday-after-epiphany", "fifth-sunday-after-epiphany", "sixth-sunday-after-epiphany", "seventh-sunday-after-epiphany", "eighth-sunday-after-epiphany", "last-sunday-after-the-epiphany", "ash-wednesday", "first-sunday-in-lent", "second-sunday-in-lent", "third-sunday-in-lent", "fourth-sunday-in-lent", "fifth-sunday-in-lent", "palm-sunday-liturgy-of-the-word", "palm-sunday-liturgy-of-the-palms", "monday-in-holy-week", "tuesday-in-holy-week", "wednesday-in-holy-week", "maundy-thursday", "good-friday", "holy-saturday", "easter-day-the-great-vigil", "easter-day-principal-service", "easter-day-evening-service", "monday-in-easter-week", "tuesday-in-easter-week", "wednesday-in-easter-week", "thursday-in-easter-week", "friday-in-easter-week", "saturday-in-easter-week", "second-sunday-of-easter", "third-sunday-of-easter", "fourth-sunday-of-easter", "fifth-sunday-of-easter", "sixth-sunday-of-easter", "ascension-day", "seventh-sunday-of-easter", "day-of-pentecost-early-or-vigil-service", "day-of-pentecost-principal-service", "trinity-sunday", "proper-1", "proper-2", "proper-3", "proper-4", "proper-5", "proper-6", "proper-7", "proper-8", "proper-9", "proper-10", "proper-11", "proper-12", "proper-13", "proper-14", "proper-15", "proper-16", "proper-17", "proper-18", "proper-19", "proper-20", "proper-21", "proper-22", "proper-23", "proper-24", "proper-25", "proper-26", "proper-27", "proper-28", "proper-29-christ-the-king", "st-andrew", "st-thomas", "st-stephen", "st-john", "holy-innocents", "confession-of-st-peter", "conversion-of-st-paul", "the-presentation", "st-matthias", "st-joseph", "the-annunciation", "st-mark", "st-philip-&-st-james", "the-visitation", "st-barnabas", "nativity-of-st-john-the-baptist", "st-peter-&-st-paul", "independence-day", "st-mary-magdalene", "st-james", "the-transfiguration", "st-mary-the-virgin", "st-bartholomew", "holy-cross-day", "st-matthew", "st-michael-&-all-angels", "st-luke", "st-james-of-jerusalem", "st-simon-&-st-jude", "all-saints-day", "thanksgiving-day"]


  def choose_day(data, day):
      results = []
      for i in data:
          if i['code'] == day:
              results.append(i)
      return results



  data = []
  with open(inputfile, "r") as f:
      reader = csv.reader(f)
      next(reader) # skip header line
      for row in reader:
          if row[0] == "999": continue # Skip unused rows
          code = row[1]
          if len(code)<3: continue   # Skip uncoded or badly coded rows
          d = {}
          for f, col in fields.items():
              d[f] = row[col]
          data.append(d)
  print("Found " + str(len(data)) + " rows")


  # output json of code, collect, preface, title, alt if duplicate
  bcpcollects = []
  for d in ordered_days:
      entries = choose_day(data, d)
      if len(entries)>1:
        seq = 1
      else:
        seq = 0
      for e in entries:
          if seq > 0:
            alt = str(seq)
          else:
            alt = ''
          bcpcollects.append({'day':e['code'], 'alt':alt, 'collect':e['collect'], 'preface':e['preface'], 'title':e['title']})
          seq += 1
  with open (outputfile, "w") as t:
      t.write(json.dumps(bcpcollects, indent=4))
  print ("Built " + str(len(bcpcollects)) + " records in bcprcl")

  # output dictionary of oldcodes to change to newcodes
  print ("convert_days = {")
  for d in ordered_days:
    entries = choose_day(data, d)
    print ("'" + entries[0]['oldcode'] + "':'" + d + "',")
  print ("}")
#+END_SRC

#+RESULTS:
#+begin_example
Found 118 rows
Built 118 records in bcprcl
convert_days = {
'advent1':'first-sunday-of-advent',
'advent2':'second-sunday-of-advent',
'advent3':'third-sunday-of-advent',
'advent4':'fourth-sunday-of-advent',
'nativity1':'christmas-day-i',
'nativity2':'christmas-day-ii',
'nativity3':'christmas-day-iii',
'christmas1':'first-sunday-after-christmas',
'holyname':'holy-name',
'christmas2':'second-sunday-after-christmas',
'epiphany':'the-epiphany',
'epiphany1':'first-sunday-after-epiphany',
'epiphany2':'second-sunday-after-epiphany',
'epiphany3':'third-sunday-after-epiphany',
'epiphany4':'fourth-sunday-after-epiphany',
'epiphany5':'fifth-sunday-after-epiphany',
'epiphany6':'sixth-sunday-after-epiphany',
'epiphany7':'seventh-sunday-after-epiphany',
'epiphany8':'eighth-sunday-after-epiphany',
'epiphanylast':'last-sunday-after-the-epiphany',
'ashwednesday':'ash-wednesday',
'lent1':'first-sunday-in-lent',
'lent2':'second-sunday-in-lent',
'lent3':'third-sunday-in-lent',
'lent4':'fourth-sunday-in-lent',
'lent5':'fifth-sunday-in-lent',
'palmsunday':'palm-sunday-liturgy-of-the-word',
'liturgyofpalms':'palm-sunday-liturgy-of-the-palms',
'holymonday':'monday-in-holy-week',
'holytuesday':'tuesday-in-holy-week',
'holywednesday':'wednesday-in-holy-week',
'maundythursday':'maundy-thursday',
'goodfriday':'good-friday',
'holysaturday':'holy-saturday',
'eastervigil':'easter-day-the-great-vigil',
'resurrection1':'easter-day-principal-service',
'eastereve':'easter-day-evening-service',
'eastermonday':'monday-in-easter-week',
'eastertuesday':'tuesday-in-easter-week',
'easterwednesday':'wednesday-in-easter-week',
'easterthursday':'thursday-in-easter-week',
'easterfriday':'friday-in-easter-week',
'eastersaturday':'saturday-in-easter-week',
'easter2':'second-sunday-of-easter',
'easter3':'third-sunday-of-easter',
'easter4':'fourth-sunday-of-easter',
'easter5':'fifth-sunday-of-easter',
'easter6':'sixth-sunday-of-easter',
'ascension1':'ascension-day',
'easter7':'seventh-sunday-of-easter',
'':'day-of-pentecost-early-or-vigil-service',
'pentecost1':'day-of-pentecost-principal-service',
'trinity':'trinity-sunday',
'proper1':'proper-1',
'proper2':'proper-2',
'proper3':'proper-3',
'proper4':'proper-4',
'proper5':'proper-5',
'proper6':'proper-6',
'proper7':'proper-7',
'proper8':'proper-8',
'proper9':'proper-9',
'proper10':'proper-10',
'proper11':'proper-11',
'proper12':'proper-12',
'proper13':'proper-13',
'proper14':'proper-14',
'proper15':'proper-15',
'proper16':'proper-16',
'proper17':'proper-17',
'proper18':'proper-18',
'proper19':'proper-19',
'proper20':'proper-20',
'proper21':'proper-21',
'proper22':'proper-22',
'proper23':'proper-23',
'proper24':'proper-24',
'proper25':'proper-25',
'proper26':'proper-26',
'proper27':'proper-27',
'proper28':'proper-28',
'proper29':'proper-29-christ-the-king',
'standrew':'st-andrew',
'stthomas':'st-thomas',
'ststephen':'st-stephen',
'stjohn':'st-john',
'holyinnocents':'holy-innocents',
'confessionstpeter':'confession-of-st-peter',
'conversionstpaul':'conversion-of-st-paul',
'presentation':'the-presentation',
'stmatthias':'st-matthias',
'stjoseph':'st-joseph',
'annunciation':'the-annunciation',
'stmark':'st-mark',
'stsphilipjames':'st-philip-&-st-james',
'visitation':'the-visitation',
'stbarnabas':'st-barnabas',
'nativitystjohnbaptist':'nativity-of-st-john-the-baptist',
'stspeterpaul':'st-peter-&-st-paul',
'independenceday':'independence-day',
'stmarymagdalene':'st-mary-magdalene',
'stjames':'st-james',
'transfiguration':'the-transfiguration',
'stmaryvirgin':'st-mary-the-virgin',
'stbartholomew':'st-bartholomew',
'holycross':'holy-cross-day',
'stmatthew':'st-matthew',
'stmichaelallangels':'st-michael-&-all-angels',
'stluke':'st-luke',
'stjamesjerusalem':'st-james-of-jerusalem',
'stssimonjude':'st-simon-&-st-jude',
'allsaintsa':'all-saints-day',
'thanksgivinga':'thanksgiving-day',
}
#+end_example
**** > Check for all scriptures downloaded
**** Change all references to an old proper code to a new proper code
#+BEGIN_SRC python
  import os

  convert_days = {
  'advent1':'first-sunday-of-advent',
  'advent2':'second-sunday-of-advent',
  'advent3':'third-sunday-of-advent',
  'advent4':'fourth-sunday-of-advent',
  'nativity1':'christmas-day-i',
  'nativity2':'christmas-day-ii',
  'nativity3':'christmas-day-iii',
  'christmas1':'first-sunday-after-christmas',
  'holyname':'holy-name',
  'christmas2':'second-sunday-after-christmas',
  'epiphany':'the-epiphany',
  'epiphany1':'first-sunday-after-epiphany',
  'epiphany2':'second-sunday-after-epiphany',
  'epiphany3':'third-sunday-after-epiphany',
  'epiphany4':'fourth-sunday-after-epiphany',
  'epiphany5':'fifth-sunday-after-epiphany',
  'epiphany6':'sixth-sunday-after-epiphany',
  'epiphany7':'seventh-sunday-after-epiphany',
  'epiphany8':'eighth-sunday-after-epiphany',
  'epiphanylast':'last-sunday-after-the-epiphany',
  'ashwednesday':'ash-wednesday',
  'lent1':'first-sunday-in-lent',
  'lent2':'second-sunday-in-lent',
  'lent3':'third-sunday-in-lent',
  'lent4':'fourth-sunday-in-lent',
  'lent5':'fifth-sunday-in-lent',
  'palmsunday':'palm-sunday-liturgy-of-the-word',
  'liturgyofpalms':'palm-sunday-liturgy-of-the-palms',
  'holymonday':'monday-in-holy-week',
  'holytuesday':'tuesday-in-holy-week',
  'holywednesday':'wednesday-in-holy-week',
  'maundythursday':'maundy-thursday',
  'goodfriday':'good-friday',
  'holysaturday':'holy-saturday',
  'eastervigil':'easter-day-the-great-vigil',
  'resurrection1':'easter-day-principal-service',
  'eastereve':'easter-day-evening-service',
  'eastermonday':'monday-in-easter-week',
  'eastertuesday':'tuesday-in-easter-week',
  'easterwednesday':'wednesday-in-easter-week',
  'easterthursday':'thursday-in-easter-week',
  'easterfriday':'friday-in-easter-week',
  'eastersaturday':'saturday-in-easter-week',
  'easter2':'second-sunday-of-easter',
  'easter3':'third-sunday-of-easter',
  'easter4':'fourth-sunday-of-easter',
  'easter5':'fifth-sunday-of-easter',
  'easter6':'sixth-sunday-of-easter',
  'ascension1':'ascension-day',
  'easter7':'seventh-sunday-of-easter',
  '':'day-of-pentecost-early-or-vigil-service',
  'pentecost1':'day-of-pentecost-principal-service',
  'trinity':'trinity-sunday',
  'proper1':'proper-1',
  'proper2':'proper-2',
  'proper3':'proper-3',
  'proper4':'proper-4',
  'proper5':'proper-5',
  'proper6':'proper-6',
  'proper7':'proper-7',
  'proper8':'proper-8',
  'proper9':'proper-9',
  'proper10':'proper-10',
  'proper11':'proper-11',
  'proper12':'proper-12',
  'proper13':'proper-13',
  'proper14':'proper-14',
  'proper15':'proper-15',
  'proper16':'proper-16',
  'proper17':'proper-17',
  'proper18':'proper-18',
  'proper19':'proper-19',
  'proper20':'proper-20',
  'proper21':'proper-21',
  'proper22':'proper-22',
  'proper23':'proper-23',
  'proper24':'proper-24',
  'proper25':'proper-25',
  'proper26':'proper-26',
  'proper27':'proper-27',
  'proper28':'proper-28',
  'proper29':'proper-29-christ-the-king',
  'standrew':'st-andrew',
  'stthomas':'st-thomas',
  'ststephen':'st-stephen',
  'stjohn':'st-john',
  'holyinnocents':'holy-innocents',
  'confessionstpeter':'confession-of-st-peter',
  'conversionstpaul':'conversion-of-st-paul',
  'presentation':'the-presentation',
  'stmatthias':'st-matthias',
  'stjoseph':'st-joseph',
  'annunciation':'the-annunciation',
  'stmark':'st-mark',
  'stsphilipjames':'st-philip-&-st-james',
  'visitation':'the-visitation',
  'stbarnabas':'st-barnabas',
  'nativitystjohnbaptist':'nativity-of-st-john-the-baptist',
  'stspeterpaul':'st-peter-&-st-paul',
  'independenceday':'independence-day',
  'stmarymagdalene':'st-mary-magdalene',
  'stjames':'st-james',
  'transfiguration':'the-transfiguration',
  'stmaryvirgin':'st-mary-the-virgin',
  'stbartholomew':'st-bartholomew',
  'holycross':'holy-cross-day',
  'stmatthew':'st-matthew',
  'stmichaelallangels':'st-michael-&-all-angels',
  'stluke':'st-luke',
  'stjamesjerusalem':'st-james-of-jerusalem',
  'stssimonjude':'st-simon-&-st-jude',
  'allsaintsa':'all-saints-day',
  'allsaintsb':'all-saints-day',
      'allsaintsc':'all-saints-day',
  'thanksgivinga':'thanksgiving-day',
      'thanksgivingb':'thanksgiving-day',
      'thanksgivingc':'thanksgiving-day'
  }

  convert_years = {'yeara':'a', 'yearb':'b', 'yearc':'c'}

  test = 'stjohn' in convert_days
  if test:
    print("Found it")
  else:
    print("nope")

  print ("Testing stjohn -> " + convert_days['stjohn'])

  count = 0
  for dirpath, dirnames, files in os.walk("../sharedprayers/content/archive"):
      for name in files:
        #print ("file: " + name)
        file = os.path.join(dirpath, name)
        tempfile = file + ".temp"
        with open(tempfile, "w") as target:
            with open(file) as source:
                for line in source:
                  if line[0:8] == "proper: ":
                    oldcode = line[8:].strip()
                    if oldcode in convert_days:
                      count += 1
                      target.write("proper: " + convert_days[oldcode] + "\n")
                    else:
                      print ("NO REPLACEMENT FOR " + oldcode)
                      target.write(line)
                  elif line[:16] == "lectionaryyear: ":
                    oldyear = line[16:].strip()
                    target.write("lectionaryyear: " + convert_years[oldyear] + "\n")
                  else:
                    target.write(line)
        os.rename(tempfile, file)
  print ("Replaced " + str(count) + " day codes")


#+END_SRC

#+RESULTS:
#+begin_example
Found it
Testing stjohn -> st-john
NO REPLACEMENT FOR jonathanmyrickdaniels
NO REPLACEMENT FOR oakerhater
NO REPLACEMENT FOR birgitta
NO REPLACEMENT FOR teresaavila
NO REPLACEMENT FOR stgeorge
NO REPLACEMENT FOR alexandercrummell
NO REPLACEMENT FOR jonathanmyrickdaniels
NO REPLACEMENT FOR resurrection3
Replaced 95 day codes
#+end_example
**** List day codes
#+BEGIN_SRC python
  import os

  convert_days = {
  'advent1':'first-sunday-of-advent',
  'advent2':'second-sunday-of-advent',
  'advent3':'third-sunday-of-advent',
  'advent4':'fourth-sunday-of-advent',
  'nativity1':'christmas-day-i',
  'nativity2':'christmas-day-ii',
  'nativity3':'christmas-day-iii',
  'christmas1':'first-sunday-after-christmas',
  'holyname':'holy-name',
  'christmas2':'second-sunday-after-christmas',
  'epiphany':'the-epiphany',
  'epiphany1':'first-sunday-after-epiphany',
  'epiphany2':'second-sunday-after-epiphany',
  'epiphany3':'third-sunday-after-epiphany',
  'epiphany4':'fourth-sunday-after-epiphany',
  'epiphany5':'fifth-sunday-after-epiphany',
  'epiphany6':'sixth-sunday-after-epiphany',
  'epiphany7':'seventh-sunday-after-epiphany',
  'epiphany8':'eighth-sunday-after-epiphany',
  'epiphanylast':'last-sunday-after-the-epiphany',
  'ashwednesday':'ash-wednesday',
  'lent1':'first-sunday-in-lent',
  'lent2':'second-sunday-in-lent',
  'lent3':'third-sunday-in-lent',
  'lent4':'fourth-sunday-in-lent',
  'lent5':'fifth-sunday-in-lent',
  'palmsunday':'palm-sunday-liturgy-of-the-word',
  'liturgyofpalms':'palm-sunday-liturgy-of-the-palms',
  'holymonday':'monday-in-holy-week',
  'holytuesday':'tuesday-in-holy-week',
  'holywednesday':'wednesday-in-holy-week',
  'maundythursday':'maundy-thursday',
  'goodfriday':'good-friday',
  'holysaturday':'holy-saturday',
  'eastervigil':'easter-day-the-great-vigil',
  'resurrection1':'easter-day-principal-service',
  'eastereve':'easter-day-evening-service',
  'eastermonday':'monday-in-easter-week',
  'eastertuesday':'tuesday-in-easter-week',
  'easterwednesday':'wednesday-in-easter-week',
  'easterthursday':'thursday-in-easter-week',
  'easterfriday':'friday-in-easter-week',
  'eastersaturday':'saturday-in-easter-week',
  'easter2':'second-sunday-of-easter',
  'easter3':'third-sunday-of-easter',
  'easter4':'fourth-sunday-of-easter',
  'easter5':'fifth-sunday-of-easter',
  'easter6':'sixth-sunday-of-easter',
  'ascension1':'ascension-day',
  'easter7':'seventh-sunday-of-easter',
  '':'day-of-pentecost-early-or-vigil-service',
  'pentecost1':'day-of-pentecost-principal-service',
  'trinity':'trinity-sunday',
  'proper1':'proper-1',
  'proper2':'proper-2',
  'proper3':'proper-3',
  'proper4':'proper-4',
  'proper5':'proper-5',
  'proper6':'proper-6',
  'proper7':'proper-7',
  'proper8':'proper-8',
  'proper9':'proper-9',
  'proper10':'proper-10',
  'proper11':'proper-11',
  'proper12':'proper-12',
  'proper13':'proper-13',
  'proper14':'proper-14',
  'proper15':'proper-15',
  'proper16':'proper-16',
  'proper17':'proper-17',
  'proper18':'proper-18',
  'proper19':'proper-19',
  'proper20':'proper-20',
  'proper21':'proper-21',
  'proper22':'proper-22',
  'proper23':'proper-23',
  'proper24':'proper-24',
  'proper25':'proper-25',
  'proper26':'proper-26',
  'proper27':'proper-27',
  'proper28':'proper-28',
  'proper29':'proper-29-christ-the-king',
  'standrew':'st-andrew',
  'stthomas':'st-thomas',
  'ststephen':'st-stephen',
  'stjohn':'st-john',
  'holyinnocents':'holy-innocents',
  'confessionstpeter':'confession-of-st-peter',
  'conversionstpaul':'conversion-of-st-paul',
  'presentation':'the-presentation',
  'stmatthias':'st-matthias',
  'stjoseph':'st-joseph',
  'annunciation':'the-annunciation',
  'stmark':'st-mark',
  'stsphilipjames':'st-philip-&-st-james',
  'visitation':'the-visitation',
  'stbarnabas':'st-barnabas',
  'nativitystjohnbaptist':'nativity-of-st-john-the-baptist',
  'stspeterpaul':'st-peter-&-st-paul',
  'independenceday':'independence-day',
  'stmarymagdalene':'st-mary-magdalene',
  'stjames':'st-james',
  'transfiguration':'the-transfiguration',
  'stmaryvirgin':'st-mary-the-virgin',
  'stbartholomew':'st-bartholomew',
  'holycross':'holy-cross-day',
  'stmatthew':'st-matthew',
  'stmichaelallangels':'st-michael-&-all-angels',
  'stluke':'st-luke',
  'stjamesjerusalem':'st-james-of-jerusalem',
  'stssimonjude':'st-simon-&-st-jude',
  'allsaintsa':'all-saints-day',
  'allsaintsb':'all-saints-day',
      'allsaintsc':'all-saints-day',
  'thanksgivinga':'thanksgiving-day',
      'thanksgivingb':'thanksgiving-day',
      'thanksgivingc':'thanksgiving-day'
  }

  for day in convert_days.values():
    print(day)


#+END_SRC

#+RESULTS:
#+begin_example
first-sunday-of-advent
second-sunday-of-advent
third-sunday-of-advent
fourth-sunday-of-advent
christmas-day-i
christmas-day-ii
christmas-day-iii
first-sunday-after-christmas
holy-name
second-sunday-after-christmas
the-epiphany
first-sunday-after-epiphany
second-sunday-after-epiphany
third-sunday-after-epiphany
fourth-sunday-after-epiphany
fifth-sunday-after-epiphany
sixth-sunday-after-epiphany
seventh-sunday-after-epiphany
eighth-sunday-after-epiphany
last-sunday-after-the-epiphany
ash-wednesday
first-sunday-in-lent
second-sunday-in-lent
third-sunday-in-lent
fourth-sunday-in-lent
fifth-sunday-in-lent
palm-sunday-liturgy-of-the-word
palm-sunday-liturgy-of-the-palms
monday-in-holy-week
tuesday-in-holy-week
wednesday-in-holy-week
maundy-thursday
good-friday
holy-saturday
easter-day-the-great-vigil
easter-day-principal-service
easter-day-evening-service
monday-in-easter-week
tuesday-in-easter-week
wednesday-in-easter-week
thursday-in-easter-week
friday-in-easter-week
saturday-in-easter-week
second-sunday-of-easter
third-sunday-of-easter
fourth-sunday-of-easter
fifth-sunday-of-easter
sixth-sunday-of-easter
ascension-day
seventh-sunday-of-easter
day-of-pentecost-early-or-vigil-service
day-of-pentecost-principal-service
trinity-sunday
proper-1
proper-2
proper-3
proper-4
proper-5
proper-6
proper-7
proper-8
proper-9
proper-10
proper-11
proper-12
proper-13
proper-14
proper-15
proper-16
proper-17
proper-18
proper-19
proper-20
proper-21
proper-22
proper-23
proper-24
proper-25
proper-26
proper-27
proper-28
proper-29-christ-the-king
st-andrew
st-thomas
st-stephen
st-john
holy-innocents
confession-of-st-peter
conversion-of-st-paul
the-presentation
st-matthias
st-joseph
the-annunciation
st-mark
st-philip-&-st-james
the-visitation
st-barnabas
nativity-of-st-john-the-baptist
st-peter-&-st-paul
independence-day
st-mary-magdalene
st-james
the-transfiguration
st-mary-the-virgin
st-bartholomew
holy-cross-day
st-matthew
st-michael-&-all-angels
st-luke
st-james-of-jerusalem
st-simon-&-st-jude
all-saints-day
all-saints-day
all-saints-day
thanksgiving-day
thanksgiving-day
thanksgiving-day
#+end_example
**** Fix up firstReading -> reading
 find content -type f -exec sed -i 's/firstReading/first/g' {} +
 find content -type f -exec sed -i 's/secondReading/second/g' {} +
**** Fix up other contents
How to:
- M-x find-name-dired
  t = toggle mark
  Q = Query-Replace in files (space to replace)
  C-x-s to save some buffers
**** Hugo can access csv: generate year's liturgies automatically?!? Can't build new pages.
**** The xth Sunday after Pentecost would have to be computed differently each year
**** >can add proper preface to prayer a/b from json
**** >TODO: Handle canticles
**** >TODO: Choose alternate collect/reading
**** >TODO: rm shortcode psalm.md
**** DONE Move Shared Prayers todo's to shared prayers
** Generate liturgies from templates
*** Transform spreadsheet into json / dictionary for calculating dates
#+BEGIN_SRC python
  import csv, os, datetime, json
  srcfile = "src/calcdates.csv"
  outfile = "output/calcdates.json"

  dateOutputFormat = "%Y-%m-%d"
  colCode = 0
  colDxmaslast = 1
  colDepiphany = 2
  colDeaster = 3
  colDxmasnext = 4
  colMonth = 5
  colDay = 6

  count=0
  results = []
  with open(srcfile, "r") as f:
      reader = csv.reader(f)
      next(reader) # skip header line
      for row in reader:
          if row[colCode] == "": continue # Skip unused rows
          code = row[colCode].strip()

          value = row[colDxmaslast].strip()
          if value:
            results.append({'day':code, 'relative':'xmas-last', 'value':value})
            continue

          value = row[colDepiphany].strip()
          if value:
            results.append({'day':code, 'relative':'epiphany1', 'value':value})
            continue

          value = row[colDeaster].strip()
          if value:
            results.append({'day':code, 'relative':'easter', 'value':value})
            continue

          value = row[colDxmasnext].strip()
          if value:
            results.append({'day':code, 'relative':'xmas-next', 'value':value})
            continue


          month = row[colMonth].strip()
          day = row[colDay].strip()
          if month and day:
            results.append({'day':code, 'relative':'date', 'value':str(datetime.date(2000,int(month),int(day)))})
            continue


          # rowDate = datetime.datetime.strptime(row[dateColumn], '%m/%d/%y')
          # print ("Code = " + code)
          count+=1
  print ("Found " + str(count) + " records without calculation method (1=thanksgiving).")
  print ("Recorded " + str(len(results)))
  with open (outfile, "w") as t:
      t.write(json.dumps(results, indent=4))

#+END_SRC

#+RESULTS:
: Found 1 records without calculation method (1=thanksgiving).
: Recorded 112

*** Test out file format calcdate.json
#+BEGIN_SRC python
  import json

  def report(title, data):
         print(title + " (" + str(len(data)) + "): " + title + " = [\"" + '", "'.join(map(str, data)) + "\"]")

  def get_elements(data, name):
       results = []
       for i in data:
         if(i[name] not in results):
           results.append(i[name])
       return results

  def analyze(filename):
       print("--------------------")
       print("analyze: " + filename + "\n")

       with open(filename, "r") as f:
         data = f.read()
       table = json.loads(data)

       print ("Found " + str(len(table)) + " records")

       fields = []
       for r in table:
         for k in list(r):
           if k not in fields:
             fields.append(k)
       report("Fields: ", fields)

       report('relative', get_elements(table, 'relative'))

  analyze('output/calcdates.json')

#+END_SRC

#+RESULTS:
: --------------------
: analyze: output/calcdates.json
:
: Found 112 records
: Fields:  (3): Fields:  = ["day", "relative", "value"]
: relative (5): relative = ["xmas-last", "date", "epiphany1", "easter", "xmas-next"]
*** Generate compact form of calcdate.json
Still not so compact. Ugly to embed in source.
#+BEGIN_SRC python
  import json

  with open("output/calcdates.json", "r") as f:
    data = f.read()
    table = json.loads(data)
    print(json.dumps(table))


#+END_SRC

#+RESULTS:
: [{"day": "first-sunday-of-advent", "relative": "xmas-last", "value": "-28"}, {"day": "second-sunday-of-advent", "relative": "xmas-last", "value": "-21"}, {"day": "third-sunday-of-advent", "relative": "xmas-last", "value": "-14"}, {"day": "fourth-sunday-of-advent", "relative": "xmas-last", "value": "-7"}, {"day": "christmas-day-i", "relative": "date", "value": "2000-12-25"}, {"day": "christmas-day-ii", "relative": "date", "value": "2000-12-25"}, {"day": "christmas-day-iii", "relative": "date", "value": "2000-12-25"}, {"day": "first-sunday-after-christmas", "relative": "xmas-last", "value": "0"}, {"day": "holy-name", "relative": "date", "value": "2000-01-01"}, {"day": "second-sunday-after-christmas", "relative": "xmas-last", "value": "7"}, {"day": "the-epiphany", "relative": "date", "value": "2000-01-06"}, {"day": "first-sunday-after-epiphany", "relative": "epiphany1", "value": "0"}, {"day": "second-sunday-after-epiphany", "relative": "epiphany1", "value": "7"}, {"day": "third-sunday-after-epiphany", "relative": "epiphany1", "value": "14"}, {"day": "fourth-sunday-after-epiphany", "relative": "epiphany1", "value": "21"}, {"day": "fifth-sunday-after-epiphany", "relative": "epiphany1", "value": "28"}, {"day": "sixth-sunday-after-epiphany", "relative": "epiphany1", "value": "35"}, {"day": "seventh-sunday-after-epiphany", "relative": "epiphany1", "value": "42"}, {"day": "eighth-sunday-after-epiphany", "relative": "epiphany1", "value": "49"}, {"day": "last-sunday-after-the-epiphany", "relative": "easter", "value": "-49"}, {"day": "ash-wednesday", "relative": "easter", "value": "-46"}, {"day": "first-sunday-in-lent", "relative": "easter", "value": "-42"}, {"day": "second-sunday-in-lent", "relative": "easter", "value": "-35"}, {"day": "third-sunday-in-lent", "relative": "easter", "value": "-28"}, {"day": "fourth-sunday-in-lent", "relative": "easter", "value": "-21"}, {"day": "fifth-sunday-in-lent", "relative": "easter", "value": "-14"}, {"day": "palm-sunday-liturgy-of-the-word", "relative": "easter", "value": "-7"}, {"day": "palm-sunday-liturgy-of-the-palms", "relative": "easter", "value": "-7"}, {"day": "monday-in-holy-week", "relative": "easter", "value": "-6"}, {"day": "tuesday-in-holy-week", "relative": "easter", "value": "-5"}, {"day": "wednesday-in-holy-week", "relative": "easter", "value": "-4"}, {"day": "maundy-thursday", "relative": "easter", "value": "-3"}, {"day": "good-friday", "relative": "easter", "value": "-2"}, {"day": "holy-saturday", "relative": "easter", "value": "-1"}, {"day": "easter-day-the-great-vigil", "relative": "easter", "value": "-1"}, {"day": "easter-day-principal-service", "relative": "easter", "value": "0"}, {"day": "easter-day-evening-service", "relative": "easter", "value": "0"}, {"day": "monday-in-easter-week", "relative": "easter", "value": "1"}, {"day": "tuesday-in-easter-week", "relative": "easter", "value": "2"}, {"day": "wednesday-in-easter-week", "relative": "easter", "value": "3"}, {"day": "thursday-in-easter-week", "relative": "easter", "value": "4"}, {"day": "friday-in-easter-week", "relative": "easter", "value": "5"}, {"day": "saturday-in-easter-week", "relative": "easter", "value": "6"}, {"day": "second-sunday-of-easter", "relative": "easter", "value": "7"}, {"day": "third-sunday-of-easter", "relative": "easter", "value": "14"}, {"day": "fourth-sunday-of-easter", "relative": "easter", "value": "21"}, {"day": "fifth-sunday-of-easter", "relative": "easter", "value": "28"}, {"day": "sixth-sunday-of-easter", "relative": "easter", "value": "35"}, {"day": "ascension-day", "relative": "easter", "value": "39"}, {"day": "seventh-sunday-of-easter", "relative": "easter", "value": "42"}, {"day": "day-of-pentecost-early-or-vigil-service", "relative": "easter", "value": "49"}, {"day": "day-of-pentecost-principal-service", "relative": "easter", "value": "49"}, {"day": "trinity-sunday", "relative": "easter", "value": "56"}, {"day": "proper-1", "relative": "xmas-next", "value": "-231"}, {"day": "proper-2", "relative": "xmas-next", "value": "-224"}, {"day": "proper-3", "relative": "xmas-next", "value": "-217"}, {"day": "proper-4", "relative": "xmas-next", "value": "-210"}, {"day": "proper-5", "relative": "xmas-next", "value": "-203"}, {"day": "proper-6", "relative": "xmas-next", "value": "-196"}, {"day": "proper-7", "relative": "xmas-next", "value": "-189"}, {"day": "proper-8", "relative": "xmas-next", "value": "-182"}, {"day": "proper-9", "relative": "xmas-next", "value": "-175"}, {"day": "proper-10", "relative": "xmas-next", "value": "-168"}, {"day": "proper-11", "relative": "xmas-next", "value": "-161"}, {"day": "proper-12", "relative": "xmas-next", "value": "-154"}, {"day": "proper-13", "relative": "xmas-next", "value": "-147"}, {"day": "proper-14", "relative": "xmas-next", "value": "-140"}, {"day": "proper-15", "relative": "xmas-next", "value": "-133"}, {"day": "proper-16", "relative": "xmas-next", "value": "-126"}, {"day": "proper-17", "relative": "xmas-next", "value": "-119"}, {"day": "proper-18", "relative": "xmas-next", "value": "-112"}, {"day": "proper-19", "relative": "xmas-next", "value": "-105"}, {"day": "proper-20", "relative": "xmas-next", "value": "-98"}, {"day": "proper-21", "relative": "xmas-next", "value": "-91"}, {"day": "proper-22", "relative": "xmas-next", "value": "-84"}, {"day": "proper-23", "relative": "xmas-next", "value": "-77"}, {"day": "proper-24", "relative": "xmas-next", "value": "-70"}, {"day": "proper-25", "relative": "xmas-next", "value": "-63"}, {"day": "proper-26", "relative": "xmas-next", "value": "-56"}, {"day": "proper-27", "relative": "xmas-next", "value": "-49"}, {"day": "proper-28", "relative": "xmas-next", "value": "-42"}, {"day": "proper-29-christ-the-king", "relative": "xmas-next", "value": "-35"}, {"day": "st-andrew", "relative": "date", "value": "2000-11-30"}, {"day": "st-thomas", "relative": "date", "value": "2000-12-21"}, {"day": "st-stephen", "relative": "date", "value": "2000-12-26"}, {"day": "st-john", "relative": "date", "value": "2000-12-27"}, {"day": "holy-innocents", "relative": "date", "value": "2000-12-28"}, {"day": "confession-of-st-peter", "relative": "date", "value": "2000-01-18"}, {"day": "conversion-of-st-paul", "relative": "date", "value": "2000-01-25"}, {"day": "the-presentation", "relative": "date", "value": "2000-02-02"}, {"day": "st-matthias", "relative": "date", "value": "2000-02-24"}, {"day": "st-joseph", "relative": "date", "value": "2000-03-19"}, {"day": "the-annunciation", "relative": "date", "value": "2000-03-25"}, {"day": "st-mark", "relative": "date", "value": "2000-04-25"}, {"day": "st-philip-&-st-james", "relative": "date", "value": "2000-05-01"}, {"day": "the-visitation", "relative": "date", "value": "2000-05-31"}, {"day": "st-barnabas", "relative": "date", "value": "2000-06-11"}, {"day": "nativity-of-st-john-the-baptist", "relative": "date", "value": "2000-06-24"}, {"day": "st-peter-&-st-paul", "relative": "date", "value": "2000-06-29"}, {"day": "independence-day", "relative": "date", "value": "2000-07-04"}, {"day": "st-mary-magdalene", "relative": "date", "value": "2000-07-22"}, {"day": "st-james", "relative": "date", "value": "2000-07-25"}, {"day": "the-transfiguration", "relative": "date", "value": "2000-08-06"}, {"day": "st-mary-the-virgin", "relative": "date", "value": "2000-08-15"}, {"day": "st-bartholomew", "relative": "date", "value": "2000-08-24"}, {"day": "holy-cross-day", "relative": "date", "value": "2000-09-14"}, {"day": "st-matthew", "relative": "date", "value": "2000-09-21"}, {"day": "st-michael-&-all-angels", "relative": "date", "value": "2000-09-29"}, {"day": "st-luke", "relative": "date", "value": "2000-10-18"}, {"day": "st-james-of-jerusalem", "relative": "date", "value": "2000-10-23"}, {"day": "st-simon-&-st-jude", "relative": "date", "value": "2000-10-28"}, {"day": "all-saints-day", "relative": "date", "value": "2000-11-01"}]

*** Calculate Easter
#+BEGIN_SRC python
  from dateutil.easter import *

  print("Calculate Easter Sunday for:")
  years = (2021, 2022, 2018, 1991)
  for y in years:
    print (str(y) + ": " + str(easter(y)))

#+END_SRC

#+RESULTS:
: Calculate Easter Sunday for:
: 2021: 2021-04-04
: 2022: 2022-04-17
: 2018: 2018-04-01
: 1991: 1991-03-31

*** Calculate Sunday after Christmas
#+BEGIN_SRC python
  from dateutil.relativedelta import *
  from datetime import *
  import calendar

  def sundayafterchristmas(year):
    return date(year,12,26) + relativedelta(weekday=calendar.SUNDAY)

  print("Calculate Christmas Sunday for:")
  years = (2021, 2022, 2018, 1991)
  for y in years:
    print (str(y) + ": " + str(sundayafterchristmas(y)))

#+END_SRC

#+RESULTS:
: Calculate Christmas Sunday for:
: 2021: 2021-12-26
: 2022: 2023-01-01
: 2018: 2018-12-30
: 1991: 1991-12-29

*** Calculate dates
Notes:
- Does not move movable dates or pay attention to precedence
- Be sure to leave out:
  -  epiphanies that happen on or after last-sunday-after-the-epiphany
  - propers that happen on or before trinity-sunday
  - second-sunday-after-christmas if it occurs after the-epiphany
#+BEGIN_SRC python
  from dateutil.easter import *
  from dateutil.relativedelta import *
  from datetime import *
  import calendar
  import json

  calcdates = []
  with open("output/calcdates.json", "r") as f:
    data = f.read()
    calcdates = json.loads(data)

  def sundayafterchristmas(year):
    return date(year,12,26) + relativedelta(weekday=calendar.SUNDAY)

  def sundayafterepiphany(year):
    return date(year,1,7) + relativedelta(weekday=calendar.SUNDAY)

  def calcdate(method, value, year):
    # TODO default year to current
    # methods = ["xmas-last", "date", "eiphany1", "easter", "xmas-next"]
    if method == 'xmas-last':
      return sundayafterchristmas(year-1) + relativedelta(days=int(value))

    if method == 'xmas-next':
      return sundayafterchristmas(year) + relativedelta(days=int(value))

    if method == 'epiphany1':
      return sundayafterepiphany(year) + relativedelta(days=int(value))

    if method == 'easter':
      return easter(year) + relativedelta(days=int(value))

    if method == 'date':
      when = date.fromisoformat(value)
      return date(year, when.month, when.day)

    if method == 'thanksgiving-day':
      return date(year,11,22) + relativedelta(weekday=calendar.THURSDAY)

    raise Exception("Invalid method encountered: " + method)

  print("Thanksgiving 2012 = " + str(calcdate('thanksgiving-day', '', 2012)))
  print("Thanksgiving = " + str(calcdate('thanksgiving-day', '', 2021)))
  for d in calcdates:
    result = calcdate(d['relative'], d['value'], 2021)
    print (d['day'] + ": " + str(result))



#+END_SRC

#+RESULTS:
#+begin_example
Thanksgiving 2012 = 2012-11-22
Thanksgiving = 2021-11-25
first-sunday-of-advent: 2020-11-29
second-sunday-of-advent: 2020-12-06
third-sunday-of-advent: 2020-12-13
fourth-sunday-of-advent: 2020-12-20
christmas-day-i: 2021-12-25
christmas-day-ii: 2021-12-25
christmas-day-iii: 2021-12-25
first-sunday-after-christmas: 2020-12-27
holy-name: 2021-01-01
second-sunday-after-christmas: 2021-01-03
the-epiphany: 2021-01-06
first-sunday-after-epiphany: 2021-01-10
second-sunday-after-epiphany: 2021-01-17
third-sunday-after-epiphany: 2021-01-24
fourth-sunday-after-epiphany: 2021-01-31
fifth-sunday-after-epiphany: 2021-02-07
sixth-sunday-after-epiphany: 2021-02-14
seventh-sunday-after-epiphany: 2021-02-21
eighth-sunday-after-epiphany: 2021-02-28
last-sunday-after-the-epiphany: 2021-02-14
ash-wednesday: 2021-02-17
first-sunday-in-lent: 2021-02-21
second-sunday-in-lent: 2021-02-28
third-sunday-in-lent: 2021-03-07
fourth-sunday-in-lent: 2021-03-14
fifth-sunday-in-lent: 2021-03-21
palm-sunday-liturgy-of-the-word: 2021-03-28
palm-sunday-liturgy-of-the-palms: 2021-03-28
monday-in-holy-week: 2021-03-29
tuesday-in-holy-week: 2021-03-30
wednesday-in-holy-week: 2021-03-31
maundy-thursday: 2021-04-01
good-friday: 2021-04-02
holy-saturday: 2021-04-03
easter-day-the-great-vigil: 2021-04-03
easter-day-principal-service: 2021-04-04
easter-day-evening-service: 2021-04-04
monday-in-easter-week: 2021-04-05
tuesday-in-easter-week: 2021-04-06
wednesday-in-easter-week: 2021-04-07
thursday-in-easter-week: 2021-04-08
friday-in-easter-week: 2021-04-09
saturday-in-easter-week: 2021-04-10
second-sunday-of-easter: 2021-04-11
third-sunday-of-easter: 2021-04-18
fourth-sunday-of-easter: 2021-04-25
fifth-sunday-of-easter: 2021-05-02
sixth-sunday-of-easter: 2021-05-09
ascension-day: 2021-05-13
seventh-sunday-of-easter: 2021-05-16
day-of-pentecost-early-or-vigil-service: 2021-05-23
day-of-pentecost-principal-service: 2021-05-23
trinity-sunday: 2021-05-30
proper-1: 2021-05-09
proper-2: 2021-05-16
proper-3: 2021-05-23
proper-4: 2021-05-30
proper-5: 2021-06-06
proper-6: 2021-06-13
proper-7: 2021-06-20
proper-8: 2021-06-27
proper-9: 2021-07-04
proper-10: 2021-07-11
proper-11: 2021-07-18
proper-12: 2021-07-25
proper-13: 2021-08-01
proper-14: 2021-08-08
proper-15: 2021-08-15
proper-16: 2021-08-22
proper-17: 2021-08-29
proper-18: 2021-09-05
proper-19: 2021-09-12
proper-20: 2021-09-19
proper-21: 2021-09-26
proper-22: 2021-10-03
proper-23: 2021-10-10
proper-24: 2021-10-17
proper-25: 2021-10-24
proper-26: 2021-10-31
proper-27: 2021-11-07
proper-28: 2021-11-14
proper-29-christ-the-king: 2021-11-21
st-andrew: 2021-11-30
st-thomas: 2021-12-21
st-stephen: 2021-12-26
st-john: 2021-12-27
holy-innocents: 2021-12-28
confession-of-st-peter: 2021-01-18
conversion-of-st-paul: 2021-01-25
the-presentation: 2021-02-02
st-matthias: 2021-02-24
st-joseph: 2021-03-19
the-annunciation: 2021-03-25
st-mark: 2021-04-25
st-philip-&-st-james: 2021-05-01
the-visitation: 2021-05-31
st-barnabas: 2021-06-11
nativity-of-st-john-the-baptist: 2021-06-24
st-peter-&-st-paul: 2021-06-29
independence-day: 2021-07-04
st-mary-magdalene: 2021-07-22
st-james: 2021-07-25
the-transfiguration: 2021-08-06
st-mary-the-virgin: 2021-08-15
st-bartholomew: 2021-08-24
holy-cross-day: 2021-09-14
st-matthew: 2021-09-21
st-michael-&-all-angels: 2021-09-29
st-luke: 2021-10-18
st-james-of-jerusalem: 2021-10-23
st-simon-&-st-jude: 2021-10-28
all-saints-day: 2021-11-01
#+end_example

*** Calculate lectionary year
#+BEGIN_SRC python
  def lectionaryyear(year):
    # Working backwards, 1900 would be year a!
    if year < 1900:
      raise Exception ("Invalid year " + str(year) + ": only 1900 and later are supported.")
    year = (year - 1900) % 3
    if year == 0: return 'a'
    elif year == 1: return 'b'
    else: return 'c'


  for y in (2020, 2021, 2022, 2023,):
    print ("Year " + str(y) + " = year " + lectionaryyear(y))

#+END_SRC

#+RESULTS:
: Year 2020 = year a
: Year 2021 = year b
: Year 2022 = year c
: Year 2023 = year a

*** Get title from json
from bcpcollects.json
*** Build headers
Notes:
- Does not move movable dates or pay attention to precedence
- Be sure to leave out:
  -  epiphanies that happen on or after last-sunday-after-the-epiphany
  - propers that happen on or before trinity-sunday
  - second-sunday-after-christmas if it occurs after the-epiphany
- conclude header in template by adding (e.g.,):
  - rite: Holy Eucharist
  - bcppage: 355ff.
  - ---

#+BEGIN_SRC python
  from dateutil.easter import *
  from dateutil.relativedelta import *
  from datetime import *
  import calendar
  import json

  calcdates = []
  with open("output/calcdates.json", "r") as f:
    data = f.read()
    calcdates = json.loads(data)

  collects = []
  with open("output/bcpcollects.json", "r") as f:
    data = f.read()
    collects = json.loads(data)

  def sundayafterchristmas(year):
    return date(year,12,26) + relativedelta(weekday=calendar.SUNDAY)

  def sundayafterepiphany(year):
    return date(year,1,7) + relativedelta(weekday=calendar.SUNDAY)

  def getrecord(data, day):
    for i in data:
      if i['day'] == day:
        return i

  def liturgydate(day, year):
    # special case: thanksgiving-day on fourth Thursday in November
    if day == 'thanksgiving-day':
      return date(year,11,22) + relativedelta(weekday=calendar.THURSDAY)

    calculator = getrecord(calcdates, day)
    if not calculator:
      raise Exception ("Calculation data for day " + day + " not found.")
    method = calculator['relative']
    value = calculator['value']

    # methods = ["xmas-last", "date", "eiphany1", "easter", "xmas-next"]
    if method == 'xmas-last':
      return sundayafterchristmas(year-1) + relativedelta(days=int(value))

    if method == 'xmas-next':
      return sundayafterchristmas(year) + relativedelta(days=int(value))

    if method == 'epiphany1':
      return sundayafterepiphany(year) + relativedelta(days=int(value))

    if method == 'easter':
      return easter(year) + relativedelta(days=int(value))

    if method == 'date':
      when = date.fromisoformat(value)
      return date(year, when.month, when.day)

    raise Exception("Invalid method encountered: " + method)

  def lectionarytitle(day, year):
    collect = getrecord(collects, day)
    if not collect:
      raise Exception ("Title or day " + day + " not found.")
    return collect['title']

  def lectionaryyear(year):
    # Working backwards, 1900 would be year a!
    if year < 1900:
      raise Exception ("Invalid year " + str(year) + ": only 1900 and later are supported.")
    year = (year - 1900) % 3
    if year == 0: return 'a'
    elif year == 1: return 'b'
    else: return 'c'

  def header(day, year):
    result = "---\n"
    result += "title: " + lectionarytitle(day, year) + "\n"
    result += "date: " + str(liturgydate(day, year)) + "\n"
    result += "lectionaryyear: " + lectionaryyear(year) + "\n"
    result += "proper: " + day + "\n"
    return result

  print("Thanksgiving 2012 = " + str(liturgydate('thanksgiving-day',  2012)))
  print("Thanksgiving 2021 = " + str(liturgydate('thanksgiving-day',  2021)))
  print("Advent1 2021 = " + str(liturgydate('first-sunday-of-advent',  2021)))
  print (header('thanksgiving-day', 2021))



#+END_SRC

#+RESULTS:
: Thanksgiving 2012 = 2012-11-22
: Thanksgiving 2021 = 2021-11-25
: Advent1 2021 = 2020-11-29
: ---
: title: Thanksgiving Day
: date: 2021-11-25
: lectionaryyear: b
: proper: thanksgiving-day
:
*** Choose template
 Search hierarchy
  - directories: 2022 | yearc | default
	 - files: first-sunday-of-advent | advent |  default

  TODO How to distinguish between weekday & weekend?!? Just build weekends here at first.

#+BEGIN_SRC python
  from pathlib import Path

  templatesdir = "src/templates"

  seasons = ('advent', 'christmas', 'epiphany', 'lent', 'easter', 'proper')

  def lectionaryyear(year):
    year = int(year)
    # Working backwards, 1900 would be year a!
    if year < 1900:
      raise Exception ("Invalid year " + str(year) + ": only 1900 and later are supported.")
    year = (year - 1900) % 3
    if year == 0: return 'a'
    elif year == 1: return 'b'
    else: return 'c'

  def choosetemplateindir(day, year, directory):
    directory = templatesdir + "/" + directory
    candidate = Path(directory + "/" + day + ".txt")
    if candidate.is_file(): return candidate

    for s in seasons:
      if day.find(s) >= 0:
        candidate = Path(directory + "/" + s + ".txt")
        if candidate.is_file(): return candidate

    candidate = Path(directory + "/" + "default" + ".txt")
    if candidate.is_file(): return candidate

    return ""

  def choosetemplate(day, year):
    year = str(year)

    c = choosetemplateindir(day, year, year)
    if c: return str(c)

    c = choosetemplateindir(day, year, "year" + lectionaryyear(year))
    if c: return str(c)

    c = choosetemplateindir(day, year, "default")
    return str(c)

  print ("Thanksgiving Template chosen: " + choosetemplate('thanksgiving-day', 2022))
  print ("Proper-21 template chosen: " + choosetemplate('proper-21', 2022))

#+END_SRC

#+RESULTS:
: Thanksgiving Template chosen: src/templates/default/default.txt
: Proper-21 template chosen: src/templates/default/default.txt

*** Build from templates
Notes:
Conclude header in template by adding (e.g.,):
  - rite: Holy Eucharist
  - bcppage: 355ff.
  - ---
#+BEGIN_SRC python
  from dateutil.easter import *
  from dateutil.relativedelta import *
  from datetime import *
  import calendar
  import json
  from pathlib import Path

  templatesdir = "src/templates"
  calcdatesfile = 'output/calcdates.json'
  collectsfile = 'output/bcpcollects.json'
  seasons = ('advent', 'christmas', 'epiphany', 'lent', 'easter', 'proper')

  calcdates = []
  with open(calcdatesfile, "r") as f:
    data = f.read()
    calcdates = json.loads(data)

  collects = []
  with open(collectsfile, "r") as f:
    data = f.read()
    collects = json.loads(data)

  def sundayafterchristmas(year):
    return date(year,12,26) + relativedelta(weekday=calendar.SUNDAY)

  def sundayafterepiphany(year):
    return date(year,1,7) + relativedelta(weekday=calendar.SUNDAY)

  def getrecord(data, day):
    for i in data:
      if i['day'] == day:
        return i

  def liturgydate(day, year):
    # special case: thanksgiving-day on fourth Thursday in November
    if day == 'thanksgiving-day':
      return date(year,11,22) + relativedelta(weekday=calendar.THURSDAY)

    calculator = getrecord(calcdates, day)
    if not calculator:
      raise Exception ("Calculation data for day " + day + " not found.")
    method = calculator['relative']
    value = calculator['value']

    # methods = ["xmas-last", "date", "eiphany1", "easter", "xmas-next"]
    if method == 'xmas-last':
      return sundayafterchristmas(year-1) + relativedelta(days=int(value))

    if method == 'xmas-next':
      return sundayafterchristmas(year) + relativedelta(days=int(value))

    if method == 'epiphany1':
      return sundayafterepiphany(year) + relativedelta(days=int(value))

    if method == 'easter':
      return easter(year) + relativedelta(days=int(value))

    if method == 'date':
      when = date.fromisoformat(value)
      return date(year, when.month, when.day)

    raise Exception("Invalid method encountered: " + method)

  def lectionarytitle(day, year):
    collect = getrecord(collects, day)
    if not collect:
      raise Exception ("Title or day " + day + " not found.")
    return collect['title']

  def lectionaryyear(year):
    # Working backwards, 1900 would be year a!
    year = int(year)
    if year < 1900:
      raise Exception ("Invalid year " + str(year) + ": only 1900 and later are supported.")
    year = (year - 1900) % 3
    if year == 0: return 'a'
    elif year == 1: return 'b'
    else: return 'c'

  def header(day, year):
    result = "---\n"
    result += "title: " + lectionarytitle(day, year) + "\n"
    result += "date: " + str(liturgydate(day, year)) + "\n"
    result += "lectionaryyear: " + lectionaryyear(year) + "\n"
    result += "proper: " + day + "\n"
    return result



  def choosetemplateindir(day, year, directory):
    directory = templatesdir + "/" + directory
    candidate = Path(directory + "/" + day + ".txt")
    if candidate.is_file(): return candidate

    for s in seasons:
      if day.find(s) >= 0:
        candidate = Path(directory + "/" + s + ".txt")
        if candidate.is_file(): return candidate

    candidate = Path(directory + "/" + "default" + ".txt")
    if candidate.is_file(): return candidate

    return ""

  def choosetemplate(day, year):
    year = str(year)

    c = choosetemplateindir(day, year, year)
    if c: return str(c)

    c = choosetemplateindir(day, year, "year" + lectionaryyear(year))
    if c: return str(c)

    c = choosetemplateindir(day, year, "default")
    return str(c)


  def generateliturgy(day, year):
    result = header(day, year)
    template = choosetemplate('thanksgiving-day', 2022)
    with open(template, "r") as f:
      for line in f:
        result += line
    return result

  print (generateliturgy('thanksgiving-day', 2022))
  print ("-----------------------------------------")
  print (generateliturgy('proper-21', 2022))


#+END_SRC

#+RESULTS:
#+begin_example
---
title: Thanksgiving Day
date: 2022-11-24
lectionaryyear: c
proper: thanksgiving-day
rite: Holy Eucharist
bcppage: 355ff.
---

## We Gather in God's Name
{{% he/greeting/blessedbegod %}}
{{% he/collect-purity %}}
{{% he/songofpraise/gloriaexcelsis %}}
{{% he/propercollect %}}
{{% rubric-sit %}}

## We Hear God's Word
{{% lesson "first" /%}}
{{% he/psalm/responsively /%}}
{{% lesson "second" /%}}
{{% he/gospel /%}}
{{% he/homily/brief %}}

## We Respond in Faith
{{% he/creed/nicene %}}
{{% he/pop/hearourprayer %}}
{{% he/confession %}}
{{% he/peace %}}
{{% stt/announcements %}}

## We Offer Ourselves To God
{{% he/offertory %}}
{{% he/eucharisticprayer/a /%}}
{{% he/lordsprayer/1 %}}
{{% he/fraction/short %}}

## We Receive the Gift of God
{{% stt/2021/communion %}}
{{% he/postcommunion/eternal %}}
{{% he/blessing/thepeace %}}
{{% he/processional %}}
{{% he/dismissal/goinpeace %}}
{{% nrsv %}}

-----------------------------------------
---
title: Proper 21
date: 2022-10-02
lectionaryyear: c
proper: proper-21
rite: Holy Eucharist
bcppage: 355ff.
---

## We Gather in God's Name
{{% he/greeting/blessedbegod %}}
{{% he/collect-purity %}}
{{% he/songofpraise/gloriaexcelsis %}}
{{% he/propercollect %}}
{{% rubric-sit %}}

## We Hear God's Word
{{% lesson "first" /%}}
{{% he/psalm/responsively /%}}
{{% lesson "second" /%}}
{{% he/gospel /%}}
{{% he/homily/brief %}}

## We Respond in Faith
{{% he/creed/nicene %}}
{{% he/pop/hearourprayer %}}
{{% he/confession %}}
{{% he/peace %}}
{{% stt/announcements %}}

## We Offer Ourselves To God
{{% he/offertory %}}
{{% he/eucharisticprayer/a /%}}
{{% he/lordsprayer/1 %}}
{{% he/fraction/short %}}

## We Receive the Gift of God
{{% stt/2021/communion %}}
{{% he/postcommunion/eternal %}}
{{% he/blessing/thepeace %}}
{{% he/processional %}}
{{% he/dismissal/goinpeace %}}
{{% nrsv %}}

#+end_example

*** Loop over the whole year
- WARNING: doesn't handle thanksgiving
- Does not move movable dates or pay attention to precedence
- Be sure to leave out:
  -  epiphanies that happen on or after last-sunday-after-the-epiphany
  - propers that happen on or before trinity-sunday
  - second-sunday-after-christmas if it occurs after the-epiphany

#+BEGIN_SRC python
  from dateutil.easter import *
  from dateutil.relativedelta import *
  from datetime import *
  import calendar
  import json
  from pathlib import Path

  templatesdir = "src/templates"
  calcdatesfile = 'output/calcdates.json'
  collectsfile = 'output/bcpcollects.json'
  seasons = ('advent', 'christmas', 'epiphany', 'lent', 'easter', 'proper')

  calcdates = []
  with open(calcdatesfile, "r") as f:
    data = f.read()
    calcdates = json.loads(data)

  collects = []
  with open(collectsfile, "r") as f:
    data = f.read()
    collects = json.loads(data)

  def sundayafterchristmas(year):
    return date(year,12,26) + relativedelta(weekday=calendar.SUNDAY)

  def sundayafterepiphany(year):
    return date(year,1,7) + relativedelta(weekday=calendar.SUNDAY)

  def getrecord(data, day):
    for i in data:
      if i['day'] == day:
        return i

  def liturgydate(day, year):
    year = int(year)

    # special case: thanksgiving-day on fourth Thursday in November
    if day == 'thanksgiving-day':
      return date(year,11,22) + relativedelta(weekday=calendar.THURSDAY)

    calculator = getrecord(calcdates, day)
    if not calculator:
      raise Exception ("Calculation data for day " + day + " not found.")
    method = calculator['relative']
    value = calculator['value']

    # methods = ["xmas-last", "date", "eiphany1", "easter", "xmas-next"]
    if method == 'xmas-last':
      return sundayafterchristmas(year-1) + relativedelta(days=int(value))

    if method == 'xmas-next':
      return sundayafterchristmas(year) + relativedelta(days=int(value))

    if method == 'epiphany1':
      return sundayafterepiphany(year) + relativedelta(days=int(value))

    if method == 'easter':
      return easter(year) + relativedelta(days=int(value))

    if method == 'date':
      when = date.fromisoformat(value)
      return date(year, when.month, when.day)

    raise Exception("Invalid method encountered: " + method)

  def lectionarytitle(day, year):
    collect = getrecord(collects, day)
    if not collect:
      raise Exception ("Title or day " + day + " not found.")
    return collect['title']

  def lectionaryyear(year):
    # Working backwards, 1900 would be year a!
    year = int(year)
    if year < 1900:
      raise Exception ("Invalid year " + str(year) + ": only 1900 and later are supported.")
    year = (year - 1900) % 3
    if year == 0: return 'a'
    elif year == 1: return 'b'
    else: return 'c'

  def header(day, year):
    result = "---\n"
    result += "title: " + lectionarytitle(day, year) + "\n"
    result += "date: " + str(liturgydate(day, year)) + "\n"
    result += "lectionaryyear: " + lectionaryyear(year) + "\n"
    result += "proper: " + day + "\n"
    return result

  def choosetemplateindir(day, year, directory):
    directory = templatesdir + "/" + directory
    candidate = Path(directory + "/" + day + ".txt")
    if candidate.is_file(): return candidate

    for s in seasons:
      if day.find(s) >= 0:
        candidate = Path(directory + "/" + s + ".txt")
        if candidate.is_file(): return candidate

    candidate = Path(directory + "/" + "default" + ".txt")
    if candidate.is_file(): return candidate

    return ""

  def choosetemplate(day, year):
    year = str(year)

    c = choosetemplateindir(day, year, year)
    if c: return str(c)

    c = choosetemplateindir(day, year, "year" + lectionaryyear(year))
    if c: return str(c)

    c = choosetemplateindir(day, year, "default")
    return str(c)

  def generateliturgy(day, year):
    result = header(day, year)
    template = choosetemplate('thanksgiving-day', 2022)
    with open(template, "r") as f:
      for line in f:
        result += line
    return result

  def batchliturgies(year):
    for d in calcdates:
      dday = d['day']
      ddate = liturgydate(dday, year)

      # skip second-sunday-after-christmas if it occurs after the-epiphany
      if dday == 'second-sunday-after-christmas':
        if ddate > date(year,1,6):
          continue

      # skip epiphanies that happen on or after last-sunday-after-the-epiphany
      # exploiting a happy difference to not skip last-sunday-after-THE-epiphany
      if dday.find('after-epiphany') >= 0:
        if ddate >= liturgydate('last-sunday-after-the-epiphany', year):
          continue

      # skip propers that happen on or before trinity-sunday
      if dday.find('proper') >= 0:
        if ddate <=  liturgydate('trinity-sunday', year):
          continue

      print (dday + ": " + str(ddate))

  batchliturgies(2022)
  # print ("dates = " + ", ".join(map(str,calculateddates)))
  # print ("dates = " + str(len(calculateddates)))
  # print (generateliturgy('proper-21', 2022))
  print ("calcdates = " + str(len(calcdates)))


#+END_SRC

#+RESULTS:
#+begin_example
first-sunday-of-advent: 2021-11-28
second-sunday-of-advent: 2021-12-05
third-sunday-of-advent: 2021-12-12
fourth-sunday-of-advent: 2021-12-19
christmas-day-i: 2022-12-25
christmas-day-ii: 2022-12-25
christmas-day-iii: 2022-12-25
first-sunday-after-christmas: 2021-12-26
holy-name: 2022-01-01
second-sunday-after-christmas: 2022-01-02
the-epiphany: 2022-01-06
first-sunday-after-epiphany: 2022-01-09
second-sunday-after-epiphany: 2022-01-16
third-sunday-after-epiphany: 2022-01-23
fourth-sunday-after-epiphany: 2022-01-30
fifth-sunday-after-epiphany: 2022-02-06
sixth-sunday-after-epiphany: 2022-02-13
seventh-sunday-after-epiphany: 2022-02-20
last-sunday-after-the-epiphany: 2022-02-27
ash-wednesday: 2022-03-02
first-sunday-in-lent: 2022-03-06
second-sunday-in-lent: 2022-03-13
third-sunday-in-lent: 2022-03-20
fourth-sunday-in-lent: 2022-03-27
fifth-sunday-in-lent: 2022-04-03
palm-sunday-liturgy-of-the-word: 2022-04-10
palm-sunday-liturgy-of-the-palms: 2022-04-10
monday-in-holy-week: 2022-04-11
tuesday-in-holy-week: 2022-04-12
wednesday-in-holy-week: 2022-04-13
maundy-thursday: 2022-04-14
good-friday: 2022-04-15
holy-saturday: 2022-04-16
easter-day-the-great-vigil: 2022-04-16
easter-day-principal-service: 2022-04-17
easter-day-evening-service: 2022-04-17
monday-in-easter-week: 2022-04-18
tuesday-in-easter-week: 2022-04-19
wednesday-in-easter-week: 2022-04-20
thursday-in-easter-week: 2022-04-21
friday-in-easter-week: 2022-04-22
saturday-in-easter-week: 2022-04-23
second-sunday-of-easter: 2022-04-24
third-sunday-of-easter: 2022-05-01
fourth-sunday-of-easter: 2022-05-08
fifth-sunday-of-easter: 2022-05-15
sixth-sunday-of-easter: 2022-05-22
ascension-day: 2022-05-26
seventh-sunday-of-easter: 2022-05-29
day-of-pentecost-early-or-vigil-service: 2022-06-05
day-of-pentecost-principal-service: 2022-06-05
trinity-sunday: 2022-06-12
proper-6: 2022-06-19
proper-7: 2022-06-26
proper-8: 2022-07-03
proper-9: 2022-07-10
proper-10: 2022-07-17
proper-11: 2022-07-24
proper-12: 2022-07-31
proper-13: 2022-08-07
proper-14: 2022-08-14
proper-15: 2022-08-21
proper-16: 2022-08-28
proper-17: 2022-09-04
proper-18: 2022-09-11
proper-19: 2022-09-18
proper-20: 2022-09-25
proper-21: 2022-10-02
proper-22: 2022-10-09
proper-23: 2022-10-16
proper-24: 2022-10-23
proper-25: 2022-10-30
proper-26: 2022-11-06
proper-27: 2022-11-13
proper-28: 2022-11-20
proper-29-christ-the-king: 2022-11-27
st-andrew: 2022-11-30
st-thomas: 2022-12-21
st-stephen: 2022-12-26
st-john: 2022-12-27
holy-innocents: 2022-12-28
confession-of-st-peter: 2022-01-18
conversion-of-st-paul: 2022-01-25
the-presentation: 2022-02-02
st-matthias: 2022-02-24
st-joseph: 2022-03-19
the-annunciation: 2022-03-25
st-mark: 2022-04-25
st-philip-&-st-james: 2022-05-01
the-visitation: 2022-05-31
st-barnabas: 2022-06-11
nativity-of-st-john-the-baptist: 2022-06-24
st-peter-&-st-paul: 2022-06-29
independence-day: 2022-07-04
st-mary-magdalene: 2022-07-22
st-james: 2022-07-25
the-transfiguration: 2022-08-06
st-mary-the-virgin: 2022-08-15
st-bartholomew: 2022-08-24
holy-cross-day: 2022-09-14
st-matthew: 2022-09-21
st-michael-&-all-angels: 2022-09-29
st-luke: 2022-10-18
st-james-of-jerusalem: 2022-10-23
st-simon-&-st-jude: 2022-10-28
all-saints-day: 2022-11-01
calcdates = 112
#+end_example


*** bulkLiturgist: Build in bulk
- Does not move movable dates or pay attention to precedence

#+BEGIN_SRC python
  """Bulk Liturgist

  Produce liturgies for a particular year based on the liturgical
  calendar from the Book of Common Prayer (1979) for Sundays and
  Major Feasts.

  Required data sources are:
     - calcdates.json: info on how to calculate the calendar dates
       of Sundays & major feasts
     - bcpcollects.json: source of proper titles for Sundays/feasts
     - templatesdir : source of templates for how to generate each
       liturgy

  Usage
      bulkliturgist [year] [flags...]
      year = numeric year (e.g., 2022 will generate liturgies from
             Advent 1 (28 Nov 2021) through Proper 29/CTK (20 Nov 2022).
             Defaults to current year according to the liturgical
             calendar.

  Flags
     - --dry-run : don't write anything to disk
     - --past -p : generate liturgies even for dates already past
     - --templates | -t dir : directory for templates
     - --output | -o dir : directory for output
     - --day | -d day : code for liturgical day to generate

  The templates output, as origianlly implemented, are used to
  populate the website https://www.sharedprayers.net using
  the static website generator hugo (https://www.gohugo.io).

  Copyright 2021 Todd Foster

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
  """
  from dateutil.easter import *
  from dateutil.relativedelta import *
  from datetime import *
  import calendar
  import json
  from pathlib import Path
  import os

  calcdatesfile = 'output/calcdates.json'
  collectsfile = 'output/bcpcollects.json'
  seasons = ('advent', 'christmas', 'epiphany', 'lent', 'easter', 'proper')

  # Parameters can change these defaults:
  skip_past_dates = True  # Don't generate liturgies for days before date.today()
  dry_run = False
  only_day = ""
  templatesdir = "src/templates"
  outputdir = "output/2022"

  calcdates = []
  with open(calcdatesfile, "r") as f:
    data = f.read()
    calcdates = json.loads(data)

  collects = []
  with open(collectsfile, "r") as f:
    data = f.read()
    collects = json.loads(data)

  def sundayafterchristmas(year):
    return date(year,12,26) + relativedelta(weekday=calendar.SUNDAY)

  def sundayafterepiphany(year):
    return date(year,1,7) + relativedelta(weekday=calendar.SUNDAY)

  def getrecord(data, day):
    for i in data:
      if i['day'] == day:
        return i

  def liturgydate(day, year):
    """
    Calculate the calendar date for a liturgy in a liturgical year.

    Liturgical year begins on Advent 1 (fourth Sunday before
    Christmas). So liturgydate('first-sunday-of-advent', 2022)
    returns "2021-11-28".
    """
    year = int(year)

    # special case: thanksgiving-day on fourth Thursday in November
    if day == 'thanksgiving-day':
      return date(year,11,22) + relativedelta(weekday=calendar.THURSDAY)

    calculator = getrecord(calcdates, day)
    if not calculator:
      raise Exception ("Calculation data for day " + day + " not found.")
    method = calculator['relative']
    value = calculator['value']

    # methods = ["xmas-last", "date", "eiphany1", "easter", "xmas-next"]
    if method == 'xmas-last':
      return sundayafterchristmas(year-1) + relativedelta(days=int(value))

    if method == 'xmas-next':
      return sundayafterchristmas(year) + relativedelta(days=int(value))

    if method == 'epiphany1':
      return sundayafterepiphany(year) + relativedelta(days=int(value))

    if method == 'easter':
      return easter(year) + relativedelta(days=int(value))

    if method == 'date':
      when = date.fromisoformat(value)
      when = date(year, when.month, when.day)
      # correct for static dates that occur between advent 1 & turn of year
      if when > liturgydate('first-sunday-of-advent', year+1):
        when = date(year-1, when.month, when.day)
      return when

    raise Exception("Invalid method encountered: " + method)

  def lectionarytitle(day, year):
    collect = getrecord(collects, day)
    if not collect:
      raise Exception ("Title or day " + day + " not found.")
    return collect['title']

  def lectionaryyear(year):
    # Working backwards, 1900 would be year a!
    year = int(year)
    if year < 1900:
      raise Exception ("Invalid year " + str(year) + ": only 1900 and later are supported.")
    year = (year - 1900) % 3
    if year == 0: return 'a'
    elif year == 1: return 'b'
    else: return 'c'

  def header(day, year):
    result = "---\n"
    result += "title: " + lectionarytitle(day, year) + "\n"
    result += "date: " + str(liturgydate(day, year)) + "\n"
    result += "lectionaryyear: " + lectionaryyear(year) + "\n"
    result += "proper: " + day + "\n"
    return result

  def choosetemplateindir(day, year, directory):
    directory = templatesdir + "/" + directory
    candidate = Path(directory + "/" + day + ".txt")
    if candidate.is_file(): return candidate

    for s in seasons:
      if day.find(s) >= 0:
        candidate = Path(directory + "/" + s + ".txt")
        if candidate.is_file(): return candidate

    candidate = Path(directory + "/" + "default" + ".txt")
    if candidate.is_file(): return candidate

    return ""

  def choosetemplate(day, year):
    """
    Selects a template for the given liturgy

    Parameters
    ----------
    day : str
        The code for the day (e.g., first-sunday-of-advent)

    year : str
        The liturgical year. Days from first advent through the
        end of the year go with the following liturgical year.
        E.g., first-sunday-of-advent for year = 2022 occurs on
        28 November 2021. (This could also be passed as an int.)

    Chooses a template by looking in subdirectories of templatesdir,
    in order:
       - a directory named for the year (e.g., 2022)
       - yeara | yearb | yearc
       - default

    Inside each subdirectory, we look for a file named (in order):
       - with the code for the day (e.g., "first-sunday-of-advent.txt")
       - with the season for the day: 'advent.txt | christmas.txt |
         epiphany.txt | lent.txt | easter.txt | proper.txt
       - default.txt

    As soon as an appropriate file is found, its path/name is returned.
    """
    year = str(year)

    c = choosetemplateindir(day, year, year)
    if c: return str(c)

    c = choosetemplateindir(day, year, "year" + lectionaryyear(year))
    if c: return str(c)

    c = choosetemplateindir(day, year, "default")
    return str(c)

  def generateliturgy(day, year):
    result = header(day, year)
    template = choosetemplate(day, 2022)
    with open(template, "r") as f:
      for line in f:
        result += line
    return result

  def writeliturgy(day, when, year):
      if only_day and only_day != day:
        return

      if dry_run:
        print ("DRY RUN: Not writing liturgy for " + day + ": " + str(when))
        return

      print ("Writing liturgy for " + day + ": " + str(when))
      liturgy = generateliturgy(day, year)
      with open (outputdir + "/" + day + ".md", "w") as t:
        t.write(liturgy)
        t.write("\n")

  def majorliturgies(year):
    """
    Generate liturgies for Sundays and major feasts.
    """
    if not dry_run:
      os.makedirs(outputdir, exist_ok=True)

    for d in calcdates:
      dday = d['day']
      ddate = liturgydate(dday, year)

      # skip past dates?
      if skip_past_dates:
        if ddate < date.today():
          continue

      # skip second-sunday-after-christmas if it occurs after the-epiphany
      if dday == 'second-sunday-after-christmas':
        if ddate > date(year,1,6):
          continue

      # skip epiphanies that happen on or after last-sunday-after-the-epiphany
      # exploiting a fortuitous difference to not skip last-sunday-after-THE-epiphany
      if dday.find('after-epiphany') >= 0:
        if ddate >= liturgydate('last-sunday-after-the-epiphany', year):
          continue

      # skip propers that happen on or before trinity-sunday
      if dday.find('proper') >= 0:
        if ddate <=  liturgydate('trinity-sunday', year):
          continue

      writeliturgy(dday, ddate, year)

    # Add thanksgiving-day, which is not included in calcdates.json
    thanksgivingdate = liturgydate('thanksgiving-day', year)
    if thanksgivingdate > date.today() or not skip_past_dates:
      writeliturgy('thanksgiving-day', thanksgivingdate, year)



  majorliturgies(2021)

#+END_SRC

#+RESULTS:
: Writing liturgy for proper-28: 2021-11-14


***  Make into CLI
command line options for year, from beginning of year, no clobber, output directory, templates directory, dry-run

** Fix up lectionary page texts, needed for 2022
*** Start with old code: can clean it up?

#+BEGIN_SRC python
  import os, urllib.request, urllib.parse, re, shutil, time, subprocess
  from bs4 import BeautifulSoup
  import bs4

  def textfilename(ref):
      result = re.sub("[-,–.:;()\* \[\]]", "", ref)
      return result.casefold()

  refs = {}
  tagsInDivs = {}
  count = 0
  indentClasses = ["poetryText", "psalmText", "poetryIndent", "lessonIndent"]

  srcfiles = subprocess.check_output(["find ../lectionarypage.net -name *.html"], shell=True, text=True).split("\n")
  print("Count of files: " + str(len(srcfiles)))

  desthtml = "output/readings/lectionarypage.net/html/"
  desttext = "output/readings/lectionarypage.net/text/"
  destmark = "output/readings/lectionarypage.net/md/"
  os.makedirs(desthtml, exist_ok=True)
  os.makedirs(desttext, exist_ok=True)
  os.makedirs(destmark, exist_ok=True)

  for s in srcfiles:
      # Skip blank lines
      if len(s)==0:
        continue
      # print("Processing " + s)
      count = count + 1

      soup = False
      try:
          soup = BeautifulSoup(open(s), 'html.parser')
      except Exception:
          print ("FAILED to make BeautifulSoup for " + s)
          continue

      # retain linebreaks
      #for br in soup.find_all("br"):
          #br.replace_with("BREAK")

      for article in soup('article'):
          citations = article.find_all('h3', {'class': 'lessonCitation'})
          latin = article.find_all(class_='psalmLatin')
          latinTitle = ""
          psalmCount = 0
          divs = article.find_all('div')
          if (len(citations) != len(divs)):
              print("WARNING: citations ({}) > div's({}) in {}".format(len(citations), len(divs), s))
              continue
          for i in range(len(citations)):
              c = citations[i]
              d = divs[i]

              citation = c.string.strip()
              if ("Psalm" in citation):
                  try:
                      latinTitle = latin[psalmCount].getText()
                  except Exception:
                      print ("Failed to de-ref latin title {} in file {}".format(psalmCount, s))
                      print (latin)
                      print (d.getText())
                  psalmCount += 1

              filename = textfilename(citation)
              if filename in refs:
                  continue
              refs[filename] = citation

              if filename == "psalm98":
                  print ("Found psalm98 in " + s)

              with open (desthtml + filename + ".html", "w") as t:
                  if latinTitle:
                      t.write("<p class='psalmLatin'>{}</p>\n".format(latinTitle))
                  t.write("{}".format(d))

              # Fix up reading before exporting to plain text
              # Change small caps to all caps
              for e in d.find_all('span', {'class': 'lordSmallCaps'}):
                  e.string = e.getText().upper()
                  e.unwrap()
              # Remove initial caps
              for e in d.find_all('span', {'class': 'initCap'}):
                  e.unwrap()


              with open(desttext + filename + ".txt", "w") as t:
                  if latinTitle:
                      t.write("{}\n\n".format(latinTitle))
                  t.write(d.getText().lstrip())

              with open (destmark + filename, "w") as t:
                  if latinTitle:
                      t.write("_{}_\n".format(latinTitle))
                  lastClass = ""
                  psalmVerseOdd = True

                  # Error checking: these were eliminated
                  for e in d.contents:
                      if e == '\n':
                          continue
                      if (type(e) == bs4.element.NavigableString):
                          if (e.strip() != ''):
                              print ("TODO: Fix navigable string in {} ({}): {}".format(s, citation, e))
                          continue
                      if (type(e) != bs4.element.Tag):
                          if (type(e) != bs4.element.Comment):
                              print ("Non-tag in {}: {}:{}".format(s, type(e), e))
                          continue

                  wasIndented = False
                  prevEnding = ""
                  for e in d.descendants:
                      # More error checking: these were eliminated
                      if type(e) == bs4.element.NavigableString or type(e) == bs4.element.Comment:
                          continue
                      if e.name in tagsInDivs:
                          tagsInDivs[e.name] = tagsInDivs[e.name] + 1
                      else:
                          tagsInDivs[e.name] = 1
                      if (e.name == 'i'):
                          print("{}: {}".format(s,e))
                      if (e.name == 'blockquote'):
                          print("{}: {}".format(s,e))
                      if e.has_attr('class'):
                          cl = e.attrs['class'][0]
                          if cl in tagsInDivs:
                              tagsInDivs[cl] = tagsInDivs[cl] + 1
                          else:
                              tagsInDivs[cl] = 1
                          if cl != re.sub(r'[^a-zA-z]', '', cl):
                              print("TODO: bad class for tag {} in {}".format(e, s))
                          if cl == 'collectText':
                              print("TODO: bad class for tag {} in {}".format(e, s))

                      if (e.name == "br"):
                          #t.write('\n')
                          continue

                      line = ""
                      if ("Psalm" in citation):
                          text = e.getText().replace(" *", " \*  ")
                          if psalmVerseOdd:
                              line = line + "\n> " + text
                          else:
                              line = line + "\n> **" + text.strip() + "**\n"
                          line = line + "  "
                          psalmVerseOdd = not psalmVerseOdd
                      elif ("Canticle" in citation):
                          text = e.getText().strip().replace(" *", " \*").replace("\n", "  \n")
                          line = "> **" + text.strip() + "**\n"
                      else:
                          newClass = None
                          if e.has_attr('class'):
                             newClass = e.attrs['class'][0]
                          lineEnd = "\n\n"
                          if newClass in indentClasses:
                              line = line + "> "
                              lineEnd = "\n"
                              wasIndented = True
                          elif wasIndented:
                              line = line + "\n"
                              wasIndented = False
                          line = line + e.getText().replace("\n", " ").lstrip() + lineEnd
                          line = re.sub(r' +', ' ', line)
                      if len(line.strip()) > 0:
                          t.write(prevEnding + line.rstrip())
                          prevEnding = line[len(line.rstrip()):]
      #if count>0:
          #exit()

  print("Unique Refs count = " + str(len(refs)))
  print("Tags in div's: {}".format(tagsInDivs))


#+END_SRC

#+RESULTS:
: Count of files: 236
: Found psalm98 in ../lectionarypage.net/YearABC_RCL/Christmas/ChrsDay3_RCL.html
: FAILED to make BeautifulSoup for ../lectionarypage.net/YearC_RCL/Easter/CEasVigil_RCL.html
: FAILED to make BeautifulSoup for ../lectionarypage.net/YearB_RCL/Easter/BEasVigil_RCL.html
: FAILED to make BeautifulSoup for ../lectionarypage.net/YearA_RCL/Easter/AEasVigil_RCL.html
: Unique Refs count = 928
: Tags in div's: {'p': 5308, 'poetryText': 1334, 'br': 4590, 'psalmText': 2122, 'lessonText': 1461, 'poetryIndent': 283, 'lessonIndent': 16}
* 2022
** ABANDON combine hymnals into pretty json
*** Test out file format
#+BEGIN_SRC python
  import json

  def report(title, data):
         print(title + " (" + str(len(data)) + "): " + ', '.join(map(str, data)))

  def get_elements(data, name):
       results = []
       for i in data:
         if(i[name] not in results):
           results.append(i[name])
       return results

  def analyze(filename):
       print("--------------------")
       print("analyze: " + filename + "\n")

       with open(filename, "r") as f:
         data = f.read()
       j_data = json.loads(data)
       return j_data




  levas = analyze('../sharedprayers/data/levas.json')
  hymnal = analyze('../sharedprayers/data/hymnal1982.json')
  wlp = analyze('../sharedprayers/data/wlp.json')
  data = [levas, hymnal, wlp]

  with open ("../sharedprayers/data/hymnals.json", "w") as t:
      t.write(json.dumps(data, indent=4))


#+END_SRC

#+RESULTS:
: --------------------
: analyze: ../sharedprayers/data/levas.json
:
: --------------------
: analyze: ../sharedprayers/data/hymnal1982.json
:
: --------------------
: analyze: ../sharedprayers/data/wlp.json
:
** Integrate Lesser Feasts and Fasts
Considered gradually building toml data file beginning with the work I've already done in holydays. But why set myself up for more needless manual labor?

Found dates, bio's, maybe collects in venite.app, but not scriptures.

Have pdf of Lesser Feasts and Fasts 2018 which converts readily to text. Strategy:

*** DONE Find page separators: pdf has 584pp.: "\f"
CLOSED: [2022-02-05 Sat 14:45]
#+BEGIN_SRC python
  lines = 0
  pages = 0
  characters = 0
  with open("../../lectionarydata/raw/lff2018.txt", "r") as f:
      for line in f:
        lines += 1
        if '\f' in line:
            pages += 1
  print("{} lines on {} pages".format(lines, pages))
#+END_SRC

#+RESULTS:
: 17798 lines on 584 pages

*** Parse index to LFF2018 for authoritative date & name of each feast
Pp 7--18

#+BEGIN_SRC python
  from calendar import month_name

  page = 0
  index_start = 14
  index_end = 25
  characters = 0

  months = []
  for m in month_name[1:]:
      months += [m.upper()]


  def print_hex_chars(line_in):
      """Print hex characters so I can find & remove them."""
      for c in line_in:
          print(f"{c}: {ord(c):02x}")


  with open("../../lectionarydata/raw/lff2018.txt", "r", encoding="utf-8") as f:
      current_month = 0
      previous_record = {}
      for line in f:
          if "\f" in line:
              page += 1

          # skip to beginning of index
          if page < index_start:
              continue

          # found index
          if index_start <= page and page <= index_end:
              l = line.strip().replace("\x07", "")

              # Check for new month name
              if l in months:
                  current_month = months.index(l) + 1
                  print(f"current_month={current_month}")
                  continue
              if current_month < 0:
                  continue  # just in case

              # parse line in month -- sometimes lines have a linebreak!
              splits = l.split(" ", maxsplit=1)

              if len(splits) < 2:
                  continue
              day = splits[0]
              feast = splits[1].strip()
              if day.isnumeric() and int(day)<32:
                  print(f"{int(current_month):02}/{int(day):02}: {feast}")

          continue
          # Past index
          print("past index")
          break
  print("{} pages processed".format(page))
#+END_SRC

#+RESULTS:
#+begin_example
current_month=1
01/01: THE HOLY NAME OF OUR LORD JESUS CHRIST
01/04: [Elizabeth Ann Seton, Vowed Religious and Educator, 1821]
01/05: [Sarah, Theodora, and Syncletica of Egypt, Desert Mothers,
01/06: THE EPIPHANY OF OUR LORD JESUS CHRIST
01/08: Harriet Bedell, Deaconess and Missionary, 1969
01/09: Julia Chester Emery, Lay Leader and Missionary, 1922
01/10: William Laud, Archbishop of Canterbury, 1645
01/12: Aelred of Rievaulx, Monastic and Theologian, 1167
01/13: Hilary of Poitiers, Bishop, 367
01/14: [Richard Meux Benson, Priest, and Charles Gore, Bishop, 1915
01/17: Antony of Egypt, Monastic, 356
01/18: THE CONFESSION OF SAINT PETER THE APOSTLE
01/19: Wulfstan of Worcester, Bishop, 1095
01/20: Fabian, Bishop and Martyr, 250
01/21: Agnes [and Cecilia] of Rome, Martyrs, 304 [and c.230]
01/22: Vincent of Saragossa, Deacon and Martyr, 304
01/23: Phillips Brooks, Bishop, 1893
01/24: Florence Li Tim-Oi, Priest, 1992
01/25: THE CONVERSION OF SAINT PAUL THE APOSTLE
01/26: Timothy and Titus, Companions of Saint Paul
01/27: John Chrysostom, Bishop and Theologian, 407
01/28: Thomas Aquinas, Friar and Theologian, 1274
01/31: [Marcella of Rome, Monastic and Scholar, 410]
current_month=2
02/01: Brigid of Kildare, Monastic, c.523
02/02: THE PRESENTATION OF OUR LORD JESUS CHRIST
02/03: Anskar, Bishop and Missionary, 865
02/04: Cornelius the Centurion, or
02/05: The Martyrs of Japan, 1597, or
02/08: [Bakhita (Josephine Margaret Bakhita), Monastic, 1947]
02/10: [Scholastica, Monastic, 543]
02/11: [Theodora, Empress, c.867]
02/13: Absalom Jones, Priest, 1818
02/14: Cyril and Methodius, Missionaries, 869 and 885
02/15: Thomas Bray, Priest and Missionary, 1730
02/17: Janani Luwum, Archbishop and Martyr, 1977
02/18: Martin Luther, Pastor and Reformer, 1546
02/19: [Agnes Tsao Kou Ying, Agatha Lin Zhao, and Lucy Yi Zhenmei,
02/20: [Frederick Douglass, Social Reformer, 1895]
02/22: [Margaret of Cortona, Monastic, 1297]
02/23: Polycarp of Smyrna, Bishop and Martyr, 156
02/24: SAINT MATTHIAS THE APOSTLE
02/25: [Emily Malbone Morgan, Lay Leader and Contemplative, 1937]
02/26: [Photini, The Samaritan Woman, c.67]
02/27: George Herbert, Priest and Poet, 1633
02/28: Anna Julia Haywood Cooper, Educator, 1964
current_month=3
03/01: David of Wales, Bishop, c.544
03/02: Chad of Lichfield, Bishop, 672
03/03: John and Charles Wesley, Priests, 1791, 1788
03/07: Perpetua and Felicity, Martyrs, 202
03/09: Gregory of Nyssa, Bishop and Theologian, c.394
03/12: Gregory the Great, Bishop and Theologian, 604
03/13: James Theodore Holly, Bishop, 1911
03/15: [Vincent de Paul, Priest, and Louise de Marillac,
03/17: Patrick of Ireland, Bishop and Missionary, 461
03/18: Cyril of Jerusalem, Bishop and Theologian, 386
03/19: SAINT JOSEPH
03/20: Cuthbert, Bishop, 687
03/21: Thomas Ken, Bishop, 1711
03/22: James De Koven, Priest, 1879
03/23: Gregory the Illuminator, Bishop and Missionary, c.332
03/24: Óscar Romero, Archbishop and Martyr, 1980,
03/25: THE ANNUNCIATION OF OUR LORD JESUS CHRIST
03/26: [Harriet Monsell, Monastic, 1883]
03/27: Charles Henry Brent, Bishop, 1929
03/28: [James Solomon Russell, Priest, 1935]
03/29: John Keble, Priest and Poet, 1866
03/31: John Donne, Priest and Poet, 1631
current_month=4
04/01: Frederick Denison Maurice, Priest, 1872
04/02: James Lloyd Breck, Priest, 1876
04/03: Richard of Chichester, Bishop, 1253, or
04/04: Martin Luther King, Jr., Pastor and Martyr, 1968
04/05: [Harriet Starr Cannon, Monastic, 1896]
04/07: Tikhon, Bishop and Ecumenist, 1925
04/08: William Augustus Muhlenberg, Priest, 1877
04/09: Dietrich Bonhoeffer, Pastor and Theologian, 1945
04/10: William Law, Priest, 1761
04/11: George Augustus Selwyn, Bishop, 1878
04/14: [Zenaida, Philonella, and Hermione, Unmercenary Physicians,
04/15: [Damien, Priest, 1889 and Marianne Cope, Monastic 1918
04/16: [Peter Williams Cassey, Deacon, 1917 and Annie Besant Cassey, 1875]
04/17: [Kateri Tekakwitha, Lay Contemplative, 1680]
04/18: [Juana Inés de la Cruz, Monastic and Theologian, 1695]
04/19: Alphege, Archbishop of Canterbury and Martyr, 1012
04/21: Anselm, Archbishop of Canterbury and Theologian, 1109
04/22: [Hadewijch of Brabant, Poet and Mystic, thirteenth century]
04/23: [Toyohiko Kagawa, Social Reformer, 1960]
04/25: SAINT MARK THE EVANGELIST
04/27: [Zita of Tuscany, Worker of Charity, 1271]
04/29: Catherine of Siena, Mystic and Prophetic Witness, 1380
current_month=5
current_month=6
current_month=7
07/01: Pauli Murray, Priest, 1985
07/02: [Moses the Black, Monastic and Martyr, c.400]
07/04: INDEPENDENCE DAY (United States)
07/06: [Eva Lee Matthews, Monastic, 1928]
07/08: [Priscilla and Aquila, Coworkers of the Apostle Paul]
07/11: Benedict of Nursia, Monastic, c.543
07/14: [Argula von Grumbach, Scholar and Church Reformer, c.1554]
07/17: William White, Bishop, 1836
07/19: Macrina of Caesarea, Monastic and Teacher, 379
07/20: Elizabeth Cady Stanton, Amelia Bloomer, Sojourner Truth, and
07/21: [Maria Skobtsova, Monastic and Martyr, 1945]
07/22: SAINT MARY MAGDALENE
07/23: [John Cassian, Monastic and Theologian, 435]
07/24: Thomas à Kempis, Priest and Mystic, 1471
07/25: SAINT JAMES THE APOSTLE
07/26: The Parents of the Blessed Virgin Mary
07/27: William Reed Huntington, Priest, 1909
07/28: [Johann Sebastian Bach, Composer, 1750]
07/29: Mary and Martha of Bethany
07/30: William Wilberforce, Social Reformer, 1833
07/31: Ignatius of Loyola, Priest and Spiritual Writer, 1556
current_month=8
08/01: Joseph of Arimathea
08/03: [Joanna, Mary, and Salome, Myrrh-Bearing Women]
08/06: THE TRANSFIGURATION OF OUR LORD JESUS CHRIST
08/07: John Mason Neale, Priest and Hymnographer, 1866
08/08: Dominic, Priest and Friar, 1221
08/09: [Edith Stein (Teresa Benedicta of the Cross), Philosopher, Monastic,
08/10: Laurence of Rome, Deacon and Martyr, 258
08/11: Clare of Assisi, Monastic, 1253
08/12: Florence Nightingale, Nurse, 1910
08/13: Jeremy Taylor, Bishop and Theologian, 1667
08/14: Jonathan Myrick Daniels, Martyr, 1965
08/15: SAINT MARY THE VIRGIN,
08/18: William Porcher DuBose, Priest, 1918
08/20: Bernard of Clairvaux, Monastic and Theologian, 1153
08/24: SAINT BARTHOLOMEW THE APOSTLE
08/25: Louis, King, 1270
08/27: Thomas Gallaudet and Henry Winter Syle, Priests, 1902 and 1890
08/28: Augustine of Hippo, Bishop and Theologian, 430
08/29: [The Beheading of Saint John the Baptist]
08/30: [Margaret Ward, Margaret Clitherow, and Anne Line, Martyrs,
08/31: Aidan of Lindisfarne, Bishop, 651
current_month=9
09/01: David Pendleton Oakerhater, Deacon, 1931
09/02: The Martyrs of New Guinea, 1942
09/03: [Phoebe, Deacon]
09/04: Paul Jones, Bishop, 1941
09/05: [Katharina Zell, Church Reformer and Writer, 1562]
09/06: [Hannah More, Religious Writer and Philanthropist, 1833]
09/07: [Kassiani, Poet and Hymnographer, 865]
09/08: [The Nativity of the Blessed Virgin Mary]
09/09: Constance, Thecla, Ruth, Frances, Charles Parsons, and Louis
09/10: Alexander Crummell, Priest, 1898
09/12: John Henry Hobart, Bishop, 1830
09/13: Cyprian of Carthage, Bishop and Martyr, 258
09/14: HOLY CROSS DAY
09/15: [Catherine of Genoa, Mystic and Nurse, 1510]
09/16: Ninian, Bishop, c.430
09/17: Hildegard of Bingen, Mystic and Scholar, 1179
09/18: Edward Bouverie Pusey, Priest, 1882
09/19: Theodore of Tarsus, Archbishop of Canterbury, 690
09/20: John Coleridge Patteson, Bishop, and his Companions, Martyrs, 1871
09/21: SAINT MATTHEW, APOSTLE AND EVANGELIST
09/22: Philander Chase, Bishop, 1852
09/23: [Thecla of Iconium, Proto-Martyr Among Women, c.70]
09/24: [Anna Ellison Butler Alexander, Deaconess and Teacher, 1947]
09/25: Sergius of Radonezh, Monastic, 1392
09/26: Lancelot Andrewes, Bishop, 1626
09/27: Euphrosyne/Smaragdus of Alexandria, Monastic, fifth century]
09/28: [Paula and Eustochium of Rome, Monastics and Scholars, 404
09/29: SAINT MICHAEL AND ALL ANGELS
09/30: Jerome, Priest and Scholar, 420
current_month=10
10/01: Remigius of Rheims, Bishop, c.530, or
10/03: [John Raleigh Mott, Ecumenist and Missionary, 1955]
10/04: Francis of Assisi, Friar and Deacon, 1226
10/06: William Tyndale, Priest, 1536
10/07: [Birgitta of Sweden, Mystic, 1373]
10/09: Robert Grosseteste, Bishop, 1253
10/10: Vida Dutton Scudder, Educator, 1954
10/11: Philip, Deacon and Evangelist
10/12: [Edith Cavell, Nurse, 1915]
10/14: Samuel Isaac Joseph Schereschewsky, Bishop and Missionary, 1906
10/15: Teresa of Avila, Mystic and Monastic Reformer, 1582
10/16: Hugh Latimer and Nicholas Ridley, Bishops and Martyrs, 1555,
10/17: Ignatius of Antioch, Bishop and Martyr, c.115
10/18: SAINT LUKE THE EVANGELIST
10/19: Henry Martyn, Priest and Missionary, 1812
10/23: SAINT JAMES OF JERUSALEM,
10/25: [Tabitha (Dorcas) of Joppa]
10/26: Alfred, King, 899
10/28: SAINT SIMON AND SAINT JUDE, Apostles
10/29: James Hannington, Bishop, and his Companions, Martyrs, 1885
10/30: [Maryam of Qidun, Monastic, fourth century]
current_month=11
11/01: ALL SAINTS
11/02: All Souls/All the Faithful Departed
11/03: Richard Hooker, Priest and Theologian, 1600
11/06: William Temple, Archbishop of Canterbury, 1944
11/07: Willibrord, Bishop and Missionary, 739
11/08: [Ammonius, Hermit, c.403]
11/09: [Richard Rolle, Walter Hilton, and Margery Kempe, Mystics,
11/10: Leo of Rome, Bishop, 461
11/11: Martin of Tours, Bishop, 397
11/12: Charles Simeon, Priest, 1836
11/14: The Consecration of Samuel Seabury, 1784
11/15: [Herman of Alaska, Missionary, 1837]
11/16: Margaret of Scotland, Queen, 1093
11/17: Hugh of Lincoln, Bishop, 1200
11/18: Hilda of Whitby, Abbess, 680
11/19: Elizabeth of Hungary, Princess, 1231
11/20: Edmund, King, 870
11/21: [Mechthilde of Hackeborn and Gertrude the Great, Mystics and
11/22: Clive Staples Lewis, Apologist and Spiritual Writer, 1963
11/23: Clement of Rome, Bishop, c.100
11/24: [Catherine of Alexandria, Barbara of Nicomedia, and
11/25: James Otis Sargent Huntington, Monastic and Priest, 1935
11/28: Kamehameha and Emma of Hawaii, King and Queen, 1863 and 1885
11/30: SAINT ANDREW THE APOSTLE
current_month=12
12/01: Nicholas Ferrar, Deacon, 1637, or
12/02: Channing Moore Williams, Bishop and Missionary, 1910
12/03: [Francis Xavier, Priest and Missionary, 1552]
12/04: John of Damascus, Priest and Theologian, c.760
12/05: Clement of Alexandria, Priest and Theologian, c.210
12/06: Nicholas of Myra, Bishop, c.342
12/07: Ambrose of Milan, Bishop and Theologian, 397
12/12: [Francis de Sales, Bishop, and Jane de Chantal, Vowed Religious,
12/13: [Lucy of Syracuse, Martyr, 304]
12/14: [John of the Cross, Mystic and Monastic Reformer, 1591]
12/15: [Nino of Georgia, Missionary, c.332]
12/17: [Dorothy L Sayers, Apologist and Spiritual Writer, 1957]
12/20: [Katharina von Bora, Church Reformer, 1552]
12/21: SAINT THOMAS THE APOSTLE
12/25: THE NATIVITY OF OUR LORD JESUS CHRIST
12/26: SAINT STEPHEN, DEACON AND MARTYR
12/27: SAINT JOHN, APOSTLE AND EVANGELIST
12/28: HOLY INNOCENTS
12/29: Thomas Becket, Archbishop of Canterbury and Martyr, 1170
12/31: Frances Joseph Gaudet, Educator and Social Reformer, 1934
584 pages processed
#+end_example

*** How to choose slugs? Halfway manual?
*** Find main page for each feast
- preceding page is bio
- page with name at top has two collects, scriptures, preface



#+BEGIN_SRC python
  lines = 0
  pages = 0
  characters = 0
  with open("../../lectionarydata/raw/lff2018.txt", "r") as f:
      for line in f:
        lines += 1
        if '\f' in line:
            pages += 1
  print("{} lines on {} pages".format(lines, pages))
#+END_SRC

#+RESULTS:
: 17798 lines on 584 pages
